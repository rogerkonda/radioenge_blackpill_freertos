ARM GAS  /tmp/ccSAnDQs.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f4xx_ll_usb.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c"
  20              		.section	.text.USB_CoreInit,"ax",%progbits
  21              		.align	1
  22              		.global	USB_CoreInit
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	USB_CoreInit:
  28              	.LFB216:
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @file    stm32f4xx_ll_usb.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @attention
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Copyright (c) 2016 STMicroelectronics.
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * All rights reserved.
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * This software is licensed under terms that can be found in the LICENSE file
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * in the root directory of this software component.
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @verbatim
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     ##### How to use this driver #####
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
ARM GAS  /tmp/ccSAnDQs.s 			page 2


  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @endverbatim
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #include "stm32f4xx_hal.h"
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @addtogroup STM32F4xx_LL_USB_DRIVER
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Initialization/de-initialization functions
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *  @brief    Initialization and Configuration functions
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @verbatim
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                       ##### Initialization/de-initialization functions #####
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @endverbatim
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg pointer to a USB_OTG_CfgTypeDef structure that contains
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
  29              		.loc 1 84 1
  30              		.cfi_startproc
  31              		@ args = 56, pretend = 16, frame = 16
ARM GAS  /tmp/ccSAnDQs.s 			page 3


  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 84B0     		sub	sp, sp, #16
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36 0002 80B5     		push	{r7, lr}
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  39              		.cfi_offset 7, -24
  40              		.cfi_offset 14, -20
  41 0004 84B0     		sub	sp, sp, #16
  42              	.LCFI2:
  43              		.cfi_def_cfa_offset 40
  44 0006 00AF     		add	r7, sp, #0
  45              	.LCFI3:
  46              		.cfi_def_cfa_register 7
  47 0008 7860     		str	r0, [r7, #4]
  48 000a 07F11C00 		add	r0, r7, #28
  49 000e 80E80E00 		stm	r0, {r1, r2, r3}
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
  50              		.loc 1 86 10
  51 0012 3B6B     		ldr	r3, [r7, #48]
  52              		.loc 1 86 6
  53 0014 012B     		cmp	r3, #1
  54 0016 22D1     		bne	.L2
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  55              		.loc 1 88 9
  56 0018 7B68     		ldr	r3, [r7, #4]
  57 001a 9B6B     		ldr	r3, [r3, #56]
  58              		.loc 1 88 17
  59 001c 23F48032 		bic	r2, r3, #65536
  60 0020 7B68     		ldr	r3, [r7, #4]
  61 0022 9A63     		str	r2, [r3, #56]
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Init The ULPI Interface */
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL);
  62              		.loc 1 91 9
  63 0024 7B68     		ldr	r3, [r7, #4]
  64 0026 DB68     		ldr	r3, [r3, #12]
  65              		.loc 1 91 19
  66 0028 23F48403 		bic	r3, r3, #4325376
  67 002c 23F04003 		bic	r3, r3, #64
  68 0030 7A68     		ldr	r2, [r7, #4]
  69 0032 D360     		str	r3, [r2, #12]
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select vbus source */
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
  70              		.loc 1 94 9
  71 0034 7B68     		ldr	r3, [r7, #4]
  72 0036 DB68     		ldr	r3, [r3, #12]
  73              		.loc 1 94 19
  74 0038 23F44012 		bic	r2, r3, #3145728
  75 003c 7B68     		ldr	r3, [r7, #4]
  76 003e DA60     		str	r2, [r3, #12]
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.use_external_vbus == 1U)
  77              		.loc 1 95 12
ARM GAS  /tmp/ccSAnDQs.s 			page 4


  78 0040 FB6C     		ldr	r3, [r7, #76]
  79              		.loc 1 95 8
  80 0042 012B     		cmp	r3, #1
  81 0044 05D1     		bne	.L3
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GUSBCFG |= USB_OTG_GUSBCFG_ULPIEVBUSD;
  82              		.loc 1 97 11
  83 0046 7B68     		ldr	r3, [r7, #4]
  84 0048 DB68     		ldr	r3, [r3, #12]
  85              		.loc 1 97 21
  86 004a 43F48012 		orr	r2, r3, #1048576
  87 004e 7B68     		ldr	r3, [r7, #4]
  88 0050 DA60     		str	r2, [r3, #12]
  89              	.L3:
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select */
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  90              		.loc 1 101 11
  91 0052 7868     		ldr	r0, [r7, #4]
  92 0054 FFF7FEFF 		bl	USB_CoreReset
  93 0058 0346     		mov	r3, r0
  94 005a FB73     		strb	r3, [r7, #15]
  95 005c 1AE0     		b	.L4
  96              	.L2:
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* FS interface (embedded Phy) */
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select FS Embedded PHY */
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  97              		.loc 1 106 9
  98 005e 7B68     		ldr	r3, [r7, #4]
  99 0060 DB68     		ldr	r3, [r3, #12]
 100              		.loc 1 106 19
 101 0062 43F04002 		orr	r2, r3, #64
 102 0066 7B68     		ldr	r3, [r7, #4]
 103 0068 DA60     		str	r2, [r3, #12]
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select */
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
 104              		.loc 1 109 11
 105 006a 7868     		ldr	r0, [r7, #4]
 106 006c FFF7FEFF 		bl	USB_CoreReset
 107 0070 0346     		mov	r3, r0
 108 0072 FB73     		strb	r3, [r7, #15]
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.battery_charging_enable == 0U)
 109              		.loc 1 111 12
 110 0074 3B6C     		ldr	r3, [r7, #64]
 111              		.loc 1 111 8
 112 0076 002B     		cmp	r3, #0
 113 0078 06D1     		bne	.L5
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Activate the USB Transceiver */
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG |= USB_OTG_GCCFG_PWRDWN;
 114              		.loc 1 114 11
 115 007a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccSAnDQs.s 			page 5


 116 007c 9B6B     		ldr	r3, [r3, #56]
 117              		.loc 1 114 19
 118 007e 43F48032 		orr	r2, r3, #65536
 119 0082 7B68     		ldr	r3, [r7, #4]
 120 0084 9A63     		str	r2, [r3, #56]
 121 0086 05E0     		b	.L4
 122              	.L5:
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Deactivate the USB Transceiver */
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
 123              		.loc 1 119 11
 124 0088 7B68     		ldr	r3, [r7, #4]
 125 008a 9B6B     		ldr	r3, [r3, #56]
 126              		.loc 1 119 19
 127 008c 23F48032 		bic	r2, r3, #65536
 128 0090 7B68     		ldr	r3, [r7, #4]
 129 0092 9A63     		str	r2, [r3, #56]
 130              	.L4:
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 131              		.loc 1 123 10
 132 0094 BB6A     		ldr	r3, [r7, #40]
 133              		.loc 1 123 6
 134 0096 012B     		cmp	r3, #1
 135 0098 0BD1     		bne	.L6
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_HBSTLEN_2;
 136              		.loc 1 125 9
 137 009a 7B68     		ldr	r3, [r7, #4]
 138 009c 9B68     		ldr	r3, [r3, #8]
 139              		.loc 1 125 19
 140 009e 43F00602 		orr	r2, r3, #6
 141 00a2 7B68     		ldr	r3, [r7, #4]
 142 00a4 9A60     		str	r2, [r3, #8]
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 143              		.loc 1 126 9
 144 00a6 7B68     		ldr	r3, [r7, #4]
 145 00a8 9B68     		ldr	r3, [r3, #8]
 146              		.loc 1 126 19
 147 00aa 43F02002 		orr	r2, r3, #32
 148 00ae 7B68     		ldr	r3, [r7, #4]
 149 00b0 9A60     		str	r2, [r3, #8]
 150              	.L6:
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 151              		.loc 1 129 10
 152 00b2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 153              		.loc 1 130 1
 154 00b4 1846     		mov	r0, r3
 155 00b6 1037     		adds	r7, r7, #16
 156              	.LCFI4:
ARM GAS  /tmp/ccSAnDQs.s 			page 6


 157              		.cfi_def_cfa_offset 24
 158 00b8 BD46     		mov	sp, r7
 159              	.LCFI5:
 160              		.cfi_def_cfa_register 13
 161              		@ sp needed
 162 00ba BDE88040 		pop	{r7, lr}
 163              	.LCFI6:
 164              		.cfi_restore 14
 165              		.cfi_restore 7
 166              		.cfi_def_cfa_offset 16
 167 00be 04B0     		add	sp, sp, #16
 168              	.LCFI7:
 169              		.cfi_def_cfa_offset 0
 170 00c0 7047     		bx	lr
 171              		.cfi_endproc
 172              	.LFE216:
 174              		.section	.text.USB_SetTurnaroundTime,"ax",%progbits
 175              		.align	1
 176              		.global	USB_SetTurnaroundTime
 177              		.syntax unified
 178              		.thumb
 179              		.thumb_func
 181              	USB_SetTurnaroundTime:
 182              	.LFB217:
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Set the USB turnaround time
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hclk: AHB clock frequency
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval USB turnaround time In PHY Clocks number
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetTurnaroundTime(USB_OTG_GlobalTypeDef *USBx,
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                         uint32_t hclk, uint8_t speed)
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 183              		.loc 1 141 1
 184              		.cfi_startproc
 185              		@ args = 0, pretend = 0, frame = 24
 186              		@ frame_needed = 1, uses_anonymous_args = 0
 187              		@ link register save eliminated.
 188 0000 80B4     		push	{r7}
 189              	.LCFI8:
 190              		.cfi_def_cfa_offset 4
 191              		.cfi_offset 7, -4
 192 0002 87B0     		sub	sp, sp, #28
 193              	.LCFI9:
 194              		.cfi_def_cfa_offset 32
 195 0004 00AF     		add	r7, sp, #0
 196              	.LCFI10:
 197              		.cfi_def_cfa_register 7
 198 0006 F860     		str	r0, [r7, #12]
 199 0008 B960     		str	r1, [r7, #8]
 200 000a 1346     		mov	r3, r2
 201 000c FB71     		strb	r3, [r7, #7]
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t UsbTrd;
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* The USBTRD is configured according to the tables below, depending on AHB frequency
ARM GAS  /tmp/ccSAnDQs.s 			page 7


 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   used by application. In the low AHB frequency range it is used to stretch enough the USB response
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   time to IN tokens, the USB turnaround time, so to compensate for the longer AHB read access
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   latency to the Data FIFO */
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (speed == USBD_FS_SPEED)
 202              		.loc 1 148 6
 203 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 204 0010 022B     		cmp	r3, #2
 205 0012 65D1     		bne	.L9
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((hclk >= 14200000U) && (hclk < 15000000U))
 206              		.loc 1 150 8
 207 0014 BB68     		ldr	r3, [r7, #8]
 208 0016 414A     		ldr	r2, .L23
 209 0018 9342     		cmp	r3, r2
 210 001a 06D9     		bls	.L10
 211              		.loc 1 150 29 discriminator 1
 212 001c BB68     		ldr	r3, [r7, #8]
 213 001e 404A     		ldr	r2, .L23+4
 214 0020 9342     		cmp	r3, r2
 215 0022 02D2     		bcs	.L10
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 14.2-15 MHz */
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xFU;
 216              		.loc 1 153 14
 217 0024 0F23     		movs	r3, #15
 218 0026 7B61     		str	r3, [r7, #20]
 219 0028 62E0     		b	.L20
 220              	.L10:
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 15000000U) && (hclk < 16000000U))
 221              		.loc 1 155 13
 222 002a BB68     		ldr	r3, [r7, #8]
 223 002c 3C4A     		ldr	r2, .L23+4
 224 002e 9342     		cmp	r3, r2
 225 0030 06D3     		bcc	.L12
 226              		.loc 1 155 34 discriminator 1
 227 0032 BB68     		ldr	r3, [r7, #8]
 228 0034 3B4A     		ldr	r2, .L23+8
 229 0036 9342     		cmp	r3, r2
 230 0038 02D2     		bcs	.L12
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 15-16 MHz */
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xEU;
 231              		.loc 1 158 14
 232 003a 0E23     		movs	r3, #14
 233 003c 7B61     		str	r3, [r7, #20]
 234 003e 57E0     		b	.L20
 235              	.L12:
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 16000000U) && (hclk < 17200000U))
 236              		.loc 1 160 13
 237 0040 BB68     		ldr	r3, [r7, #8]
 238 0042 384A     		ldr	r2, .L23+8
 239 0044 9342     		cmp	r3, r2
 240 0046 06D3     		bcc	.L13
 241              		.loc 1 160 34 discriminator 1
 242 0048 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccSAnDQs.s 			page 8


 243 004a 374A     		ldr	r2, .L23+12
 244 004c 9342     		cmp	r3, r2
 245 004e 02D2     		bcs	.L13
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 16-17.2 MHz */
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xDU;
 246              		.loc 1 163 14
 247 0050 0D23     		movs	r3, #13
 248 0052 7B61     		str	r3, [r7, #20]
 249 0054 4CE0     		b	.L20
 250              	.L13:
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 17200000U) && (hclk < 18500000U))
 251              		.loc 1 165 13
 252 0056 BB68     		ldr	r3, [r7, #8]
 253 0058 334A     		ldr	r2, .L23+12
 254 005a 9342     		cmp	r3, r2
 255 005c 06D3     		bcc	.L14
 256              		.loc 1 165 34 discriminator 1
 257 005e BB68     		ldr	r3, [r7, #8]
 258 0060 324A     		ldr	r2, .L23+16
 259 0062 9342     		cmp	r3, r2
 260 0064 02D8     		bhi	.L14
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 17.2-18.5 MHz */
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xCU;
 261              		.loc 1 168 14
 262 0066 0C23     		movs	r3, #12
 263 0068 7B61     		str	r3, [r7, #20]
 264 006a 41E0     		b	.L20
 265              	.L14:
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 18500000U) && (hclk < 20000000U))
 266              		.loc 1 170 13
 267 006c BB68     		ldr	r3, [r7, #8]
 268 006e 2F4A     		ldr	r2, .L23+16
 269 0070 9342     		cmp	r3, r2
 270 0072 06D9     		bls	.L15
 271              		.loc 1 170 34 discriminator 1
 272 0074 BB68     		ldr	r3, [r7, #8]
 273 0076 2E4A     		ldr	r2, .L23+20
 274 0078 9342     		cmp	r3, r2
 275 007a 02D8     		bhi	.L15
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 18.5-20 MHz */
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xBU;
 276              		.loc 1 173 14
 277 007c 0B23     		movs	r3, #11
 278 007e 7B61     		str	r3, [r7, #20]
 279 0080 36E0     		b	.L20
 280              	.L15:
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 20000000U) && (hclk < 21800000U))
 281              		.loc 1 175 13
 282 0082 BB68     		ldr	r3, [r7, #8]
 283 0084 2A4A     		ldr	r2, .L23+20
 284 0086 9342     		cmp	r3, r2
ARM GAS  /tmp/ccSAnDQs.s 			page 9


 285 0088 06D9     		bls	.L16
 286              		.loc 1 175 34 discriminator 1
 287 008a BB68     		ldr	r3, [r7, #8]
 288 008c 294A     		ldr	r2, .L23+24
 289 008e 9342     		cmp	r3, r2
 290 0090 02D8     		bhi	.L16
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 20-21.8 MHz */
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xAU;
 291              		.loc 1 178 14
 292 0092 0A23     		movs	r3, #10
 293 0094 7B61     		str	r3, [r7, #20]
 294 0096 2BE0     		b	.L20
 295              	.L16:
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 21800000U) && (hclk < 24000000U))
 296              		.loc 1 180 13
 297 0098 BB68     		ldr	r3, [r7, #8]
 298 009a 264A     		ldr	r2, .L23+24
 299 009c 9342     		cmp	r3, r2
 300 009e 06D9     		bls	.L17
 301              		.loc 1 180 34 discriminator 1
 302 00a0 BB68     		ldr	r3, [r7, #8]
 303 00a2 254A     		ldr	r2, .L23+28
 304 00a4 9342     		cmp	r3, r2
 305 00a6 02D2     		bcs	.L17
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 21.8-24 MHz */
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x9U;
 306              		.loc 1 183 14
 307 00a8 0923     		movs	r3, #9
 308 00aa 7B61     		str	r3, [r7, #20]
 309 00ac 20E0     		b	.L20
 310              	.L17:
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 24000000U) && (hclk < 27700000U))
 311              		.loc 1 185 13
 312 00ae BB68     		ldr	r3, [r7, #8]
 313 00b0 214A     		ldr	r2, .L23+28
 314 00b2 9342     		cmp	r3, r2
 315 00b4 06D3     		bcc	.L18
 316              		.loc 1 185 34 discriminator 1
 317 00b6 BB68     		ldr	r3, [r7, #8]
 318 00b8 204A     		ldr	r2, .L23+32
 319 00ba 9342     		cmp	r3, r2
 320 00bc 02D8     		bhi	.L18
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 24-27.7 MHz */
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x8U;
 321              		.loc 1 188 14
 322 00be 0823     		movs	r3, #8
 323 00c0 7B61     		str	r3, [r7, #20]
 324 00c2 15E0     		b	.L20
 325              	.L18:
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 27700000U) && (hclk < 32000000U))
 326              		.loc 1 190 13
ARM GAS  /tmp/ccSAnDQs.s 			page 10


 327 00c4 BB68     		ldr	r3, [r7, #8]
 328 00c6 1D4A     		ldr	r2, .L23+32
 329 00c8 9342     		cmp	r3, r2
 330 00ca 06D9     		bls	.L19
 331              		.loc 1 190 34 discriminator 1
 332 00cc BB68     		ldr	r3, [r7, #8]
 333 00ce 1C4A     		ldr	r2, .L23+36
 334 00d0 9342     		cmp	r3, r2
 335 00d2 02D2     		bcs	.L19
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 27.7-32 MHz */
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x7U;
 336              		.loc 1 193 14
 337 00d4 0723     		movs	r3, #7
 338 00d6 7B61     		str	r3, [r7, #20]
 339 00d8 0AE0     		b	.L20
 340              	.L19:
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else /* if(hclk >= 32000000) */
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 32-200 MHz */
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x6U;
 341              		.loc 1 198 14
 342 00da 0623     		movs	r3, #6
 343 00dc 7B61     		str	r3, [r7, #20]
 344 00de 07E0     		b	.L20
 345              	.L9:
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (speed == USBD_HS_SPEED)
 346              		.loc 1 201 11
 347 00e0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 348 00e2 002B     		cmp	r3, #0
 349 00e4 02D1     		bne	.L21
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_HS_TRDT_VALUE;
 350              		.loc 1 203 12
 351 00e6 0923     		movs	r3, #9
 352 00e8 7B61     		str	r3, [r7, #20]
 353 00ea 01E0     		b	.L20
 354              	.L21:
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_DEFAULT_TRDT_VALUE;
 355              		.loc 1 207 12
 356 00ec 0923     		movs	r3, #9
 357 00ee 7B61     		str	r3, [r7, #20]
 358              	.L20:
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 359              		.loc 1 210 7
 360 00f0 FB68     		ldr	r3, [r7, #12]
 361 00f2 DB68     		ldr	r3, [r3, #12]
 362              		.loc 1 210 17
 363 00f4 23F47052 		bic	r2, r3, #15360
ARM GAS  /tmp/ccSAnDQs.s 			page 11


 364 00f8 FB68     		ldr	r3, [r7, #12]
 365 00fa DA60     		str	r2, [r3, #12]
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG |= (uint32_t)((UsbTrd << 10) & USB_OTG_GUSBCFG_TRDT);
 366              		.loc 1 211 7
 367 00fc FB68     		ldr	r3, [r7, #12]
 368 00fe DA68     		ldr	r2, [r3, #12]
 369              		.loc 1 211 39
 370 0100 7B69     		ldr	r3, [r7, #20]
 371 0102 9B02     		lsls	r3, r3, #10
 372              		.loc 1 211 20
 373 0104 03F47053 		and	r3, r3, #15360
 374              		.loc 1 211 17
 375 0108 1A43     		orrs	r2, r2, r3
 376 010a FB68     		ldr	r3, [r7, #12]
 377 010c DA60     		str	r2, [r3, #12]
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 378              		.loc 1 213 10
 379 010e 0023     		movs	r3, #0
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 380              		.loc 1 214 1
 381 0110 1846     		mov	r0, r3
 382 0112 1C37     		adds	r7, r7, #28
 383              	.LCFI11:
 384              		.cfi_def_cfa_offset 4
 385 0114 BD46     		mov	sp, r7
 386              	.LCFI12:
 387              		.cfi_def_cfa_register 13
 388              		@ sp needed
 389 0116 5DF8047B 		ldr	r7, [sp], #4
 390              	.LCFI13:
 391              		.cfi_restore 7
 392              		.cfi_def_cfa_offset 0
 393 011a 7047     		bx	lr
 394              	.L24:
 395              		.align	2
 396              	.L23:
 397 011c BFACD800 		.word	14199999
 398 0120 C0E1E400 		.word	15000000
 399 0124 0024F400 		.word	16000000
 400 0128 80730601 		.word	17200000
 401 012c 9F491A01 		.word	18499999
 402 0130 FF2C3101 		.word	19999999
 403 0134 3FA44C01 		.word	21799999
 404 0138 00366E01 		.word	24000000
 405 013c 1FABA601 		.word	27699999
 406 0140 0048E801 		.word	32000000
 407              		.cfi_endproc
 408              	.LFE217:
 410              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 411              		.align	1
 412              		.global	USB_EnableGlobalInt
 413              		.syntax unified
 414              		.thumb
 415              		.thumb_func
 417              	USB_EnableGlobalInt:
 418              	.LFB218:
ARM GAS  /tmp/ccSAnDQs.s 			page 12


 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 419              		.loc 1 223 1
 420              		.cfi_startproc
 421              		@ args = 0, pretend = 0, frame = 8
 422              		@ frame_needed = 1, uses_anonymous_args = 0
 423              		@ link register save eliminated.
 424 0000 80B4     		push	{r7}
 425              	.LCFI14:
 426              		.cfi_def_cfa_offset 4
 427              		.cfi_offset 7, -4
 428 0002 83B0     		sub	sp, sp, #12
 429              	.LCFI15:
 430              		.cfi_def_cfa_offset 16
 431 0004 00AF     		add	r7, sp, #0
 432              	.LCFI16:
 433              		.cfi_def_cfa_register 7
 434 0006 7860     		str	r0, [r7, #4]
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 435              		.loc 1 224 7
 436 0008 7B68     		ldr	r3, [r7, #4]
 437 000a 9B68     		ldr	r3, [r3, #8]
 438              		.loc 1 224 17
 439 000c 43F00102 		orr	r2, r3, #1
 440 0010 7B68     		ldr	r3, [r7, #4]
 441 0012 9A60     		str	r2, [r3, #8]
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 442              		.loc 1 225 10
 443 0014 0023     		movs	r3, #0
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 444              		.loc 1 226 1
 445 0016 1846     		mov	r0, r3
 446 0018 0C37     		adds	r7, r7, #12
 447              	.LCFI17:
 448              		.cfi_def_cfa_offset 4
 449 001a BD46     		mov	sp, r7
 450              	.LCFI18:
 451              		.cfi_def_cfa_register 13
 452              		@ sp needed
 453 001c 5DF8047B 		ldr	r7, [sp], #4
 454              	.LCFI19:
 455              		.cfi_restore 7
 456              		.cfi_def_cfa_offset 0
 457 0020 7047     		bx	lr
 458              		.cfi_endproc
 459              	.LFE218:
 461              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 462              		.align	1
 463              		.global	USB_DisableGlobalInt
 464              		.syntax unified
ARM GAS  /tmp/ccSAnDQs.s 			page 13


 465              		.thumb
 466              		.thumb_func
 468              	USB_DisableGlobalInt:
 469              	.LFB219:
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 470              		.loc 1 235 1
 471              		.cfi_startproc
 472              		@ args = 0, pretend = 0, frame = 8
 473              		@ frame_needed = 1, uses_anonymous_args = 0
 474              		@ link register save eliminated.
 475 0000 80B4     		push	{r7}
 476              	.LCFI20:
 477              		.cfi_def_cfa_offset 4
 478              		.cfi_offset 7, -4
 479 0002 83B0     		sub	sp, sp, #12
 480              	.LCFI21:
 481              		.cfi_def_cfa_offset 16
 482 0004 00AF     		add	r7, sp, #0
 483              	.LCFI22:
 484              		.cfi_def_cfa_register 7
 485 0006 7860     		str	r0, [r7, #4]
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 486              		.loc 1 236 7
 487 0008 7B68     		ldr	r3, [r7, #4]
 488 000a 9B68     		ldr	r3, [r3, #8]
 489              		.loc 1 236 17
 490 000c 23F00102 		bic	r2, r3, #1
 491 0010 7B68     		ldr	r3, [r7, #4]
 492 0012 9A60     		str	r2, [r3, #8]
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 493              		.loc 1 237 10
 494 0014 0023     		movs	r3, #0
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 495              		.loc 1 238 1
 496 0016 1846     		mov	r0, r3
 497 0018 0C37     		adds	r7, r7, #12
 498              	.LCFI23:
 499              		.cfi_def_cfa_offset 4
 500 001a BD46     		mov	sp, r7
 501              	.LCFI24:
 502              		.cfi_def_cfa_register 13
 503              		@ sp needed
 504 001c 5DF8047B 		ldr	r7, [sp], #4
 505              	.LCFI25:
 506              		.cfi_restore 7
 507              		.cfi_def_cfa_offset 0
 508 0020 7047     		bx	lr
 509              		.cfi_endproc
 510              	.LFE219:
ARM GAS  /tmp/ccSAnDQs.s 			page 14


 512              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 513              		.align	1
 514              		.global	USB_SetCurrentMode
 515              		.syntax unified
 516              		.thumb
 517              		.thumb_func
 519              	USB_SetCurrentMode:
 520              	.LFB220:
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode Set functional mode
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mode  current core mode
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE Peripheral mode
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_HOST_MODE Host mode
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx, USB_OTG_ModeTypeDef mode)
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 521              		.loc 1 250 1
 522              		.cfi_startproc
 523              		@ args = 0, pretend = 0, frame = 16
 524              		@ frame_needed = 1, uses_anonymous_args = 0
 525 0000 80B5     		push	{r7, lr}
 526              	.LCFI26:
 527              		.cfi_def_cfa_offset 8
 528              		.cfi_offset 7, -8
 529              		.cfi_offset 14, -4
 530 0002 84B0     		sub	sp, sp, #16
 531              	.LCFI27:
 532              		.cfi_def_cfa_offset 24
 533 0004 00AF     		add	r7, sp, #0
 534              	.LCFI28:
 535              		.cfi_def_cfa_register 7
 536 0006 7860     		str	r0, [r7, #4]
 537 0008 0B46     		mov	r3, r1
 538 000a FB70     		strb	r3, [r7, #3]
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ms = 0U;
 539              		.loc 1 251 12
 540 000c 0023     		movs	r3, #0
 541 000e FB60     		str	r3, [r7, #12]
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD);
 542              		.loc 1 253 7
 543 0010 7B68     		ldr	r3, [r7, #4]
 544 0012 DB68     		ldr	r3, [r3, #12]
 545              		.loc 1 253 17
 546 0014 23F0C042 		bic	r2, r3, #1610612736
 547 0018 7B68     		ldr	r3, [r7, #4]
 548 001a DA60     		str	r2, [r3, #12]
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (mode == USB_HOST_MODE)
 549              		.loc 1 255 6
 550 001c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 551 001e 012B     		cmp	r3, #1
 552 0020 15D1     		bne	.L30
ARM GAS  /tmp/ccSAnDQs.s 			page 15


 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 553              		.loc 1 257 9
 554 0022 7B68     		ldr	r3, [r7, #4]
 555 0024 DB68     		ldr	r3, [r3, #12]
 556              		.loc 1 257 19
 557 0026 43F00052 		orr	r2, r3, #536870912
 558 002a 7B68     		ldr	r3, [r7, #4]
 559 002c DA60     		str	r2, [r3, #12]
 560              	.L32:
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       HAL_Delay(1U);
 561              		.loc 1 261 7 discriminator 2
 562 002e 0120     		movs	r0, #1
 563 0030 FFF7FEFF 		bl	HAL_Delay
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ms++;
 564              		.loc 1 262 9 discriminator 2
 565 0034 FB68     		ldr	r3, [r7, #12]
 566 0036 0133     		adds	r3, r3, #1
 567 0038 FB60     		str	r3, [r7, #12]
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_HOST_MODE) && (ms < 50U));
 568              		.loc 1 263 15 discriminator 2
 569 003a 7868     		ldr	r0, [r7, #4]
 570 003c FFF7FEFF 		bl	USB_GetMode
 571 0040 0346     		mov	r3, r0
 572              		.loc 1 263 61 discriminator 2
 573 0042 012B     		cmp	r3, #1
 574 0044 1ED0     		beq	.L31
 575              		.loc 1 263 61 is_stmt 0 discriminator 1
 576 0046 FB68     		ldr	r3, [r7, #12]
 577 0048 312B     		cmp	r3, #49
 578 004a F0D9     		bls	.L32
 579 004c 1AE0     		b	.L31
 580              	.L30:
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 581              		.loc 1 265 11 is_stmt 1
 582 004e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 583 0050 002B     		cmp	r3, #0
 584 0052 15D1     		bne	.L33
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD;
 585              		.loc 1 267 9
 586 0054 7B68     		ldr	r3, [r7, #4]
 587 0056 DB68     		ldr	r3, [r3, #12]
 588              		.loc 1 267 19
 589 0058 43F08042 		orr	r2, r3, #1073741824
 590 005c 7B68     		ldr	r3, [r7, #4]
 591 005e DA60     		str	r2, [r3, #12]
 592              	.L34:
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       HAL_Delay(1U);
 593              		.loc 1 271 7 discriminator 2
ARM GAS  /tmp/ccSAnDQs.s 			page 16


 594 0060 0120     		movs	r0, #1
 595 0062 FFF7FEFF 		bl	HAL_Delay
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ms++;
 596              		.loc 1 272 9 discriminator 2
 597 0066 FB68     		ldr	r3, [r7, #12]
 598 0068 0133     		adds	r3, r3, #1
 599 006a FB60     		str	r3, [r7, #12]
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_DEVICE_MODE) && (ms < 50U));
 600              		.loc 1 273 15 discriminator 2
 601 006c 7868     		ldr	r0, [r7, #4]
 602 006e FFF7FEFF 		bl	USB_GetMode
 603 0072 0346     		mov	r3, r0
 604              		.loc 1 273 63 discriminator 2
 605 0074 002B     		cmp	r3, #0
 606 0076 05D0     		beq	.L31
 607              		.loc 1 273 63 is_stmt 0 discriminator 1
 608 0078 FB68     		ldr	r3, [r7, #12]
 609 007a 312B     		cmp	r3, #49
 610 007c F0D9     		bls	.L34
 611 007e 01E0     		b	.L31
 612              	.L33:
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_ERROR;
 613              		.loc 1 277 12 is_stmt 1
 614 0080 0123     		movs	r3, #1
 615 0082 05E0     		b	.L35
 616              	.L31:
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ms == 50U)
 617              		.loc 1 280 6
 618 0084 FB68     		ldr	r3, [r7, #12]
 619 0086 322B     		cmp	r3, #50
 620 0088 01D1     		bne	.L36
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_ERROR;
 621              		.loc 1 282 12
 622 008a 0123     		movs	r3, #1
 623 008c 00E0     		b	.L35
 624              	.L36:
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 625              		.loc 1 285 10
 626 008e 0023     		movs	r3, #0
 627              	.L35:
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 628              		.loc 1 286 1
 629 0090 1846     		mov	r0, r3
 630 0092 1037     		adds	r7, r7, #16
 631              	.LCFI29:
 632              		.cfi_def_cfa_offset 8
 633 0094 BD46     		mov	sp, r7
 634              	.LCFI30:
 635              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccSAnDQs.s 			page 17


 636              		@ sp needed
 637 0096 80BD     		pop	{r7, pc}
 638              		.cfi_endproc
 639              	.LFE220:
 641              		.section	.text.USB_DevInit,"ax",%progbits
 642              		.align	1
 643              		.global	USB_DevInit
 644              		.syntax unified
 645              		.thumb
 646              		.thumb_func
 648              	USB_DevInit:
 649              	.LFB221:
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevInit Initializes the USB_OTG controller registers
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for device mode
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 650              		.loc 1 297 1
 651              		.cfi_startproc
 652              		@ args = 56, pretend = 16, frame = 24
 653              		@ frame_needed = 1, uses_anonymous_args = 0
 654 0000 84B0     		sub	sp, sp, #16
 655              	.LCFI31:
 656              		.cfi_def_cfa_offset 16
 657 0002 80B5     		push	{r7, lr}
 658              	.LCFI32:
 659              		.cfi_def_cfa_offset 24
 660              		.cfi_offset 7, -24
 661              		.cfi_offset 14, -20
 662 0004 86B0     		sub	sp, sp, #24
 663              	.LCFI33:
 664              		.cfi_def_cfa_offset 48
 665 0006 00AF     		add	r7, sp, #0
 666              	.LCFI34:
 667              		.cfi_def_cfa_register 7
 668 0008 7860     		str	r0, [r7, #4]
 669 000a 07F12400 		add	r0, r7, #36
 670 000e 80E80E00 		stm	r0, {r1, r2, r3}
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 671              		.loc 1 298 21
 672 0012 0023     		movs	r3, #0
 673 0014 FB75     		strb	r3, [r7, #23]
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 674              		.loc 1 299 12
 675 0016 7B68     		ldr	r3, [r7, #4]
 676 0018 FB60     		str	r3, [r7, #12]
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 677              		.loc 1 302 10
 678 001a 0023     		movs	r3, #0
ARM GAS  /tmp/ccSAnDQs.s 			page 18


 679 001c 3B61     		str	r3, [r7, #16]
 680              		.loc 1 302 3
 681 001e 09E0     		b	.L38
 682              	.L39:
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF[i] = 0U;
 683              		.loc 1 304 22 discriminator 3
 684 0020 7A68     		ldr	r2, [r7, #4]
 685 0022 3B69     		ldr	r3, [r7, #16]
 686 0024 4033     		adds	r3, r3, #64
 687 0026 9B00     		lsls	r3, r3, #2
 688 0028 1344     		add	r3, r3, r2
 689 002a 0022     		movs	r2, #0
 690 002c 5A60     		str	r2, [r3, #4]
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 691              		.loc 1 302 26 discriminator 3
 692 002e 3B69     		ldr	r3, [r7, #16]
 693 0030 0133     		adds	r3, r3, #1
 694 0032 3B61     		str	r3, [r7, #16]
 695              	.L38:
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 696              		.loc 1 302 18 discriminator 1
 697 0034 3B69     		ldr	r3, [r7, #16]
 698 0036 0E2B     		cmp	r3, #14
 699 0038 F2D9     		bls	.L39
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* B-peripheral session valid override enable */
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 700              		.loc 1 327 10
 701 003a FB6C     		ldr	r3, [r7, #76]
 702              		.loc 1 327 6
 703 003c 002B     		cmp	r3, #0
 704 003e 1CD1     		bne	.L40
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * Disable HW VBUS sensing. VBUS is internally considered to be always
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * at VBUS-Valid level (5V).
ARM GAS  /tmp/ccSAnDQs.s 			page 19


 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      */
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 705              		.loc 1 333 16
 706 0040 FB68     		ldr	r3, [r7, #12]
 707 0042 03F50063 		add	r3, r3, #2048
 708 0046 5B68     		ldr	r3, [r3, #4]
 709 0048 FA68     		ldr	r2, [r7, #12]
 710 004a 02F50062 		add	r2, r2, #2048
 711              		.loc 1 333 23
 712 004e 43F00203 		orr	r3, r3, #2
 713 0052 5360     		str	r3, [r2, #4]
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 714              		.loc 1 334 9
 715 0054 7B68     		ldr	r3, [r7, #4]
 716 0056 9B6B     		ldr	r3, [r3, #56]
 717              		.loc 1 334 17
 718 0058 43F40012 		orr	r2, r3, #2097152
 719 005c 7B68     		ldr	r3, [r7, #4]
 720 005e 9A63     		str	r2, [r3, #56]
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
 721              		.loc 1 335 9
 722 0060 7B68     		ldr	r3, [r7, #4]
 723 0062 9B6B     		ldr	r3, [r3, #56]
 724              		.loc 1 335 17
 725 0064 23F40022 		bic	r2, r3, #524288
 726 0068 7B68     		ldr	r3, [r7, #4]
 727 006a 9A63     		str	r2, [r3, #56]
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
 728              		.loc 1 336 9
 729 006c 7B68     		ldr	r3, [r7, #4]
 730 006e 9B6B     		ldr	r3, [r3, #56]
 731              		.loc 1 336 17
 732 0070 23F48022 		bic	r2, r3, #262144
 733 0074 7B68     		ldr	r3, [r7, #4]
 734 0076 9A63     		str	r2, [r3, #56]
 735 0078 0BE0     		b	.L41
 736              	.L40:
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_NOVBUSSENS;
 737              		.loc 1 341 9
 738 007a 7B68     		ldr	r3, [r7, #4]
 739 007c 9B6B     		ldr	r3, [r3, #56]
 740              		.loc 1 341 17
 741 007e 23F40012 		bic	r2, r3, #2097152
 742 0082 7B68     		ldr	r3, [r7, #4]
 743 0084 9A63     		str	r2, [r3, #56]
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBUSBSEN;
 744              		.loc 1 342 9
 745 0086 7B68     		ldr	r3, [r7, #4]
 746 0088 9B6B     		ldr	r3, [r3, #56]
 747              		.loc 1 342 17
 748 008a 43F40022 		orr	r2, r3, #524288
 749 008e 7B68     		ldr	r3, [r7, #4]
 750 0090 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/ccSAnDQs.s 			page 20


 751              	.L41:
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 752              		.loc 1 347 3
 753 0092 FB68     		ldr	r3, [r7, #12]
 754 0094 03F56063 		add	r3, r3, #3584
 755 0098 1A46     		mov	r2, r3
 756              		.loc 1 347 16
 757 009a 0023     		movs	r3, #0
 758 009c 1360     		str	r3, [r2]
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Device mode configuration */
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 759              		.loc 1 350 14
 760 009e FB68     		ldr	r3, [r7, #12]
 761 00a0 03F50063 		add	r3, r3, #2048
 762 00a4 1946     		mov	r1, r3
 763 00a6 FB68     		ldr	r3, [r7, #12]
 764 00a8 03F50063 		add	r3, r3, #2048
 765 00ac 1A46     		mov	r2, r3
 766 00ae 0B68     		ldr	r3, [r1]
 767              		.loc 1 350 21
 768 00b0 1360     		str	r3, [r2]
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
 769              		.loc 1 352 10
 770 00b2 BB6B     		ldr	r3, [r7, #56]
 771              		.loc 1 352 6
 772 00b4 012B     		cmp	r3, #1
 773 00b6 0CD1     		bne	.L42
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USBD_HS_SPEED)
 774              		.loc 1 354 12
 775 00b8 FB6A     		ldr	r3, [r7, #44]
 776              		.loc 1 354 8
 777 00ba 002B     		cmp	r3, #0
 778 00bc 04D1     		bne	.L43
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to High speed mode */
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH);
 779              		.loc 1 357 13
 780 00be 0021     		movs	r1, #0
 781 00c0 7868     		ldr	r0, [r7, #4]
 782 00c2 FFF7FEFF 		bl	USB_SetDevSpeed
 783 00c6 08E0     		b	.L44
 784              	.L43:
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to Full speed mode */
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH_IN_FULL);
 785              		.loc 1 362 13
 786 00c8 0121     		movs	r1, #1
 787 00ca 7868     		ldr	r0, [r7, #4]
ARM GAS  /tmp/ccSAnDQs.s 			page 21


 788 00cc FFF7FEFF 		bl	USB_SetDevSpeed
 789 00d0 03E0     		b	.L44
 790              	.L42:
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set Core speed to Full speed mode */
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_FULL);
 791              		.loc 1 368 11
 792 00d2 0321     		movs	r1, #3
 793 00d4 7868     		ldr	r0, [r7, #4]
 794 00d6 FFF7FEFF 		bl	USB_SetDevSpeed
 795              	.L44:
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFOs */
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 796              		.loc 1 372 7
 797 00da 1021     		movs	r1, #16
 798 00dc 7868     		ldr	r0, [r7, #4]
 799 00de FFF7FEFF 		bl	USB_FlushTxFifo
 800 00e2 0346     		mov	r3, r0
 801              		.loc 1 372 6
 802 00e4 002B     		cmp	r3, #0
 803 00e6 01D0     		beq	.L45
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 804              		.loc 1 374 9
 805 00e8 0123     		movs	r3, #1
 806 00ea FB75     		strb	r3, [r7, #23]
 807              	.L45:
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 808              		.loc 1 377 7
 809 00ec 7868     		ldr	r0, [r7, #4]
 810 00ee FFF7FEFF 		bl	USB_FlushRxFifo
 811 00f2 0346     		mov	r3, r0
 812              		.loc 1 377 6
 813 00f4 002B     		cmp	r3, #0
 814 00f6 01D0     		beq	.L46
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 815              		.loc 1 379 9
 816 00f8 0123     		movs	r3, #1
 817 00fa FB75     		strb	r3, [r7, #23]
 818              	.L46:
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 819              		.loc 1 383 3
 820 00fc FB68     		ldr	r3, [r7, #12]
 821 00fe 03F50063 		add	r3, r3, #2048
 822 0102 1A46     		mov	r2, r3
 823              		.loc 1 383 24
ARM GAS  /tmp/ccSAnDQs.s 			page 22


 824 0104 0023     		movs	r3, #0
 825 0106 1361     		str	r3, [r2, #16]
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 826              		.loc 1 384 3
 827 0108 FB68     		ldr	r3, [r7, #12]
 828 010a 03F50063 		add	r3, r3, #2048
 829 010e 1A46     		mov	r2, r3
 830              		.loc 1 384 24
 831 0110 0023     		movs	r3, #0
 832 0112 5361     		str	r3, [r2, #20]
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 833              		.loc 1 385 3
 834 0114 FB68     		ldr	r3, [r7, #12]
 835 0116 03F50063 		add	r3, r3, #2048
 836 011a 1A46     		mov	r2, r3
 837              		.loc 1 385 25
 838 011c 0023     		movs	r3, #0
 839 011e D361     		str	r3, [r2, #28]
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 840              		.loc 1 387 10
 841 0120 0023     		movs	r3, #0
 842 0122 3B61     		str	r3, [r7, #16]
 843              		.loc 1 387 3
 844 0124 43E0     		b	.L47
 845              	.L51:
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 846              		.loc 1 389 10
 847 0126 3B69     		ldr	r3, [r7, #16]
 848 0128 5A01     		lsls	r2, r3, #5
 849 012a FB68     		ldr	r3, [r7, #12]
 850 012c 1344     		add	r3, r3, r2
 851 012e 03F51063 		add	r3, r3, #2304
 852              		.loc 1 389 22
 853 0132 1B68     		ldr	r3, [r3]
 854              		.loc 1 389 32
 855 0134 03F00043 		and	r3, r3, #-2147483648
 856              		.loc 1 389 8
 857 0138 B3F1004F 		cmp	r3, #-2147483648
 858 013c 18D1     		bne	.L48
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 859              		.loc 1 391 10
 860 013e 3B69     		ldr	r3, [r7, #16]
 861 0140 002B     		cmp	r3, #0
 862 0142 0AD1     		bne	.L49
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 863              		.loc 1 393 9
 864 0144 3B69     		ldr	r3, [r7, #16]
 865 0146 5A01     		lsls	r2, r3, #5
 866 0148 FB68     		ldr	r3, [r7, #12]
 867 014a 1344     		add	r3, r3, r2
 868 014c 03F51063 		add	r3, r3, #2304
 869 0150 1A46     		mov	r2, r3
 870              		.loc 1 393 31
ARM GAS  /tmp/ccSAnDQs.s 			page 23


 871 0152 4FF00063 		mov	r3, #134217728
 872 0156 1360     		str	r3, [r2]
 873 0158 13E0     		b	.L50
 874              	.L49:
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK;
 875              		.loc 1 397 9
 876 015a 3B69     		ldr	r3, [r7, #16]
 877 015c 5A01     		lsls	r2, r3, #5
 878 015e FB68     		ldr	r3, [r7, #12]
 879 0160 1344     		add	r3, r3, r2
 880 0162 03F51063 		add	r3, r3, #2304
 881 0166 1A46     		mov	r2, r3
 882              		.loc 1 397 31
 883 0168 4FF09043 		mov	r3, #1207959552
 884 016c 1360     		str	r3, [r2]
 885 016e 08E0     		b	.L50
 886              	.L48:
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 887              		.loc 1 402 7
 888 0170 3B69     		ldr	r3, [r7, #16]
 889 0172 5A01     		lsls	r2, r3, #5
 890 0174 FB68     		ldr	r3, [r7, #12]
 891 0176 1344     		add	r3, r3, r2
 892 0178 03F51063 		add	r3, r3, #2304
 893 017c 1A46     		mov	r2, r3
 894              		.loc 1 402 29
 895 017e 0023     		movs	r3, #0
 896 0180 1360     		str	r3, [r2]
 897              	.L50:
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 898              		.loc 1 405 5 discriminator 2
 899 0182 3B69     		ldr	r3, [r7, #16]
 900 0184 5A01     		lsls	r2, r3, #5
 901 0186 FB68     		ldr	r3, [r7, #12]
 902 0188 1344     		add	r3, r3, r2
 903 018a 03F51063 		add	r3, r3, #2304
 904 018e 1A46     		mov	r2, r3
 905              		.loc 1 405 28 discriminator 2
 906 0190 0023     		movs	r3, #0
 907 0192 1361     		str	r3, [r2, #16]
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFB7FU;
 908              		.loc 1 406 5 discriminator 2
 909 0194 3B69     		ldr	r3, [r7, #16]
 910 0196 5A01     		lsls	r2, r3, #5
 911 0198 FB68     		ldr	r3, [r7, #12]
 912 019a 1344     		add	r3, r3, r2
 913 019c 03F51063 		add	r3, r3, #2304
 914 01a0 1A46     		mov	r2, r3
ARM GAS  /tmp/ccSAnDQs.s 			page 24


 915              		.loc 1 406 28 discriminator 2
 916 01a2 4FF67F33 		movw	r3, #64383
 917 01a6 9360     		str	r3, [r2, #8]
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 918              		.loc 1 387 40 discriminator 2
 919 01a8 3B69     		ldr	r3, [r7, #16]
 920 01aa 0133     		adds	r3, r3, #1
 921 01ac 3B61     		str	r3, [r7, #16]
 922              	.L47:
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 923              		.loc 1 387 23 discriminator 1
 924 01ae 7B6A     		ldr	r3, [r7, #36]
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 925              		.loc 1 387 18 discriminator 1
 926 01b0 3A69     		ldr	r2, [r7, #16]
 927 01b2 9A42     		cmp	r2, r3
 928 01b4 B7D3     		bcc	.L51
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 929              		.loc 1 409 10
 930 01b6 0023     		movs	r3, #0
 931 01b8 3B61     		str	r3, [r7, #16]
 932              		.loc 1 409 3
 933 01ba 43E0     		b	.L52
 934              	.L56:
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 935              		.loc 1 411 10
 936 01bc 3B69     		ldr	r3, [r7, #16]
 937 01be 5A01     		lsls	r2, r3, #5
 938 01c0 FB68     		ldr	r3, [r7, #12]
 939 01c2 1344     		add	r3, r3, r2
 940 01c4 03F53063 		add	r3, r3, #2816
 941              		.loc 1 411 23
 942 01c8 1B68     		ldr	r3, [r3]
 943              		.loc 1 411 33
 944 01ca 03F00043 		and	r3, r3, #-2147483648
 945              		.loc 1 411 8
 946 01ce B3F1004F 		cmp	r3, #-2147483648
 947 01d2 18D1     		bne	.L53
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 948              		.loc 1 413 10
 949 01d4 3B69     		ldr	r3, [r7, #16]
 950 01d6 002B     		cmp	r3, #0
 951 01d8 0AD1     		bne	.L54
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 952              		.loc 1 415 9
 953 01da 3B69     		ldr	r3, [r7, #16]
 954 01dc 5A01     		lsls	r2, r3, #5
 955 01de FB68     		ldr	r3, [r7, #12]
 956 01e0 1344     		add	r3, r3, r2
 957 01e2 03F53063 		add	r3, r3, #2816
 958 01e6 1A46     		mov	r2, r3
 959              		.loc 1 415 32
ARM GAS  /tmp/ccSAnDQs.s 			page 25


 960 01e8 4FF00063 		mov	r3, #134217728
 961 01ec 1360     		str	r3, [r2]
 962 01ee 13E0     		b	.L55
 963              	.L54:
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK;
 964              		.loc 1 419 9
 965 01f0 3B69     		ldr	r3, [r7, #16]
 966 01f2 5A01     		lsls	r2, r3, #5
 967 01f4 FB68     		ldr	r3, [r7, #12]
 968 01f6 1344     		add	r3, r3, r2
 969 01f8 03F53063 		add	r3, r3, #2816
 970 01fc 1A46     		mov	r2, r3
 971              		.loc 1 419 32
 972 01fe 4FF09043 		mov	r3, #1207959552
 973 0202 1360     		str	r3, [r2]
 974 0204 08E0     		b	.L55
 975              	.L53:
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 976              		.loc 1 424 7
 977 0206 3B69     		ldr	r3, [r7, #16]
 978 0208 5A01     		lsls	r2, r3, #5
 979 020a FB68     		ldr	r3, [r7, #12]
 980 020c 1344     		add	r3, r3, r2
 981 020e 03F53063 		add	r3, r3, #2816
 982 0212 1A46     		mov	r2, r3
 983              		.loc 1 424 30
 984 0214 0023     		movs	r3, #0
 985 0216 1360     		str	r3, [r2]
 986              	.L55:
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 987              		.loc 1 427 5 discriminator 2
 988 0218 3B69     		ldr	r3, [r7, #16]
 989 021a 5A01     		lsls	r2, r3, #5
 990 021c FB68     		ldr	r3, [r7, #12]
 991 021e 1344     		add	r3, r3, r2
 992 0220 03F53063 		add	r3, r3, #2816
 993 0224 1A46     		mov	r2, r3
 994              		.loc 1 427 29 discriminator 2
 995 0226 0023     		movs	r3, #0
 996 0228 1361     		str	r3, [r2, #16]
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFB7FU;
 997              		.loc 1 428 5 discriminator 2
 998 022a 3B69     		ldr	r3, [r7, #16]
 999 022c 5A01     		lsls	r2, r3, #5
 1000 022e FB68     		ldr	r3, [r7, #12]
 1001 0230 1344     		add	r3, r3, r2
 1002 0232 03F53063 		add	r3, r3, #2816
 1003 0236 1A46     		mov	r2, r3
ARM GAS  /tmp/ccSAnDQs.s 			page 26


 1004              		.loc 1 428 29 discriminator 2
 1005 0238 4FF67F33 		movw	r3, #64383
 1006 023c 9360     		str	r3, [r2, #8]
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1007              		.loc 1 409 40 discriminator 2
 1008 023e 3B69     		ldr	r3, [r7, #16]
 1009 0240 0133     		adds	r3, r3, #1
 1010 0242 3B61     		str	r3, [r7, #16]
 1011              	.L52:
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1012              		.loc 1 409 23 discriminator 1
 1013 0244 7B6A     		ldr	r3, [r7, #36]
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1014              		.loc 1 409 18 discriminator 1
 1015 0246 3A69     		ldr	r2, [r7, #16]
 1016 0248 9A42     		cmp	r2, r3
 1017 024a B7D3     		bcc	.L56
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 1018              		.loc 1 431 14
 1019 024c FB68     		ldr	r3, [r7, #12]
 1020 024e 03F50063 		add	r3, r3, #2048
 1021 0252 1B69     		ldr	r3, [r3, #16]
 1022 0254 FA68     		ldr	r2, [r7, #12]
 1023 0256 02F50062 		add	r2, r2, #2048
 1024              		.loc 1 431 24
 1025 025a 23F48073 		bic	r3, r3, #256
 1026 025e 1361     		str	r3, [r2, #16]
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 1027              		.loc 1 434 17
 1028 0260 7B68     		ldr	r3, [r7, #4]
 1029 0262 0022     		movs	r2, #0
 1030 0264 9A61     		str	r2, [r3, #24]
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 1031              		.loc 1 437 17
 1032 0266 7B68     		ldr	r3, [r7, #4]
 1033 0268 6FF08042 		mvn	r2, #1073741824
 1034 026c 5A61     		str	r2, [r3, #20]
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 1035              		.loc 1 440 10
 1036 026e 3B6B     		ldr	r3, [r7, #48]
 1037              		.loc 1 440 6
 1038 0270 002B     		cmp	r3, #0
 1039 0272 05D1     		bne	.L57
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 1040              		.loc 1 442 9
 1041 0274 7B68     		ldr	r3, [r7, #4]
 1042 0276 9B69     		ldr	r3, [r3, #24]
 1043              		.loc 1 442 19
ARM GAS  /tmp/ccSAnDQs.s 			page 27


 1044 0278 43F01002 		orr	r2, r3, #16
 1045 027c 7B68     		ldr	r3, [r7, #4]
 1046 027e 9A61     		str	r2, [r3, #24]
 1047              	.L57:
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |
 1048              		.loc 1 446 7
 1049 0280 7B68     		ldr	r3, [r7, #4]
 1050 0282 9A69     		ldr	r2, [r3, #24]
 1051              		.loc 1 446 17
 1052 0284 0F4B     		ldr	r3, .L61
 1053 0286 1343     		orrs	r3, r3, r2
 1054 0288 7A68     		ldr	r2, [r7, #4]
 1055 028a 9361     		str	r3, [r2, #24]
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM |
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM;
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.Sof_enable != 0U)
 1056              		.loc 1 451 10
 1057 028c FB6B     		ldr	r3, [r7, #60]
 1058              		.loc 1 451 6
 1059 028e 002B     		cmp	r3, #0
 1060 0290 05D0     		beq	.L58
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 1061              		.loc 1 453 9
 1062 0292 7B68     		ldr	r3, [r7, #4]
 1063 0294 9B69     		ldr	r3, [r3, #24]
 1064              		.loc 1 453 19
 1065 0296 43F00802 		orr	r2, r3, #8
 1066 029a 7B68     		ldr	r3, [r7, #4]
 1067 029c 9A61     		str	r2, [r3, #24]
 1068              	.L58:
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 1U)
 1069              		.loc 1 456 10
 1070 029e FB6C     		ldr	r3, [r7, #76]
 1071              		.loc 1 456 6
 1072 02a0 012B     		cmp	r3, #1
 1073 02a2 07D1     		bne	.L59
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT);
 1074              		.loc 1 458 9
 1075 02a4 7B68     		ldr	r3, [r7, #4]
 1076 02a6 9B69     		ldr	r3, [r3, #24]
 1077              		.loc 1 458 19
 1078 02a8 43F08043 		orr	r3, r3, #1073741824
 1079 02ac 43F00403 		orr	r3, r3, #4
 1080 02b0 7A68     		ldr	r2, [r7, #4]
 1081 02b2 9361     		str	r3, [r2, #24]
 1082              	.L59:
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccSAnDQs.s 			page 28


 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 1083              		.loc 1 461 10
 1084 02b4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1085              		.loc 1 462 1
 1086 02b6 1846     		mov	r0, r3
 1087 02b8 1837     		adds	r7, r7, #24
 1088              	.LCFI35:
 1089              		.cfi_def_cfa_offset 24
 1090 02ba BD46     		mov	sp, r7
 1091              	.LCFI36:
 1092              		.cfi_def_cfa_register 13
 1093              		@ sp needed
 1094 02bc BDE88040 		pop	{r7, lr}
 1095              	.LCFI37:
 1096              		.cfi_restore 14
 1097              		.cfi_restore 7
 1098              		.cfi_def_cfa_offset 16
 1099 02c0 04B0     		add	sp, sp, #16
 1100              	.LCFI38:
 1101              		.cfi_def_cfa_offset 0
 1102 02c2 7047     		bx	lr
 1103              	.L62:
 1104              		.align	2
 1105              	.L61:
 1106 02c4 00383C80 		.word	-2143537152
 1107              		.cfi_endproc
 1108              	.LFE221:
 1110              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 1111              		.align	1
 1112              		.global	USB_FlushTxFifo
 1113              		.syntax unified
 1114              		.thumb
 1115              		.thumb_func
 1117              	USB_FlushTxFifo:
 1118              	.LFB222:
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushTxFifo Flush a Tx FIFO
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  num  FIFO number
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_OTG_GlobalTypeDef *USBx, uint32_t num)
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1119              		.loc 1 473 1
 1120              		.cfi_startproc
 1121              		@ args = 0, pretend = 0, frame = 16
 1122              		@ frame_needed = 1, uses_anonymous_args = 0
 1123              		@ link register save eliminated.
 1124 0000 80B4     		push	{r7}
 1125              	.LCFI39:
 1126              		.cfi_def_cfa_offset 4
 1127              		.cfi_offset 7, -4
 1128 0002 85B0     		sub	sp, sp, #20
ARM GAS  /tmp/ccSAnDQs.s 			page 29


 1129              	.LCFI40:
 1130              		.cfi_def_cfa_offset 24
 1131 0004 00AF     		add	r7, sp, #0
 1132              	.LCFI41:
 1133              		.cfi_def_cfa_register 7
 1134 0006 7860     		str	r0, [r7, #4]
 1135 0008 3960     		str	r1, [r7]
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 1136              		.loc 1 474 17
 1137 000a 0023     		movs	r3, #0
 1138 000c FB60     		str	r3, [r7, #12]
 1139              	.L66:
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1140              		.loc 1 479 10
 1141 000e FB68     		ldr	r3, [r7, #12]
 1142 0010 0133     		adds	r3, r3, #1
 1143 0012 FB60     		str	r3, [r7, #12]
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1144              		.loc 1 481 15
 1145 0014 FB68     		ldr	r3, [r7, #12]
 1146              		.loc 1 481 8
 1147 0016 134A     		ldr	r2, .L69
 1148 0018 9342     		cmp	r3, r2
 1149 001a 01D9     		bls	.L64
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1150              		.loc 1 483 14
 1151 001c 0323     		movs	r3, #3
 1152 001e 1BE0     		b	.L65
 1153              	.L64:
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 1154              		.loc 1 485 17
 1155 0020 7B68     		ldr	r3, [r7, #4]
 1156 0022 1B69     		ldr	r3, [r3, #16]
 1157              		.loc 1 485 53
 1158 0024 002B     		cmp	r3, #0
 1159 0026 F2DA     		bge	.L66
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush TX Fifo */
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 1160              		.loc 1 488 9
 1161 0028 0023     		movs	r3, #0
 1162 002a FB60     		str	r3, [r7, #12]
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH | (num << 6));
 1163              		.loc 1 489 51
 1164 002c 3B68     		ldr	r3, [r7]
 1165 002e 9B01     		lsls	r3, r3, #6
 1166              		.loc 1 489 44
 1167 0030 43F02002 		orr	r2, r3, #32
 1168              		.loc 1 489 17
 1169 0034 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccSAnDQs.s 			page 30


 1170 0036 1A61     		str	r2, [r3, #16]
 1171              	.L68:
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1172              		.loc 1 493 10
 1173 0038 FB68     		ldr	r3, [r7, #12]
 1174 003a 0133     		adds	r3, r3, #1
 1175 003c FB60     		str	r3, [r7, #12]
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1176              		.loc 1 495 15
 1177 003e FB68     		ldr	r3, [r7, #12]
 1178              		.loc 1 495 8
 1179 0040 084A     		ldr	r2, .L69
 1180 0042 9342     		cmp	r3, r2
 1181 0044 01D9     		bls	.L67
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1182              		.loc 1 497 14
 1183 0046 0323     		movs	r3, #3
 1184 0048 06E0     		b	.L65
 1185              	.L67:
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 1186              		.loc 1 499 17
 1187 004a 7B68     		ldr	r3, [r7, #4]
 1188 004c 1B69     		ldr	r3, [r3, #16]
 1189              		.loc 1 499 27
 1190 004e 03F02003 		and	r3, r3, #32
 1191              		.loc 1 499 54
 1192 0052 202B     		cmp	r3, #32
 1193 0054 F0D0     		beq	.L68
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1194              		.loc 1 501 10
 1195 0056 0023     		movs	r3, #0
 1196              	.L65:
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1197              		.loc 1 502 1
 1198 0058 1846     		mov	r0, r3
 1199 005a 1437     		adds	r7, r7, #20
 1200              	.LCFI42:
 1201              		.cfi_def_cfa_offset 4
 1202 005c BD46     		mov	sp, r7
 1203              	.LCFI43:
 1204              		.cfi_def_cfa_register 13
 1205              		@ sp needed
 1206 005e 5DF8047B 		ldr	r7, [sp], #4
 1207              	.LCFI44:
 1208              		.cfi_restore 7
 1209              		.cfi_def_cfa_offset 0
 1210 0062 7047     		bx	lr
 1211              	.L70:
 1212              		.align	2
 1213              	.L69:
ARM GAS  /tmp/ccSAnDQs.s 			page 31


 1214 0064 400D0300 		.word	200000
 1215              		.cfi_endproc
 1216              	.LFE222:
 1218              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 1219              		.align	1
 1220              		.global	USB_FlushRxFifo
 1221              		.syntax unified
 1222              		.thumb
 1223              		.thumb_func
 1225              	USB_FlushRxFifo:
 1226              	.LFB223:
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo  Flush Rx FIFO
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1227              		.loc 1 510 1
 1228              		.cfi_startproc
 1229              		@ args = 0, pretend = 0, frame = 16
 1230              		@ frame_needed = 1, uses_anonymous_args = 0
 1231              		@ link register save eliminated.
 1232 0000 80B4     		push	{r7}
 1233              	.LCFI45:
 1234              		.cfi_def_cfa_offset 4
 1235              		.cfi_offset 7, -4
 1236 0002 85B0     		sub	sp, sp, #20
 1237              	.LCFI46:
 1238              		.cfi_def_cfa_offset 24
 1239 0004 00AF     		add	r7, sp, #0
 1240              	.LCFI47:
 1241              		.cfi_def_cfa_register 7
 1242 0006 7860     		str	r0, [r7, #4]
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 1243              		.loc 1 511 17
 1244 0008 0023     		movs	r3, #0
 1245 000a FB60     		str	r3, [r7, #12]
 1246              	.L74:
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1247              		.loc 1 516 10
 1248 000c FB68     		ldr	r3, [r7, #12]
 1249 000e 0133     		adds	r3, r3, #1
 1250 0010 FB60     		str	r3, [r7, #12]
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1251              		.loc 1 518 15
 1252 0012 FB68     		ldr	r3, [r7, #12]
 1253              		.loc 1 518 8
 1254 0014 114A     		ldr	r2, .L77
 1255 0016 9342     		cmp	r3, r2
 1256 0018 01D9     		bls	.L72
ARM GAS  /tmp/ccSAnDQs.s 			page 32


 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1257              		.loc 1 520 14
 1258 001a 0323     		movs	r3, #3
 1259 001c 18E0     		b	.L73
 1260              	.L72:
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 1261              		.loc 1 522 17
 1262 001e 7B68     		ldr	r3, [r7, #4]
 1263 0020 1B69     		ldr	r3, [r3, #16]
 1264              		.loc 1 522 53
 1265 0022 002B     		cmp	r3, #0
 1266 0024 F2DA     		bge	.L74
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush RX Fifo */
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 1267              		.loc 1 525 9
 1268 0026 0023     		movs	r3, #0
 1269 0028 FB60     		str	r3, [r7, #12]
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 1270              		.loc 1 526 17
 1271 002a 7B68     		ldr	r3, [r7, #4]
 1272 002c 1022     		movs	r2, #16
 1273 002e 1A61     		str	r2, [r3, #16]
 1274              	.L76:
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1275              		.loc 1 530 10
 1276 0030 FB68     		ldr	r3, [r7, #12]
 1277 0032 0133     		adds	r3, r3, #1
 1278 0034 FB60     		str	r3, [r7, #12]
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1279              		.loc 1 532 15
 1280 0036 FB68     		ldr	r3, [r7, #12]
 1281              		.loc 1 532 8
 1282 0038 084A     		ldr	r2, .L77
 1283 003a 9342     		cmp	r3, r2
 1284 003c 01D9     		bls	.L75
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1285              		.loc 1 534 14
 1286 003e 0323     		movs	r3, #3
 1287 0040 06E0     		b	.L73
 1288              	.L75:
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 1289              		.loc 1 536 17
 1290 0042 7B68     		ldr	r3, [r7, #4]
 1291 0044 1B69     		ldr	r3, [r3, #16]
 1292              		.loc 1 536 27
 1293 0046 03F01003 		and	r3, r3, #16
 1294              		.loc 1 536 54
 1295 004a 102B     		cmp	r3, #16
ARM GAS  /tmp/ccSAnDQs.s 			page 33


 1296 004c F0D0     		beq	.L76
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1297              		.loc 1 538 10
 1298 004e 0023     		movs	r3, #0
 1299              	.L73:
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1300              		.loc 1 539 1
 1301 0050 1846     		mov	r0, r3
 1302 0052 1437     		adds	r7, r7, #20
 1303              	.LCFI48:
 1304              		.cfi_def_cfa_offset 4
 1305 0054 BD46     		mov	sp, r7
 1306              	.LCFI49:
 1307              		.cfi_def_cfa_register 13
 1308              		@ sp needed
 1309 0056 5DF8047B 		ldr	r7, [sp], #4
 1310              	.LCFI50:
 1311              		.cfi_restore 7
 1312              		.cfi_def_cfa_offset 0
 1313 005a 7047     		bx	lr
 1314              	.L78:
 1315              		.align	2
 1316              	.L77:
 1317 005c 400D0300 		.word	200000
 1318              		.cfi_endproc
 1319              	.LFE223:
 1321              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 1322              		.align	1
 1323              		.global	USB_SetDevSpeed
 1324              		.syntax unified
 1325              		.thumb
 1326              		.thumb_func
 1328              	USB_SetDevSpeed:
 1329              	.LFB224:
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed  Initializes the DevSpd field of DCFG register
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  device speed
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH_IN_FULL: High speed core in Full Speed mode
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval  Hal status
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx, uint8_t speed)
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1330              		.loc 1 553 1
 1331              		.cfi_startproc
 1332              		@ args = 0, pretend = 0, frame = 16
 1333              		@ frame_needed = 1, uses_anonymous_args = 0
 1334              		@ link register save eliminated.
 1335 0000 80B4     		push	{r7}
 1336              	.LCFI51:
 1337              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccSAnDQs.s 			page 34


 1338              		.cfi_offset 7, -4
 1339 0002 85B0     		sub	sp, sp, #20
 1340              	.LCFI52:
 1341              		.cfi_def_cfa_offset 24
 1342 0004 00AF     		add	r7, sp, #0
 1343              	.LCFI53:
 1344              		.cfi_def_cfa_register 7
 1345 0006 7860     		str	r0, [r7, #4]
 1346 0008 0B46     		mov	r3, r1
 1347 000a FB70     		strb	r3, [r7, #3]
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1348              		.loc 1 554 12
 1349 000c 7B68     		ldr	r3, [r7, #4]
 1350 000e FB60     		str	r3, [r7, #12]
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 1351              		.loc 1 556 14
 1352 0010 FB68     		ldr	r3, [r7, #12]
 1353 0012 03F50063 		add	r3, r3, #2048
 1354 0016 1A68     		ldr	r2, [r3]
 1355              		.loc 1 556 21
 1356 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1357              		.loc 1 556 14
 1358 001a F968     		ldr	r1, [r7, #12]
 1359 001c 01F50061 		add	r1, r1, #2048
 1360              		.loc 1 556 21
 1361 0020 1343     		orrs	r3, r3, r2
 1362 0022 0B60     		str	r3, [r1]
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1363              		.loc 1 557 10
 1364 0024 0023     		movs	r3, #0
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1365              		.loc 1 558 1
 1366 0026 1846     		mov	r0, r3
 1367 0028 1437     		adds	r7, r7, #20
 1368              	.LCFI54:
 1369              		.cfi_def_cfa_offset 4
 1370 002a BD46     		mov	sp, r7
 1371              	.LCFI55:
 1372              		.cfi_def_cfa_register 13
 1373              		@ sp needed
 1374 002c 5DF8047B 		ldr	r7, [sp], #4
 1375              	.LCFI56:
 1376              		.cfi_restore 7
 1377              		.cfi_def_cfa_offset 0
 1378 0030 7047     		bx	lr
 1379              		.cfi_endproc
 1380              	.LFE224:
 1382              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 1383              		.align	1
 1384              		.global	USB_GetDevSpeed
 1385              		.syntax unified
 1386              		.thumb
 1387              		.thumb_func
 1389              	USB_GetDevSpeed:
 1390              	.LFB225:
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccSAnDQs.s 			page 35


 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed  Return the Dev Speed
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed  device speed
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USBD_HS_SPEED: High speed mode
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USBD_FS_SPEED: Full speed mode
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1391              		.loc 1 569 1
 1392              		.cfi_startproc
 1393              		@ args = 0, pretend = 0, frame = 24
 1394              		@ frame_needed = 1, uses_anonymous_args = 0
 1395              		@ link register save eliminated.
 1396 0000 80B4     		push	{r7}
 1397              	.LCFI57:
 1398              		.cfi_def_cfa_offset 4
 1399              		.cfi_offset 7, -4
 1400 0002 87B0     		sub	sp, sp, #28
 1401              	.LCFI58:
 1402              		.cfi_def_cfa_offset 32
 1403 0004 00AF     		add	r7, sp, #0
 1404              	.LCFI59:
 1405              		.cfi_def_cfa_register 7
 1406 0006 7860     		str	r0, [r7, #4]
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1407              		.loc 1 570 12
 1408 0008 7B68     		ldr	r3, [r7, #4]
 1409 000a 3B61     		str	r3, [r7, #16]
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t speed;
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t DevEnumSpeed = USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD;
 1410              		.loc 1 572 27
 1411 000c 3B69     		ldr	r3, [r7, #16]
 1412 000e 03F50063 		add	r3, r3, #2048
 1413              		.loc 1 572 38
 1414 0012 9B68     		ldr	r3, [r3, #8]
 1415              		.loc 1 572 12
 1416 0014 03F00603 		and	r3, r3, #6
 1417 0018 FB60     		str	r3, [r7, #12]
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (DevEnumSpeed == DSTS_ENUMSPD_HS_PHY_30MHZ_OR_60MHZ)
 1418              		.loc 1 574 6
 1419 001a FB68     		ldr	r3, [r7, #12]
 1420 001c 002B     		cmp	r3, #0
 1421 001e 02D1     		bne	.L82
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_HS_SPEED;
 1422              		.loc 1 576 11
 1423 0020 0023     		movs	r3, #0
 1424 0022 FB75     		strb	r3, [r7, #23]
 1425 0024 0AE0     		b	.L83
 1426              	.L82:
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if ((DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ) ||
 1427              		.loc 1 578 11
 1428 0026 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccSAnDQs.s 			page 36


 1429 0028 022B     		cmp	r3, #2
 1430 002a 02D0     		beq	.L84
 1431              		.loc 1 578 65 discriminator 1
 1432 002c FB68     		ldr	r3, [r7, #12]
 1433 002e 062B     		cmp	r3, #6
 1434 0030 02D1     		bne	.L85
 1435              	.L84:
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            (DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_48MHZ))
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_FS_SPEED;
 1436              		.loc 1 581 11
 1437 0032 0223     		movs	r3, #2
 1438 0034 FB75     		strb	r3, [r7, #23]
 1439 0036 01E0     		b	.L83
 1440              	.L85:
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = 0xFU;
 1441              		.loc 1 585 11
 1442 0038 0F23     		movs	r3, #15
 1443 003a FB75     		strb	r3, [r7, #23]
 1444              	.L83:
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return speed;
 1445              		.loc 1 588 10
 1446 003c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1447              		.loc 1 589 1
 1448 003e 1846     		mov	r0, r3
 1449 0040 1C37     		adds	r7, r7, #28
 1450              	.LCFI60:
 1451              		.cfi_def_cfa_offset 4
 1452 0042 BD46     		mov	sp, r7
 1453              	.LCFI61:
 1454              		.cfi_def_cfa_register 13
 1455              		@ sp needed
 1456 0044 5DF8047B 		ldr	r7, [sp], #4
 1457              	.LCFI62:
 1458              		.cfi_restore 7
 1459              		.cfi_def_cfa_offset 0
 1460 0048 7047     		bx	lr
 1461              		.cfi_endproc
 1462              	.LFE225:
 1464              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 1465              		.align	1
 1466              		.global	USB_ActivateEndpoint
 1467              		.syntax unified
 1468              		.thumb
 1469              		.thumb_func
 1471              	USB_ActivateEndpoint:
 1472              	.LFB226:
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/ccSAnDQs.s 			page 37


 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1473              		.loc 1 598 1
 1474              		.cfi_startproc
 1475              		@ args = 0, pretend = 0, frame = 16
 1476              		@ frame_needed = 1, uses_anonymous_args = 0
 1477              		@ link register save eliminated.
 1478 0000 80B4     		push	{r7}
 1479              	.LCFI63:
 1480              		.cfi_def_cfa_offset 4
 1481              		.cfi_offset 7, -4
 1482 0002 85B0     		sub	sp, sp, #20
 1483              	.LCFI64:
 1484              		.cfi_def_cfa_offset 24
 1485 0004 00AF     		add	r7, sp, #0
 1486              	.LCFI65:
 1487              		.cfi_def_cfa_register 7
 1488 0006 7860     		str	r0, [r7, #4]
 1489 0008 3960     		str	r1, [r7]
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1490              		.loc 1 599 12
 1491 000a 7B68     		ldr	r3, [r7, #4]
 1492 000c FB60     		str	r3, [r7, #12]
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1493              		.loc 1 600 32
 1494 000e 3B68     		ldr	r3, [r7]
 1495 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1496              		.loc 1 600 12
 1497 0012 BB60     		str	r3, [r7, #8]
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1498              		.loc 1 602 9
 1499 0014 3B68     		ldr	r3, [r7]
 1500 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1501              		.loc 1 602 6
 1502 0018 012B     		cmp	r3, #1
 1503 001a 3AD1     		bne	.L88
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1504              		.loc 1 604 16
 1505 001c FB68     		ldr	r3, [r7, #12]
 1506 001e 03F50063 		add	r3, r3, #2048
 1507 0022 DA69     		ldr	r2, [r3, #28]
 1508              		.loc 1 604 75
 1509 0024 3B68     		ldr	r3, [r7]
 1510 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1511              		.loc 1 604 81
 1512 0028 03F00F03 		and	r3, r3, #15
 1513              		.loc 1 604 54
 1514 002c 0121     		movs	r1, #1
 1515 002e 01FA03F3 		lsl	r3, r1, r3
 1516              		.loc 1 604 52
 1517 0032 9BB2     		uxth	r3, r3
 1518              		.loc 1 604 16
ARM GAS  /tmp/ccSAnDQs.s 			page 38


 1519 0034 F968     		ldr	r1, [r7, #12]
 1520 0036 01F50061 		add	r1, r1, #2048
 1521              		.loc 1 604 27
 1522 003a 1343     		orrs	r3, r3, r2
 1523 003c CB61     		str	r3, [r1, #28]
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1524              		.loc 1 606 10
 1525 003e BB68     		ldr	r3, [r7, #8]
 1526 0040 5A01     		lsls	r2, r3, #5
 1527 0042 FB68     		ldr	r3, [r7, #12]
 1528 0044 1344     		add	r3, r3, r2
 1529 0046 03F51063 		add	r3, r3, #2304
 1530              		.loc 1 606 26
 1531 004a 1B68     		ldr	r3, [r3]
 1532              		.loc 1 606 36
 1533 004c 03F40043 		and	r3, r3, #32768
 1534              		.loc 1 606 8
 1535 0050 002B     		cmp	r3, #0
 1536 0052 55D1     		bne	.L89
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1537              		.loc 1 608 23
 1538 0054 BB68     		ldr	r3, [r7, #8]
 1539 0056 5A01     		lsls	r2, r3, #5
 1540 0058 FB68     		ldr	r3, [r7, #12]
 1541 005a 1344     		add	r3, r3, r2
 1542 005c 03F51063 		add	r3, r3, #2304
 1543 0060 1A68     		ldr	r2, [r3]
 1544              		.loc 1 608 39
 1545 0062 3B68     		ldr	r3, [r7]
 1546 0064 DB68     		ldr	r3, [r3, #12]
 1547              		.loc 1 608 51
 1548 0066 C3F30A01 		ubfx	r1, r3, #0, #11
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1549              		.loc 1 609 49
 1550 006a 3B68     		ldr	r3, [r7]
 1551 006c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1552              		.loc 1 609 56
 1553 006e 9B04     		lsls	r3, r3, #18
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1554              		.loc 1 608 76
 1555 0070 1943     		orrs	r1, r1, r3
 1556              		.loc 1 609 72
 1557 0072 BB68     		ldr	r3, [r7, #8]
 1558 0074 9B05     		lsls	r3, r3, #22
 1559              		.loc 1 609 63
 1560 0076 0B43     		orrs	r3, r3, r1
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1561              		.loc 1 608 33
 1562 0078 1343     		orrs	r3, r3, r2
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1563              		.loc 1 608 23
 1564 007a BA68     		ldr	r2, [r7, #8]
 1565 007c 5101     		lsls	r1, r2, #5
 1566 007e FA68     		ldr	r2, [r7, #12]
 1567 0080 0A44     		add	r2, r2, r1
ARM GAS  /tmp/ccSAnDQs.s 			page 39


 1568 0082 02F51062 		add	r2, r2, #2304
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1569              		.loc 1 608 33
 1570 0086 43F08053 		orr	r3, r3, #268435456
 1571 008a 43F40043 		orr	r3, r3, #32768
 1572 008e 1360     		str	r3, [r2]
 1573 0090 36E0     		b	.L89
 1574              	.L88:
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1575              		.loc 1 616 16
 1576 0092 FB68     		ldr	r3, [r7, #12]
 1577 0094 03F50063 		add	r3, r3, #2048
 1578 0098 DA69     		ldr	r2, [r3, #28]
 1579              		.loc 1 616 76
 1580 009a 3B68     		ldr	r3, [r7]
 1581 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1582              		.loc 1 616 82
 1583 009e 03F00F03 		and	r3, r3, #15
 1584              		.loc 1 616 55
 1585 00a2 0121     		movs	r1, #1
 1586 00a4 01FA03F3 		lsl	r3, r1, r3
 1587              		.loc 1 616 52
 1588 00a8 1B04     		lsls	r3, r3, #16
 1589              		.loc 1 616 16
 1590 00aa F968     		ldr	r1, [r7, #12]
 1591 00ac 01F50061 		add	r1, r1, #2048
 1592              		.loc 1 616 27
 1593 00b0 1343     		orrs	r3, r3, r2
 1594 00b2 CB61     		str	r3, [r1, #28]
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1595              		.loc 1 618 11
 1596 00b4 BB68     		ldr	r3, [r7, #8]
 1597 00b6 5A01     		lsls	r2, r3, #5
 1598 00b8 FB68     		ldr	r3, [r7, #12]
 1599 00ba 1344     		add	r3, r3, r2
 1600 00bc 03F53063 		add	r3, r3, #2816
 1601              		.loc 1 618 28
 1602 00c0 1B68     		ldr	r3, [r3]
 1603              		.loc 1 618 39
 1604 00c2 03F40043 		and	r3, r3, #32768
 1605              		.loc 1 618 8
 1606 00c6 002B     		cmp	r3, #0
 1607 00c8 1AD1     		bne	.L89
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1608              		.loc 1 620 24
 1609 00ca BB68     		ldr	r3, [r7, #8]
 1610 00cc 5A01     		lsls	r2, r3, #5
 1611 00ce FB68     		ldr	r3, [r7, #12]
 1612 00d0 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccSAnDQs.s 			page 40


 1613 00d2 03F53063 		add	r3, r3, #2816
 1614 00d6 1A68     		ldr	r2, [r3]
 1615              		.loc 1 620 40
 1616 00d8 3B68     		ldr	r3, [r7]
 1617 00da DB68     		ldr	r3, [r3, #12]
 1618              		.loc 1 620 52
 1619 00dc C3F30A01 		ubfx	r1, r3, #0, #11
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1620              		.loc 1 621 50
 1621 00e0 3B68     		ldr	r3, [r7]
 1622 00e2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1623              		.loc 1 621 57
 1624 00e4 9B04     		lsls	r3, r3, #18
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1625              		.loc 1 620 77
 1626 00e6 0B43     		orrs	r3, r3, r1
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1627              		.loc 1 620 34
 1628 00e8 1343     		orrs	r3, r3, r2
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1629              		.loc 1 620 24
 1630 00ea BA68     		ldr	r2, [r7, #8]
 1631 00ec 5101     		lsls	r1, r2, #5
 1632 00ee FA68     		ldr	r2, [r7, #12]
 1633 00f0 0A44     		add	r2, r2, r1
 1634 00f2 02F53062 		add	r2, r2, #2816
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1635              		.loc 1 620 34
 1636 00f6 43F08053 		orr	r3, r3, #268435456
 1637 00fa 43F40043 		orr	r3, r3, #32768
 1638 00fe 1360     		str	r3, [r2]
 1639              	.L89:
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1640              		.loc 1 626 10
 1641 0100 0023     		movs	r3, #0
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1642              		.loc 1 627 1
 1643 0102 1846     		mov	r0, r3
 1644 0104 1437     		adds	r7, r7, #20
 1645              	.LCFI66:
 1646              		.cfi_def_cfa_offset 4
 1647 0106 BD46     		mov	sp, r7
 1648              	.LCFI67:
 1649              		.cfi_def_cfa_register 13
 1650              		@ sp needed
 1651 0108 5DF8047B 		ldr	r7, [sp], #4
 1652              	.LCFI68:
 1653              		.cfi_restore 7
 1654              		.cfi_def_cfa_offset 0
 1655 010c 7047     		bx	lr
 1656              		.cfi_endproc
 1657              	.LFE226:
 1659              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
ARM GAS  /tmp/ccSAnDQs.s 			page 41


 1660              		.align	1
 1661              		.global	USB_ActivateDedicatedEndpoint
 1662              		.syntax unified
 1663              		.thumb
 1664              		.thumb_func
 1666              	USB_ActivateDedicatedEndpoint:
 1667              	.LFB227:
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1668              		.loc 1 636 1
 1669              		.cfi_startproc
 1670              		@ args = 0, pretend = 0, frame = 16
 1671              		@ frame_needed = 1, uses_anonymous_args = 0
 1672              		@ link register save eliminated.
 1673 0000 80B4     		push	{r7}
 1674              	.LCFI69:
 1675              		.cfi_def_cfa_offset 4
 1676              		.cfi_offset 7, -4
 1677 0002 85B0     		sub	sp, sp, #20
 1678              	.LCFI70:
 1679              		.cfi_def_cfa_offset 24
 1680 0004 00AF     		add	r7, sp, #0
 1681              	.LCFI71:
 1682              		.cfi_def_cfa_register 7
 1683 0006 7860     		str	r0, [r7, #4]
 1684 0008 3960     		str	r1, [r7]
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1685              		.loc 1 637 12
 1686 000a 7B68     		ldr	r3, [r7, #4]
 1687 000c FB60     		str	r3, [r7, #12]
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1688              		.loc 1 638 32
 1689 000e 3B68     		ldr	r3, [r7]
 1690 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1691              		.loc 1 638 12
 1692 0012 BB60     		str	r3, [r7, #8]
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1693              		.loc 1 641 9
 1694 0014 3B68     		ldr	r3, [r7]
 1695 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1696              		.loc 1 641 6
 1697 0018 012B     		cmp	r3, #1
 1698 001a 3AD1     		bne	.L92
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1699              		.loc 1 643 11
 1700 001c BB68     		ldr	r3, [r7, #8]
 1701 001e 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/ccSAnDQs.s 			page 42


 1702 0020 FB68     		ldr	r3, [r7, #12]
 1703 0022 1344     		add	r3, r3, r2
 1704 0024 03F51063 		add	r3, r3, #2304
 1705              		.loc 1 643 27
 1706 0028 1B68     		ldr	r3, [r3]
 1707              		.loc 1 643 38
 1708 002a 03F40043 		and	r3, r3, #32768
 1709              		.loc 1 643 8
 1710 002e 002B     		cmp	r3, #0
 1711 0030 1DD1     		bne	.L93
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1712              		.loc 1 645 23
 1713 0032 BB68     		ldr	r3, [r7, #8]
 1714 0034 5A01     		lsls	r2, r3, #5
 1715 0036 FB68     		ldr	r3, [r7, #12]
 1716 0038 1344     		add	r3, r3, r2
 1717 003a 03F51063 		add	r3, r3, #2304
 1718 003e 1A68     		ldr	r2, [r3]
 1719              		.loc 1 645 39
 1720 0040 3B68     		ldr	r3, [r7]
 1721 0042 DB68     		ldr	r3, [r3, #12]
 1722              		.loc 1 645 51
 1723 0044 C3F30A01 		ubfx	r1, r3, #0, #11
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1724              		.loc 1 646 49
 1725 0048 3B68     		ldr	r3, [r7]
 1726 004a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1727              		.loc 1 646 56
 1728 004c 9B04     		lsls	r3, r3, #18
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1729              		.loc 1 645 76
 1730 004e 1943     		orrs	r1, r1, r3
 1731              		.loc 1 646 72
 1732 0050 BB68     		ldr	r3, [r7, #8]
 1733 0052 9B05     		lsls	r3, r3, #22
 1734              		.loc 1 646 63
 1735 0054 0B43     		orrs	r3, r3, r1
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1736              		.loc 1 645 33
 1737 0056 1343     		orrs	r3, r3, r2
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1738              		.loc 1 645 23
 1739 0058 BA68     		ldr	r2, [r7, #8]
 1740 005a 5101     		lsls	r1, r2, #5
 1741 005c FA68     		ldr	r2, [r7, #12]
 1742 005e 0A44     		add	r2, r2, r1
 1743 0060 02F51062 		add	r2, r2, #2304
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1744              		.loc 1 645 33
 1745 0064 43F08053 		orr	r3, r3, #268435456
 1746 0068 43F40043 		orr	r3, r3, #32768
 1747 006c 1360     		str	r3, [r2]
 1748              	.L93:
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
ARM GAS  /tmp/ccSAnDQs.s 			page 43


 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1749              		.loc 1 651 16
 1750 006e FB68     		ldr	r3, [r7, #12]
 1751 0070 03F50063 		add	r3, r3, #2048
 1752 0074 DA6B     		ldr	r2, [r3, #60]
 1753              		.loc 1 651 75
 1754 0076 3B68     		ldr	r3, [r7]
 1755 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1756              		.loc 1 651 81
 1757 007a 03F00F03 		and	r3, r3, #15
 1758              		.loc 1 651 54
 1759 007e 0121     		movs	r1, #1
 1760 0080 01FA03F3 		lsl	r3, r1, r3
 1761              		.loc 1 651 52
 1762 0084 9BB2     		uxth	r3, r3
 1763              		.loc 1 651 16
 1764 0086 F968     		ldr	r1, [r7, #12]
 1765 0088 01F50061 		add	r1, r1, #2048
 1766              		.loc 1 651 27
 1767 008c 1343     		orrs	r3, r3, r2
 1768 008e CB63     		str	r3, [r1, #60]
 1769 0090 37E0     		b	.L94
 1770              	.L92:
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1771              		.loc 1 655 11
 1772 0092 BB68     		ldr	r3, [r7, #8]
 1773 0094 5A01     		lsls	r2, r3, #5
 1774 0096 FB68     		ldr	r3, [r7, #12]
 1775 0098 1344     		add	r3, r3, r2
 1776 009a 03F53063 		add	r3, r3, #2816
 1777              		.loc 1 655 28
 1778 009e 1B68     		ldr	r3, [r3]
 1779              		.loc 1 655 39
 1780 00a0 03F40043 		and	r3, r3, #32768
 1781              		.loc 1 655 8
 1782 00a4 002B     		cmp	r3, #0
 1783 00a6 1BD1     		bne	.L95
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1784              		.loc 1 657 24
 1785 00a8 BB68     		ldr	r3, [r7, #8]
 1786 00aa 5A01     		lsls	r2, r3, #5
 1787 00ac FB68     		ldr	r3, [r7, #12]
 1788 00ae 1344     		add	r3, r3, r2
 1789 00b0 03F53063 		add	r3, r3, #2816
 1790 00b4 1A68     		ldr	r2, [r3]
 1791              		.loc 1 657 40
 1792 00b6 3B68     		ldr	r3, [r7]
 1793 00b8 DB68     		ldr	r3, [r3, #12]
 1794              		.loc 1 657 52
 1795 00ba C3F30A01 		ubfx	r1, r3, #0, #11
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1796              		.loc 1 658 50
ARM GAS  /tmp/ccSAnDQs.s 			page 44


 1797 00be 3B68     		ldr	r3, [r7]
 1798 00c0 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1799              		.loc 1 658 57
 1800 00c2 9B04     		lsls	r3, r3, #18
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1801              		.loc 1 657 77
 1802 00c4 1943     		orrs	r1, r1, r3
 1803              		.loc 1 658 73
 1804 00c6 BB68     		ldr	r3, [r7, #8]
 1805 00c8 9B05     		lsls	r3, r3, #22
 1806              		.loc 1 658 64
 1807 00ca 0B43     		orrs	r3, r3, r1
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1808              		.loc 1 657 34
 1809 00cc 1343     		orrs	r3, r3, r2
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1810              		.loc 1 657 24
 1811 00ce BA68     		ldr	r2, [r7, #8]
 1812 00d0 5101     		lsls	r1, r2, #5
 1813 00d2 FA68     		ldr	r2, [r7, #12]
 1814 00d4 0A44     		add	r2, r2, r1
 1815 00d6 02F53062 		add	r2, r2, #2816
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1816              		.loc 1 657 34
 1817 00da 43F40043 		orr	r3, r3, #32768
 1818 00de 1360     		str	r3, [r2]
 1819              	.L95:
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1820              		.loc 1 662 16
 1821 00e0 FB68     		ldr	r3, [r7, #12]
 1822 00e2 03F50063 		add	r3, r3, #2048
 1823 00e6 DA6B     		ldr	r2, [r3, #60]
 1824              		.loc 1 662 76
 1825 00e8 3B68     		ldr	r3, [r7]
 1826 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1827              		.loc 1 662 82
 1828 00ec 03F00F03 		and	r3, r3, #15
 1829              		.loc 1 662 55
 1830 00f0 0121     		movs	r1, #1
 1831 00f2 01FA03F3 		lsl	r3, r1, r3
 1832              		.loc 1 662 52
 1833 00f6 1B04     		lsls	r3, r3, #16
 1834              		.loc 1 662 16
 1835 00f8 F968     		ldr	r1, [r7, #12]
 1836 00fa 01F50061 		add	r1, r1, #2048
 1837              		.loc 1 662 27
 1838 00fe 1343     		orrs	r3, r3, r2
 1839 0100 CB63     		str	r3, [r1, #60]
 1840              	.L94:
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1841              		.loc 1 665 10
 1842 0102 0023     		movs	r3, #0
ARM GAS  /tmp/ccSAnDQs.s 			page 45


 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1843              		.loc 1 666 1
 1844 0104 1846     		mov	r0, r3
 1845 0106 1437     		adds	r7, r7, #20
 1846              	.LCFI72:
 1847              		.cfi_def_cfa_offset 4
 1848 0108 BD46     		mov	sp, r7
 1849              	.LCFI73:
 1850              		.cfi_def_cfa_register 13
 1851              		@ sp needed
 1852 010a 5DF8047B 		ldr	r7, [sp], #4
 1853              	.LCFI74:
 1854              		.cfi_restore 7
 1855              		.cfi_def_cfa_offset 0
 1856 010e 7047     		bx	lr
 1857              		.cfi_endproc
 1858              	.LFE227:
 1860              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1861              		.align	1
 1862              		.global	USB_DeactivateEndpoint
 1863              		.syntax unified
 1864              		.thumb
 1865              		.thumb_func
 1867              	USB_DeactivateEndpoint:
 1868              	.LFB228:
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1869              		.loc 1 675 1
 1870              		.cfi_startproc
 1871              		@ args = 0, pretend = 0, frame = 16
 1872              		@ frame_needed = 1, uses_anonymous_args = 0
 1873              		@ link register save eliminated.
 1874 0000 80B4     		push	{r7}
 1875              	.LCFI75:
 1876              		.cfi_def_cfa_offset 4
 1877              		.cfi_offset 7, -4
 1878 0002 85B0     		sub	sp, sp, #20
 1879              	.LCFI76:
 1880              		.cfi_def_cfa_offset 24
 1881 0004 00AF     		add	r7, sp, #0
 1882              	.LCFI77:
 1883              		.cfi_def_cfa_register 7
 1884 0006 7860     		str	r0, [r7, #4]
 1885 0008 3960     		str	r1, [r7]
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1886              		.loc 1 676 12
 1887 000a 7B68     		ldr	r3, [r7, #4]
 1888 000c FB60     		str	r3, [r7, #12]
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1889              		.loc 1 677 32
ARM GAS  /tmp/ccSAnDQs.s 			page 46


 1890 000e 3B68     		ldr	r3, [r7]
 1891 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1892              		.loc 1 677 12
 1893 0012 BB60     		str	r3, [r7, #8]
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1894              		.loc 1 680 9
 1895 0014 3B68     		ldr	r3, [r7]
 1896 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1897              		.loc 1 680 6
 1898 0018 012B     		cmp	r3, #1
 1899 001a 61D1     		bne	.L98
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 1900              		.loc 1 682 10
 1901 001c BB68     		ldr	r3, [r7, #8]
 1902 001e 5A01     		lsls	r2, r3, #5
 1903 0020 FB68     		ldr	r3, [r7, #12]
 1904 0022 1344     		add	r3, r3, r2
 1905 0024 03F51063 		add	r3, r3, #2304
 1906              		.loc 1 682 26
 1907 0028 1B68     		ldr	r3, [r3]
 1908              		.loc 1 682 36
 1909 002a 03F00043 		and	r3, r3, #-2147483648
 1910              		.loc 1 682 8
 1911 002e B3F1004F 		cmp	r3, #-2147483648
 1912 0032 1FD1     		bne	.L99
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SNAK;
 1913              		.loc 1 684 23
 1914 0034 BB68     		ldr	r3, [r7, #8]
 1915 0036 5A01     		lsls	r2, r3, #5
 1916 0038 FB68     		ldr	r3, [r7, #12]
 1917 003a 1344     		add	r3, r3, r2
 1918 003c 03F51063 		add	r3, r3, #2304
 1919 0040 1B68     		ldr	r3, [r3]
 1920 0042 BA68     		ldr	r2, [r7, #8]
 1921 0044 5101     		lsls	r1, r2, #5
 1922 0046 FA68     		ldr	r2, [r7, #12]
 1923 0048 0A44     		add	r2, r2, r1
 1924 004a 02F51062 		add	r2, r2, #2304
 1925              		.loc 1 684 33
 1926 004e 43F00063 		orr	r3, r3, #134217728
 1927 0052 1360     		str	r3, [r2]
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_EPDIS;
 1928              		.loc 1 685 23
 1929 0054 BB68     		ldr	r3, [r7, #8]
 1930 0056 5A01     		lsls	r2, r3, #5
 1931 0058 FB68     		ldr	r3, [r7, #12]
 1932 005a 1344     		add	r3, r3, r2
 1933 005c 03F51063 		add	r3, r3, #2304
 1934 0060 1B68     		ldr	r3, [r3]
 1935 0062 BA68     		ldr	r2, [r7, #8]
 1936 0064 5101     		lsls	r1, r2, #5
 1937 0066 FA68     		ldr	r2, [r7, #12]
 1938 0068 0A44     		add	r2, r2, r1
ARM GAS  /tmp/ccSAnDQs.s 			page 47


 1939 006a 02F51062 		add	r2, r2, #2304
 1940              		.loc 1 685 33
 1941 006e 43F08043 		orr	r3, r3, #1073741824
 1942 0072 1360     		str	r3, [r2]
 1943              	.L99:
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1944              		.loc 1 688 16
 1945 0074 FB68     		ldr	r3, [r7, #12]
 1946 0076 03F50063 		add	r3, r3, #2048
 1947 007a DA6B     		ldr	r2, [r3, #60]
 1948              		.loc 1 688 77
 1949 007c 3B68     		ldr	r3, [r7]
 1950 007e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1951              		.loc 1 688 83
 1952 0080 03F00F03 		and	r3, r3, #15
 1953              		.loc 1 688 56
 1954 0084 0121     		movs	r1, #1
 1955 0086 01FA03F3 		lsl	r3, r1, r3
 1956              		.loc 1 688 54
 1957 008a 9BB2     		uxth	r3, r3
 1958              		.loc 1 688 30
 1959 008c DB43     		mvns	r3, r3
 1960              		.loc 1 688 16
 1961 008e F968     		ldr	r1, [r7, #12]
 1962 0090 01F50061 		add	r1, r1, #2048
 1963              		.loc 1 688 27
 1964 0094 1340     		ands	r3, r3, r2
 1965 0096 CB63     		str	r3, [r1, #60]
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1966              		.loc 1 689 16
 1967 0098 FB68     		ldr	r3, [r7, #12]
 1968 009a 03F50063 		add	r3, r3, #2048
 1969 009e DA69     		ldr	r2, [r3, #28]
 1970              		.loc 1 689 77
 1971 00a0 3B68     		ldr	r3, [r7]
 1972 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1973              		.loc 1 689 83
 1974 00a4 03F00F03 		and	r3, r3, #15
 1975              		.loc 1 689 56
 1976 00a8 0121     		movs	r1, #1
 1977 00aa 01FA03F3 		lsl	r3, r1, r3
 1978              		.loc 1 689 54
 1979 00ae 9BB2     		uxth	r3, r3
 1980              		.loc 1 689 30
 1981 00b0 DB43     		mvns	r3, r3
 1982              		.loc 1 689 16
 1983 00b2 F968     		ldr	r1, [r7, #12]
 1984 00b4 01F50061 		add	r1, r1, #2048
 1985              		.loc 1 689 27
 1986 00b8 1340     		ands	r3, r3, r2
 1987 00ba CB61     		str	r3, [r1, #28]
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_USBAEP |
 1988              		.loc 1 690 21
 1989 00bc BB68     		ldr	r3, [r7, #8]
 1990 00be 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/ccSAnDQs.s 			page 48


 1991 00c0 FB68     		ldr	r3, [r7, #12]
 1992 00c2 1344     		add	r3, r3, r2
 1993 00c4 03F51063 		add	r3, r3, #2304
 1994 00c8 1A68     		ldr	r2, [r3]
 1995 00ca BB68     		ldr	r3, [r7, #8]
 1996 00cc 5901     		lsls	r1, r3, #5
 1997 00ce FB68     		ldr	r3, [r7, #12]
 1998 00d0 0B44     		add	r3, r3, r1
 1999 00d2 03F51063 		add	r3, r3, #2304
 2000 00d6 1946     		mov	r1, r3
 2001              		.loc 1 690 31
 2002 00d8 354B     		ldr	r3, .L103
 2003 00da 1340     		ands	r3, r3, r2
 2004 00dc 0B60     		str	r3, [r1]
 2005 00de 60E0     		b	.L100
 2006              	.L98:
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_MPSIZ |
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_TXFNUM |
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_EPTYP);
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 2007              		.loc 1 698 10
 2008 00e0 BB68     		ldr	r3, [r7, #8]
 2009 00e2 5A01     		lsls	r2, r3, #5
 2010 00e4 FB68     		ldr	r3, [r7, #12]
 2011 00e6 1344     		add	r3, r3, r2
 2012 00e8 03F53063 		add	r3, r3, #2816
 2013              		.loc 1 698 27
 2014 00ec 1B68     		ldr	r3, [r3]
 2015              		.loc 1 698 37
 2016 00ee 03F00043 		and	r3, r3, #-2147483648
 2017              		.loc 1 698 8
 2018 00f2 B3F1004F 		cmp	r3, #-2147483648
 2019 00f6 1FD1     		bne	.L101
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 2020              		.loc 1 700 24
 2021 00f8 BB68     		ldr	r3, [r7, #8]
 2022 00fa 5A01     		lsls	r2, r3, #5
 2023 00fc FB68     		ldr	r3, [r7, #12]
 2024 00fe 1344     		add	r3, r3, r2
 2025 0100 03F53063 		add	r3, r3, #2816
 2026 0104 1B68     		ldr	r3, [r3]
 2027 0106 BA68     		ldr	r2, [r7, #8]
 2028 0108 5101     		lsls	r1, r2, #5
 2029 010a FA68     		ldr	r2, [r7, #12]
 2030 010c 0A44     		add	r2, r2, r1
 2031 010e 02F53062 		add	r2, r2, #2816
 2032              		.loc 1 700 34
 2033 0112 43F00063 		orr	r3, r3, #134217728
 2034 0116 1360     		str	r3, [r2]
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_EPDIS;
 2035              		.loc 1 701 24
 2036 0118 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccSAnDQs.s 			page 49


 2037 011a 5A01     		lsls	r2, r3, #5
 2038 011c FB68     		ldr	r3, [r7, #12]
 2039 011e 1344     		add	r3, r3, r2
 2040 0120 03F53063 		add	r3, r3, #2816
 2041 0124 1B68     		ldr	r3, [r3]
 2042 0126 BA68     		ldr	r2, [r7, #8]
 2043 0128 5101     		lsls	r1, r2, #5
 2044 012a FA68     		ldr	r2, [r7, #12]
 2045 012c 0A44     		add	r2, r2, r1
 2046 012e 02F53062 		add	r2, r2, #2816
 2047              		.loc 1 701 34
 2048 0132 43F08043 		orr	r3, r3, #1073741824
 2049 0136 1360     		str	r3, [r2]
 2050              	.L101:
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2051              		.loc 1 704 16
 2052 0138 FB68     		ldr	r3, [r7, #12]
 2053 013a 03F50063 		add	r3, r3, #2048
 2054 013e DA6B     		ldr	r2, [r3, #60]
 2055              		.loc 1 704 78
 2056 0140 3B68     		ldr	r3, [r7]
 2057 0142 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2058              		.loc 1 704 84
 2059 0144 03F00F03 		and	r3, r3, #15
 2060              		.loc 1 704 57
 2061 0148 0121     		movs	r1, #1
 2062 014a 01FA03F3 		lsl	r3, r1, r3
 2063              		.loc 1 704 54
 2064 014e 1B04     		lsls	r3, r3, #16
 2065              		.loc 1 704 30
 2066 0150 DB43     		mvns	r3, r3
 2067              		.loc 1 704 16
 2068 0152 F968     		ldr	r1, [r7, #12]
 2069 0154 01F50061 		add	r1, r1, #2048
 2070              		.loc 1 704 27
 2071 0158 1340     		ands	r3, r3, r2
 2072 015a CB63     		str	r3, [r1, #60]
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2073              		.loc 1 705 16
 2074 015c FB68     		ldr	r3, [r7, #12]
 2075 015e 03F50063 		add	r3, r3, #2048
 2076 0162 DA69     		ldr	r2, [r3, #28]
 2077              		.loc 1 705 78
 2078 0164 3B68     		ldr	r3, [r7]
 2079 0166 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2080              		.loc 1 705 84
 2081 0168 03F00F03 		and	r3, r3, #15
 2082              		.loc 1 705 57
 2083 016c 0121     		movs	r1, #1
 2084 016e 01FA03F3 		lsl	r3, r1, r3
 2085              		.loc 1 705 54
 2086 0172 1B04     		lsls	r3, r3, #16
 2087              		.loc 1 705 30
 2088 0174 DB43     		mvns	r3, r3
 2089              		.loc 1 705 16
ARM GAS  /tmp/ccSAnDQs.s 			page 50


 2090 0176 F968     		ldr	r1, [r7, #12]
 2091 0178 01F50061 		add	r1, r1, #2048
 2092              		.loc 1 705 27
 2093 017c 1340     		ands	r3, r3, r2
 2094 017e CB61     		str	r3, [r1, #28]
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_USBAEP |
 2095              		.loc 1 706 22
 2096 0180 BB68     		ldr	r3, [r7, #8]
 2097 0182 5A01     		lsls	r2, r3, #5
 2098 0184 FB68     		ldr	r3, [r7, #12]
 2099 0186 1344     		add	r3, r3, r2
 2100 0188 03F53063 		add	r3, r3, #2816
 2101 018c 1A68     		ldr	r2, [r3]
 2102 018e BB68     		ldr	r3, [r7, #8]
 2103 0190 5901     		lsls	r1, r3, #5
 2104 0192 FB68     		ldr	r3, [r7, #12]
 2105 0194 0B44     		add	r3, r3, r1
 2106 0196 03F53063 		add	r3, r3, #2816
 2107 019a 1946     		mov	r1, r3
 2108              		.loc 1 706 32
 2109 019c 054B     		ldr	r3, .L103+4
 2110 019e 1340     		ands	r3, r3, r2
 2111 01a0 0B60     		str	r3, [r1]
 2112              	.L100:
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_MPSIZ |
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_SD0PID_SEVNFRM |
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_EPTYP);
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2113              		.loc 1 712 10
 2114 01a2 0023     		movs	r3, #0
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2115              		.loc 1 713 1
 2116 01a4 1846     		mov	r0, r3
 2117 01a6 1437     		adds	r7, r7, #20
 2118              	.LCFI78:
 2119              		.cfi_def_cfa_offset 4
 2120 01a8 BD46     		mov	sp, r7
 2121              	.LCFI79:
 2122              		.cfi_def_cfa_register 13
 2123              		@ sp needed
 2124 01aa 5DF8047B 		ldr	r7, [sp], #4
 2125              	.LCFI80:
 2126              		.cfi_restore 7
 2127              		.cfi_def_cfa_offset 0
 2128 01ae 7047     		bx	lr
 2129              	.L104:
 2130              		.align	2
 2131              	.L103:
 2132 01b0 007833EC 		.word	-332171264
 2133 01b4 0078F3EF 		.word	-269256704
 2134              		.cfi_endproc
 2135              	.LFE228:
 2137              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 2138              		.align	1
 2139              		.global	USB_DeactivateDedicatedEndpoint
ARM GAS  /tmp/ccSAnDQs.s 			page 51


 2140              		.syntax unified
 2141              		.thumb
 2142              		.thumb_func
 2144              	USB_DeactivateDedicatedEndpoint:
 2145              	.LFB229:
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2146              		.loc 1 722 1
 2147              		.cfi_startproc
 2148              		@ args = 0, pretend = 0, frame = 16
 2149              		@ frame_needed = 1, uses_anonymous_args = 0
 2150              		@ link register save eliminated.
 2151 0000 80B4     		push	{r7}
 2152              	.LCFI81:
 2153              		.cfi_def_cfa_offset 4
 2154              		.cfi_offset 7, -4
 2155 0002 85B0     		sub	sp, sp, #20
 2156              	.LCFI82:
 2157              		.cfi_def_cfa_offset 24
 2158 0004 00AF     		add	r7, sp, #0
 2159              	.LCFI83:
 2160              		.cfi_def_cfa_register 7
 2161 0006 7860     		str	r0, [r7, #4]
 2162 0008 3960     		str	r1, [r7]
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2163              		.loc 1 723 12
 2164 000a 7B68     		ldr	r3, [r7, #4]
 2165 000c FB60     		str	r3, [r7, #12]
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2166              		.loc 1 724 32
 2167 000e 3B68     		ldr	r3, [r7]
 2168 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2169              		.loc 1 724 12
 2170 0012 BB60     		str	r3, [r7, #8]
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2171              		.loc 1 727 9
 2172 0014 3B68     		ldr	r3, [r7]
 2173 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2174              		.loc 1 727 6
 2175 0018 012B     		cmp	r3, #1
 2176 001a 4ED1     		bne	.L106
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 2177              		.loc 1 729 10
 2178 001c BB68     		ldr	r3, [r7, #8]
 2179 001e 5A01     		lsls	r2, r3, #5
 2180 0020 FB68     		ldr	r3, [r7, #12]
 2181 0022 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccSAnDQs.s 			page 52


 2182 0024 03F51063 		add	r3, r3, #2304
 2183              		.loc 1 729 26
 2184 0028 1B68     		ldr	r3, [r3]
 2185              		.loc 1 729 36
 2186 002a 03F00043 		and	r3, r3, #-2147483648
 2187              		.loc 1 729 8
 2188 002e B3F1004F 		cmp	r3, #-2147483648
 2189 0032 1FD1     		bne	.L107
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_SNAK;
 2190              		.loc 1 731 23
 2191 0034 BB68     		ldr	r3, [r7, #8]
 2192 0036 5A01     		lsls	r2, r3, #5
 2193 0038 FB68     		ldr	r3, [r7, #12]
 2194 003a 1344     		add	r3, r3, r2
 2195 003c 03F51063 		add	r3, r3, #2304
 2196 0040 1B68     		ldr	r3, [r3]
 2197 0042 BA68     		ldr	r2, [r7, #8]
 2198 0044 5101     		lsls	r1, r2, #5
 2199 0046 FA68     		ldr	r2, [r7, #12]
 2200 0048 0A44     		add	r2, r2, r1
 2201 004a 02F51062 		add	r2, r2, #2304
 2202              		.loc 1 731 34
 2203 004e 43F00063 		orr	r3, r3, #134217728
 2204 0052 1360     		str	r3, [r2]
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_EPDIS;
 2205              		.loc 1 732 23
 2206 0054 BB68     		ldr	r3, [r7, #8]
 2207 0056 5A01     		lsls	r2, r3, #5
 2208 0058 FB68     		ldr	r3, [r7, #12]
 2209 005a 1344     		add	r3, r3, r2
 2210 005c 03F51063 		add	r3, r3, #2304
 2211 0060 1B68     		ldr	r3, [r3]
 2212 0062 BA68     		ldr	r2, [r7, #8]
 2213 0064 5101     		lsls	r1, r2, #5
 2214 0066 FA68     		ldr	r2, [r7, #12]
 2215 0068 0A44     		add	r2, r2, r1
 2216 006a 02F51062 		add	r2, r2, #2304
 2217              		.loc 1 732 34
 2218 006e 43F08043 		orr	r3, r3, #1073741824
 2219 0072 1360     		str	r3, [r2]
 2220              	.L107:
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 2221              		.loc 1 735 21
 2222 0074 BB68     		ldr	r3, [r7, #8]
 2223 0076 5A01     		lsls	r2, r3, #5
 2224 0078 FB68     		ldr	r3, [r7, #12]
 2225 007a 1344     		add	r3, r3, r2
 2226 007c 03F51063 		add	r3, r3, #2304
 2227 0080 1B68     		ldr	r3, [r3]
 2228 0082 BA68     		ldr	r2, [r7, #8]
 2229 0084 5101     		lsls	r1, r2, #5
 2230 0086 FA68     		ldr	r2, [r7, #12]
 2231 0088 0A44     		add	r2, r2, r1
 2232 008a 02F51062 		add	r2, r2, #2304
ARM GAS  /tmp/ccSAnDQs.s 			page 53


 2233              		.loc 1 735 31
 2234 008e 23F40043 		bic	r3, r3, #32768
 2235 0092 1360     		str	r3, [r2]
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 2236              		.loc 1 736 16
 2237 0094 FB68     		ldr	r3, [r7, #12]
 2238 0096 03F50063 		add	r3, r3, #2048
 2239 009a DA69     		ldr	r2, [r3, #28]
 2240              		.loc 1 736 77
 2241 009c 3B68     		ldr	r3, [r7]
 2242 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2243              		.loc 1 736 83
 2244 00a0 03F00F03 		and	r3, r3, #15
 2245              		.loc 1 736 56
 2246 00a4 0121     		movs	r1, #1
 2247 00a6 01FA03F3 		lsl	r3, r1, r3
 2248              		.loc 1 736 54
 2249 00aa 9BB2     		uxth	r3, r3
 2250              		.loc 1 736 30
 2251 00ac DB43     		mvns	r3, r3
 2252              		.loc 1 736 16
 2253 00ae F968     		ldr	r1, [r7, #12]
 2254 00b0 01F50061 		add	r1, r1, #2048
 2255              		.loc 1 736 27
 2256 00b4 1340     		ands	r3, r3, r2
 2257 00b6 CB61     		str	r3, [r1, #28]
 2258 00b8 4DE0     		b	.L108
 2259              	.L106:
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 2260              		.loc 1 740 10
 2261 00ba BB68     		ldr	r3, [r7, #8]
 2262 00bc 5A01     		lsls	r2, r3, #5
 2263 00be FB68     		ldr	r3, [r7, #12]
 2264 00c0 1344     		add	r3, r3, r2
 2265 00c2 03F53063 		add	r3, r3, #2816
 2266              		.loc 1 740 27
 2267 00c6 1B68     		ldr	r3, [r3]
 2268              		.loc 1 740 37
 2269 00c8 03F00043 		and	r3, r3, #-2147483648
 2270              		.loc 1 740 8
 2271 00cc B3F1004F 		cmp	r3, #-2147483648
 2272 00d0 1FD1     		bne	.L109
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_SNAK;
 2273              		.loc 1 742 24
 2274 00d2 BB68     		ldr	r3, [r7, #8]
 2275 00d4 5A01     		lsls	r2, r3, #5
 2276 00d6 FB68     		ldr	r3, [r7, #12]
 2277 00d8 1344     		add	r3, r3, r2
 2278 00da 03F53063 		add	r3, r3, #2816
 2279 00de 1B68     		ldr	r3, [r3]
 2280 00e0 BA68     		ldr	r2, [r7, #8]
 2281 00e2 5101     		lsls	r1, r2, #5
 2282 00e4 FA68     		ldr	r2, [r7, #12]
ARM GAS  /tmp/ccSAnDQs.s 			page 54


 2283 00e6 0A44     		add	r2, r2, r1
 2284 00e8 02F53062 		add	r2, r2, #2816
 2285              		.loc 1 742 35
 2286 00ec 43F00063 		orr	r3, r3, #134217728
 2287 00f0 1360     		str	r3, [r2]
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_EPDIS;
 2288              		.loc 1 743 24
 2289 00f2 BB68     		ldr	r3, [r7, #8]
 2290 00f4 5A01     		lsls	r2, r3, #5
 2291 00f6 FB68     		ldr	r3, [r7, #12]
 2292 00f8 1344     		add	r3, r3, r2
 2293 00fa 03F53063 		add	r3, r3, #2816
 2294 00fe 1B68     		ldr	r3, [r3]
 2295 0100 BA68     		ldr	r2, [r7, #8]
 2296 0102 5101     		lsls	r1, r2, #5
 2297 0104 FA68     		ldr	r2, [r7, #12]
 2298 0106 0A44     		add	r2, r2, r1
 2299 0108 02F53062 		add	r2, r2, #2816
 2300              		.loc 1 743 35
 2301 010c 43F08043 		orr	r3, r3, #1073741824
 2302 0110 1360     		str	r3, [r2]
 2303              	.L109:
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 2304              		.loc 1 746 22
 2305 0112 BB68     		ldr	r3, [r7, #8]
 2306 0114 5A01     		lsls	r2, r3, #5
 2307 0116 FB68     		ldr	r3, [r7, #12]
 2308 0118 1344     		add	r3, r3, r2
 2309 011a 03F53063 		add	r3, r3, #2816
 2310 011e 1B68     		ldr	r3, [r3]
 2311 0120 BA68     		ldr	r2, [r7, #8]
 2312 0122 5101     		lsls	r1, r2, #5
 2313 0124 FA68     		ldr	r2, [r7, #12]
 2314 0126 0A44     		add	r2, r2, r1
 2315 0128 02F53062 		add	r2, r2, #2816
 2316              		.loc 1 746 32
 2317 012c 23F40043 		bic	r3, r3, #32768
 2318 0130 1360     		str	r3, [r2]
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2319              		.loc 1 747 16
 2320 0132 FB68     		ldr	r3, [r7, #12]
 2321 0134 03F50063 		add	r3, r3, #2048
 2322 0138 DA69     		ldr	r2, [r3, #28]
 2323              		.loc 1 747 78
 2324 013a 3B68     		ldr	r3, [r7]
 2325 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2326              		.loc 1 747 84
 2327 013e 03F00F03 		and	r3, r3, #15
 2328              		.loc 1 747 57
 2329 0142 0121     		movs	r1, #1
 2330 0144 01FA03F3 		lsl	r3, r1, r3
 2331              		.loc 1 747 54
 2332 0148 1B04     		lsls	r3, r3, #16
 2333              		.loc 1 747 30
 2334 014a DB43     		mvns	r3, r3
ARM GAS  /tmp/ccSAnDQs.s 			page 55


 2335              		.loc 1 747 16
 2336 014c F968     		ldr	r1, [r7, #12]
 2337 014e 01F50061 		add	r1, r1, #2048
 2338              		.loc 1 747 27
 2339 0152 1340     		ands	r3, r3, r2
 2340 0154 CB61     		str	r3, [r1, #28]
 2341              	.L108:
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2342              		.loc 1 750 10
 2343 0156 0023     		movs	r3, #0
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2344              		.loc 1 751 1
 2345 0158 1846     		mov	r0, r3
 2346 015a 1437     		adds	r7, r7, #20
 2347              	.LCFI84:
 2348              		.cfi_def_cfa_offset 4
 2349 015c BD46     		mov	sp, r7
 2350              	.LCFI85:
 2351              		.cfi_def_cfa_register 13
 2352              		@ sp needed
 2353 015e 5DF8047B 		ldr	r7, [sp], #4
 2354              	.LCFI86:
 2355              		.cfi_restore 7
 2356              		.cfi_def_cfa_offset 0
 2357 0162 7047     		bx	lr
 2358              		.cfi_endproc
 2359              	.LFE229:
 2361              		.section	.text.USB_EPStartXfer,"ax",%progbits
 2362              		.align	1
 2363              		.global	USB_EPStartXfer
 2364              		.syntax unified
 2365              		.thumb
 2366              		.thumb_func
 2368              	USB_EPStartXfer:
 2369              	.LFB230:
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2370              		.loc 1 764 1
 2371              		.cfi_startproc
 2372              		@ args = 0, pretend = 0, frame = 32
 2373              		@ frame_needed = 1, uses_anonymous_args = 0
 2374 0000 80B5     		push	{r7, lr}
 2375              	.LCFI87:
 2376              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccSAnDQs.s 			page 56


 2377              		.cfi_offset 7, -8
 2378              		.cfi_offset 14, -4
 2379 0002 8AB0     		sub	sp, sp, #40
 2380              	.LCFI88:
 2381              		.cfi_def_cfa_offset 48
 2382 0004 02AF     		add	r7, sp, #8
 2383              	.LCFI89:
 2384              		.cfi_def_cfa 7, 40
 2385 0006 F860     		str	r0, [r7, #12]
 2386 0008 B960     		str	r1, [r7, #8]
 2387 000a 1346     		mov	r3, r2
 2388 000c FB71     		strb	r3, [r7, #7]
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2389              		.loc 1 765 12
 2390 000e FB68     		ldr	r3, [r7, #12]
 2391 0010 FB61     		str	r3, [r7, #28]
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2392              		.loc 1 766 32
 2393 0012 BB68     		ldr	r3, [r7, #8]
 2394 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2395              		.loc 1 766 12
 2396 0016 BB61     		str	r3, [r7, #24]
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t pktcnt;
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2397              		.loc 1 770 9
 2398 0018 BB68     		ldr	r3, [r7, #8]
 2399 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2400              		.loc 1 770 6
 2401 001c 012B     		cmp	r3, #1
 2402 001e 40F05C81 		bne	.L112
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2403              		.loc 1 773 11
 2404 0022 BB68     		ldr	r3, [r7, #8]
 2405 0024 9B69     		ldr	r3, [r3, #24]
 2406              		.loc 1 773 8
 2407 0026 002B     		cmp	r3, #0
 2408 0028 32D1     		bne	.L113
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2409              		.loc 1 775 23
 2410 002a BB69     		ldr	r3, [r7, #24]
 2411 002c 5A01     		lsls	r2, r3, #5
 2412 002e FB69     		ldr	r3, [r7, #28]
 2413 0030 1344     		add	r3, r3, r2
 2414 0032 03F51063 		add	r3, r3, #2304
 2415 0036 1B69     		ldr	r3, [r3, #16]
 2416 0038 BA69     		ldr	r2, [r7, #24]
 2417 003a 5101     		lsls	r1, r2, #5
 2418 003c FA69     		ldr	r2, [r7, #28]
 2419 003e 0A44     		add	r2, r2, r1
 2420 0040 02F51062 		add	r2, r2, #2304
 2421              		.loc 1 775 34
 2422 0044 23F0FF53 		bic	r3, r3, #534773760
ARM GAS  /tmp/ccSAnDQs.s 			page 57


 2423 0048 23F4C013 		bic	r3, r3, #1572864
 2424 004c 1361     		str	r3, [r2, #16]
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2425              		.loc 1 776 23
 2426 004e BB69     		ldr	r3, [r7, #24]
 2427 0050 5A01     		lsls	r2, r3, #5
 2428 0052 FB69     		ldr	r3, [r7, #28]
 2429 0054 1344     		add	r3, r3, r2
 2430 0056 03F51063 		add	r3, r3, #2304
 2431 005a 1B69     		ldr	r3, [r3, #16]
 2432 005c BA69     		ldr	r2, [r7, #24]
 2433 005e 5101     		lsls	r1, r2, #5
 2434 0060 FA69     		ldr	r2, [r7, #28]
 2435 0062 0A44     		add	r2, r2, r1
 2436 0064 02F51062 		add	r2, r2, #2304
 2437              		.loc 1 776 34
 2438 0068 43F40023 		orr	r3, r3, #524288
 2439 006c 1361     		str	r3, [r2, #16]
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2440              		.loc 1 777 23
 2441 006e BB69     		ldr	r3, [r7, #24]
 2442 0070 5A01     		lsls	r2, r3, #5
 2443 0072 FB69     		ldr	r3, [r7, #28]
 2444 0074 1344     		add	r3, r3, r2
 2445 0076 03F51063 		add	r3, r3, #2304
 2446 007a 1B69     		ldr	r3, [r3, #16]
 2447 007c BA69     		ldr	r2, [r7, #24]
 2448 007e 5101     		lsls	r1, r2, #5
 2449 0080 FA69     		ldr	r2, [r7, #28]
 2450 0082 0A44     		add	r2, r2, r1
 2451 0084 02F51062 		add	r2, r2, #2304
 2452              		.loc 1 777 34
 2453 0088 DB0C     		lsrs	r3, r3, #19
 2454 008a DB04     		lsls	r3, r3, #19
 2455 008c 1361     		str	r3, [r2, #16]
 2456 008e 74E0     		b	.L114
 2457              	.L113:
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2458              		.loc 1 786 23
 2459 0090 BB69     		ldr	r3, [r7, #24]
 2460 0092 5A01     		lsls	r2, r3, #5
 2461 0094 FB69     		ldr	r3, [r7, #28]
 2462 0096 1344     		add	r3, r3, r2
 2463 0098 03F51063 		add	r3, r3, #2304
 2464 009c 1B69     		ldr	r3, [r3, #16]
 2465 009e BA69     		ldr	r2, [r7, #24]
 2466 00a0 5101     		lsls	r1, r2, #5
 2467 00a2 FA69     		ldr	r2, [r7, #28]
 2468 00a4 0A44     		add	r2, r2, r1
ARM GAS  /tmp/ccSAnDQs.s 			page 58


 2469 00a6 02F51062 		add	r2, r2, #2304
 2470              		.loc 1 786 34
 2471 00aa DB0C     		lsrs	r3, r3, #19
 2472 00ac DB04     		lsls	r3, r3, #19
 2473 00ae 1361     		str	r3, [r2, #16]
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2474              		.loc 1 787 23
 2475 00b0 BB69     		ldr	r3, [r7, #24]
 2476 00b2 5A01     		lsls	r2, r3, #5
 2477 00b4 FB69     		ldr	r3, [r7, #28]
 2478 00b6 1344     		add	r3, r3, r2
 2479 00b8 03F51063 		add	r3, r3, #2304
 2480 00bc 1B69     		ldr	r3, [r3, #16]
 2481 00be BA69     		ldr	r2, [r7, #24]
 2482 00c0 5101     		lsls	r1, r2, #5
 2483 00c2 FA69     		ldr	r2, [r7, #28]
 2484 00c4 0A44     		add	r2, r2, r1
 2485 00c6 02F51062 		add	r2, r2, #2304
 2486              		.loc 1 787 34
 2487 00ca 23F0FF53 		bic	r3, r3, #534773760
 2488 00ce 23F4C013 		bic	r3, r3, #1572864
 2489 00d2 1361     		str	r3, [r2, #16]
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2490              		.loc 1 788 23
 2491 00d4 BB69     		ldr	r3, [r7, #24]
 2492 00d6 5A01     		lsls	r2, r3, #5
 2493 00d8 FB69     		ldr	r3, [r7, #28]
 2494 00da 1344     		add	r3, r3, r2
 2495 00dc 03F51063 		add	r3, r3, #2304
 2496 00e0 1A69     		ldr	r2, [r3, #16]
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                      (((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket) << 19))
 2497              		.loc 1 789 43
 2498 00e2 BB68     		ldr	r3, [r7, #8]
 2499 00e4 9969     		ldr	r1, [r3, #24]
 2500              		.loc 1 789 58
 2501 00e6 BB68     		ldr	r3, [r7, #8]
 2502 00e8 DB68     		ldr	r3, [r3, #12]
 2503              		.loc 1 789 54
 2504 00ea 0B44     		add	r3, r3, r1
 2505              		.loc 1 789 70
 2506 00ec 591E     		subs	r1, r3, #1
 2507              		.loc 1 789 80
 2508 00ee BB68     		ldr	r3, [r7, #8]
 2509 00f0 DB68     		ldr	r3, [r3, #12]
 2510              		.loc 1 789 76
 2511 00f2 B1FBF3F3 		udiv	r3, r1, r3
 2512              		.loc 1 789 93
 2513 00f6 D904     		lsls	r1, r3, #19
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2514              		.loc 1 788 62
 2515 00f8 9D4B     		ldr	r3, .L129
 2516 00fa 0B40     		ands	r3, r3, r1
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2517              		.loc 1 788 23
 2518 00fc B969     		ldr	r1, [r7, #24]
 2519 00fe 4801     		lsls	r0, r1, #5
 2520 0100 F969     		ldr	r1, [r7, #28]
ARM GAS  /tmp/ccSAnDQs.s 			page 59


 2521 0102 0144     		add	r1, r1, r0
 2522 0104 01F51061 		add	r1, r1, #2304
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2523              		.loc 1 788 34
 2524 0108 1343     		orrs	r3, r3, r2
 2525 010a 0B61     		str	r3, [r1, #16]
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2526              		.loc 1 791 23
 2527 010c BB69     		ldr	r3, [r7, #24]
 2528 010e 5A01     		lsls	r2, r3, #5
 2529 0110 FB69     		ldr	r3, [r7, #28]
 2530 0112 1344     		add	r3, r3, r2
 2531 0114 03F51063 		add	r3, r3, #2304
 2532 0118 1A69     		ldr	r2, [r3, #16]
 2533              		.loc 1 791 66
 2534 011a BB68     		ldr	r3, [r7, #8]
 2535 011c 9B69     		ldr	r3, [r3, #24]
 2536              		.loc 1 791 62
 2537 011e C3F31203 		ubfx	r3, r3, #0, #19
 2538              		.loc 1 791 23
 2539 0122 B969     		ldr	r1, [r7, #24]
 2540 0124 4801     		lsls	r0, r1, #5
 2541 0126 F969     		ldr	r1, [r7, #28]
 2542 0128 0144     		add	r1, r1, r0
 2543 012a 01F51061 		add	r1, r1, #2304
 2544              		.loc 1 791 34
 2545 012e 1343     		orrs	r3, r3, r2
 2546 0130 0B61     		str	r3, [r1, #16]
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2547              		.loc 1 793 13
 2548 0132 BB68     		ldr	r3, [r7, #8]
 2549 0134 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2550              		.loc 1 793 10
 2551 0136 012B     		cmp	r3, #1
 2552 0138 1FD1     		bne	.L114
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT);
 2553              		.loc 1 795 25
 2554 013a BB69     		ldr	r3, [r7, #24]
 2555 013c 5A01     		lsls	r2, r3, #5
 2556 013e FB69     		ldr	r3, [r7, #28]
 2557 0140 1344     		add	r3, r3, r2
 2558 0142 03F51063 		add	r3, r3, #2304
 2559 0146 1B69     		ldr	r3, [r3, #16]
 2560 0148 BA69     		ldr	r2, [r7, #24]
 2561 014a 5101     		lsls	r1, r2, #5
 2562 014c FA69     		ldr	r2, [r7, #28]
 2563 014e 0A44     		add	r2, r2, r1
 2564 0150 02F51062 		add	r2, r2, #2304
 2565              		.loc 1 795 36
 2566 0154 23F0C043 		bic	r3, r3, #1610612736
 2567 0158 1361     		str	r3, [r2, #16]
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29));
 2568              		.loc 1 796 25
 2569 015a BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccSAnDQs.s 			page 60


 2570 015c 5A01     		lsls	r2, r3, #5
 2571 015e FB69     		ldr	r3, [r7, #28]
 2572 0160 1344     		add	r3, r3, r2
 2573 0162 03F51063 		add	r3, r3, #2304
 2574 0166 1B69     		ldr	r3, [r3, #16]
 2575 0168 BA69     		ldr	r2, [r7, #24]
 2576 016a 5101     		lsls	r1, r2, #5
 2577 016c FA69     		ldr	r2, [r7, #28]
 2578 016e 0A44     		add	r2, r2, r1
 2579 0170 02F51062 		add	r2, r2, #2304
 2580              		.loc 1 796 36
 2581 0174 43F00053 		orr	r3, r3, #536870912
 2582 0178 1361     		str	r3, [r2, #16]
 2583              	.L114:
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2584              		.loc 1 800 8
 2585 017a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2586 017c 012B     		cmp	r3, #1
 2587 017e 4BD1     		bne	.L115
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 2588              		.loc 1 802 23
 2589 0180 BB68     		ldr	r3, [r7, #8]
 2590 0182 5B69     		ldr	r3, [r3, #20]
 2591              		.loc 1 802 10
 2592 0184 002B     		cmp	r3, #0
 2593 0186 09D0     		beq	.L116
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2594              		.loc 1 804 9
 2595 0188 BB69     		ldr	r3, [r7, #24]
 2596 018a 5A01     		lsls	r2, r3, #5
 2597 018c FB69     		ldr	r3, [r7, #28]
 2598 018e 1344     		add	r3, r3, r2
 2599 0190 03F51063 		add	r3, r3, #2304
 2600 0194 1A46     		mov	r2, r3
 2601              		.loc 1 804 50
 2602 0196 BB68     		ldr	r3, [r7, #8]
 2603 0198 5B69     		ldr	r3, [r3, #20]
 2604              		.loc 1 804 35
 2605 019a 5361     		str	r3, [r2, #20]
 2606              	.L116:
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2607              		.loc 1 807 13
 2608 019c BB68     		ldr	r3, [r7, #8]
 2609 019e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2610              		.loc 1 807 10
 2611 01a0 012B     		cmp	r3, #1
 2612 01a2 28D1     		bne	.L117
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2613              		.loc 1 809 14
ARM GAS  /tmp/ccSAnDQs.s 			page 61


 2614 01a4 FB69     		ldr	r3, [r7, #28]
 2615 01a6 03F50063 		add	r3, r3, #2048
 2616              		.loc 1 809 25
 2617 01aa 9B68     		ldr	r3, [r3, #8]
 2618              		.loc 1 809 32
 2619 01ac 03F48073 		and	r3, r3, #256
 2620              		.loc 1 809 12
 2621 01b0 002B     		cmp	r3, #0
 2622 01b2 10D1     		bne	.L118
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2623              		.loc 1 811 27
 2624 01b4 BB69     		ldr	r3, [r7, #24]
 2625 01b6 5A01     		lsls	r2, r3, #5
 2626 01b8 FB69     		ldr	r3, [r7, #28]
 2627 01ba 1344     		add	r3, r3, r2
 2628 01bc 03F51063 		add	r3, r3, #2304
 2629 01c0 1B68     		ldr	r3, [r3]
 2630 01c2 BA69     		ldr	r2, [r7, #24]
 2631 01c4 5101     		lsls	r1, r2, #5
 2632 01c6 FA69     		ldr	r2, [r7, #28]
 2633 01c8 0A44     		add	r2, r2, r1
 2634 01ca 02F51062 		add	r2, r2, #2304
 2635              		.loc 1 811 37
 2636 01ce 43F00053 		orr	r3, r3, #536870912
 2637 01d2 1360     		str	r3, [r2]
 2638 01d4 0FE0     		b	.L117
 2639              	.L118:
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2640              		.loc 1 815 27
 2641 01d6 BB69     		ldr	r3, [r7, #24]
 2642 01d8 5A01     		lsls	r2, r3, #5
 2643 01da FB69     		ldr	r3, [r7, #28]
 2644 01dc 1344     		add	r3, r3, r2
 2645 01de 03F51063 		add	r3, r3, #2304
 2646 01e2 1B68     		ldr	r3, [r3]
 2647 01e4 BA69     		ldr	r2, [r7, #24]
 2648 01e6 5101     		lsls	r1, r2, #5
 2649 01e8 FA69     		ldr	r2, [r7, #28]
 2650 01ea 0A44     		add	r2, r2, r1
 2651 01ec 02F51062 		add	r2, r2, #2304
 2652              		.loc 1 815 37
 2653 01f0 43F08053 		orr	r3, r3, #268435456
 2654 01f4 1360     		str	r3, [r2]
 2655              	.L117:
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2656              		.loc 1 820 23
 2657 01f6 BB69     		ldr	r3, [r7, #24]
 2658 01f8 5A01     		lsls	r2, r3, #5
 2659 01fa FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/ccSAnDQs.s 			page 62


 2660 01fc 1344     		add	r3, r3, r2
 2661 01fe 03F51063 		add	r3, r3, #2304
 2662 0202 1B68     		ldr	r3, [r3]
 2663 0204 BA69     		ldr	r2, [r7, #24]
 2664 0206 5101     		lsls	r1, r2, #5
 2665 0208 FA69     		ldr	r2, [r7, #28]
 2666 020a 0A44     		add	r2, r2, r1
 2667 020c 02F51062 		add	r2, r2, #2304
 2668              		.loc 1 820 33
 2669 0210 43F00443 		orr	r3, r3, #-2080374784
 2670 0214 1360     		str	r3, [r2]
 2671 0216 33E1     		b	.L119
 2672              	.L115:
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2673              		.loc 1 825 23
 2674 0218 BB69     		ldr	r3, [r7, #24]
 2675 021a 5A01     		lsls	r2, r3, #5
 2676 021c FB69     		ldr	r3, [r7, #28]
 2677 021e 1344     		add	r3, r3, r2
 2678 0220 03F51063 		add	r3, r3, #2304
 2679 0224 1B68     		ldr	r3, [r3]
 2680 0226 BA69     		ldr	r2, [r7, #24]
 2681 0228 5101     		lsls	r1, r2, #5
 2682 022a FA69     		ldr	r2, [r7, #28]
 2683 022c 0A44     		add	r2, r2, r1
 2684 022e 02F51062 		add	r2, r2, #2304
 2685              		.loc 1 825 33
 2686 0232 43F00443 		orr	r3, r3, #-2080374784
 2687 0236 1360     		str	r3, [r2]
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 2688              		.loc 1 827 13
 2689 0238 BB68     		ldr	r3, [r7, #8]
 2690 023a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2691              		.loc 1 827 10
 2692 023c 012B     		cmp	r3, #1
 2693 023e 15D0     		beq	.L120
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Enable the Tx FIFO Empty Interrupt for this EP */
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (ep->xfer_len > 0U)
 2694              		.loc 1 830 15
 2695 0240 BB68     		ldr	r3, [r7, #8]
 2696 0242 9B69     		ldr	r3, [r3, #24]
 2697              		.loc 1 830 12
 2698 0244 002B     		cmp	r3, #0
 2699 0246 00F01B81 		beq	.L119
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2700              		.loc 1 832 22
 2701 024a FB69     		ldr	r3, [r7, #28]
 2702 024c 03F50063 		add	r3, r3, #2048
 2703 0250 5A6B     		ldr	r2, [r3, #52]
 2704              		.loc 1 832 48
ARM GAS  /tmp/ccSAnDQs.s 			page 63


 2705 0252 BB68     		ldr	r3, [r7, #8]
 2706 0254 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2707              		.loc 1 832 54
 2708 0256 03F00F03 		and	r3, r3, #15
 2709              		.loc 1 832 42
 2710 025a 0121     		movs	r1, #1
 2711 025c 01FA03F3 		lsl	r3, r1, r3
 2712              		.loc 1 832 22
 2713 0260 F969     		ldr	r1, [r7, #28]
 2714 0262 01F50061 		add	r1, r1, #2048
 2715              		.loc 1 832 35
 2716 0266 1343     		orrs	r3, r3, r2
 2717 0268 4B63     		str	r3, [r1, #52]
 2718 026a 09E1     		b	.L119
 2719              	.L120:
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2720              		.loc 1 837 14
 2721 026c FB69     		ldr	r3, [r7, #28]
 2722 026e 03F50063 		add	r3, r3, #2048
 2723              		.loc 1 837 25
 2724 0272 9B68     		ldr	r3, [r3, #8]
 2725              		.loc 1 837 32
 2726 0274 03F48073 		and	r3, r3, #256
 2727              		.loc 1 837 12
 2728 0278 002B     		cmp	r3, #0
 2729 027a 10D1     		bne	.L121
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2730              		.loc 1 839 27
 2731 027c BB69     		ldr	r3, [r7, #24]
 2732 027e 5A01     		lsls	r2, r3, #5
 2733 0280 FB69     		ldr	r3, [r7, #28]
 2734 0282 1344     		add	r3, r3, r2
 2735 0284 03F51063 		add	r3, r3, #2304
 2736 0288 1B68     		ldr	r3, [r3]
 2737 028a BA69     		ldr	r2, [r7, #24]
 2738 028c 5101     		lsls	r1, r2, #5
 2739 028e FA69     		ldr	r2, [r7, #28]
 2740 0290 0A44     		add	r2, r2, r1
 2741 0292 02F51062 		add	r2, r2, #2304
 2742              		.loc 1 839 37
 2743 0296 43F00053 		orr	r3, r3, #536870912
 2744 029a 1360     		str	r3, [r2]
 2745 029c 0FE0     		b	.L122
 2746              	.L121:
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2747              		.loc 1 843 27
 2748 029e BB69     		ldr	r3, [r7, #24]
 2749 02a0 5A01     		lsls	r2, r3, #5
 2750 02a2 FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/ccSAnDQs.s 			page 64


 2751 02a4 1344     		add	r3, r3, r2
 2752 02a6 03F51063 		add	r3, r3, #2304
 2753 02aa 1B68     		ldr	r3, [r3]
 2754 02ac BA69     		ldr	r2, [r7, #24]
 2755 02ae 5101     		lsls	r1, r2, #5
 2756 02b0 FA69     		ldr	r2, [r7, #28]
 2757 02b2 0A44     		add	r2, r2, r1
 2758 02b4 02F51062 		add	r2, r2, #2304
 2759              		.loc 1 843 37
 2760 02b8 43F08053 		orr	r3, r3, #268435456
 2761 02bc 1360     		str	r3, [r2]
 2762              	.L122:
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         (void)USB_WritePacket(USBx, ep->xfer_buff, ep->num, (uint16_t)ep->xfer_len, dma);
 2763              		.loc 1 846 15
 2764 02be BB68     		ldr	r3, [r7, #8]
 2765 02c0 1969     		ldr	r1, [r3, #16]
 2766 02c2 BB68     		ldr	r3, [r7, #8]
 2767 02c4 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2768              		.loc 1 846 73
 2769 02c6 BB68     		ldr	r3, [r7, #8]
 2770 02c8 9B69     		ldr	r3, [r3, #24]
 2771              		.loc 1 846 15
 2772 02ca 98B2     		uxth	r0, r3
 2773 02cc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2774 02ce 0093     		str	r3, [sp]
 2775 02d0 0346     		mov	r3, r0
 2776 02d2 F868     		ldr	r0, [r7, #12]
 2777 02d4 FFF7FEFF 		bl	USB_WritePacket
 2778 02d8 D2E0     		b	.L119
 2779              	.L112:
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2780              		.loc 1 856 22
 2781 02da BB69     		ldr	r3, [r7, #24]
 2782 02dc 5A01     		lsls	r2, r3, #5
 2783 02de FB69     		ldr	r3, [r7, #28]
 2784 02e0 1344     		add	r3, r3, r2
 2785 02e2 03F53063 		add	r3, r3, #2816
 2786 02e6 1B69     		ldr	r3, [r3, #16]
 2787 02e8 BA69     		ldr	r2, [r7, #24]
 2788 02ea 5101     		lsls	r1, r2, #5
 2789 02ec FA69     		ldr	r2, [r7, #28]
 2790 02ee 0A44     		add	r2, r2, r1
 2791 02f0 02F53062 		add	r2, r2, #2816
 2792              		.loc 1 856 33
 2793 02f4 DB0C     		lsrs	r3, r3, #19
 2794 02f6 DB04     		lsls	r3, r3, #19
ARM GAS  /tmp/ccSAnDQs.s 			page 65


 2795 02f8 1361     		str	r3, [r2, #16]
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2796              		.loc 1 857 22
 2797 02fa BB69     		ldr	r3, [r7, #24]
 2798 02fc 5A01     		lsls	r2, r3, #5
 2799 02fe FB69     		ldr	r3, [r7, #28]
 2800 0300 1344     		add	r3, r3, r2
 2801 0302 03F53063 		add	r3, r3, #2816
 2802 0306 1B69     		ldr	r3, [r3, #16]
 2803 0308 BA69     		ldr	r2, [r7, #24]
 2804 030a 5101     		lsls	r1, r2, #5
 2805 030c FA69     		ldr	r2, [r7, #28]
 2806 030e 0A44     		add	r2, r2, r1
 2807 0310 02F53062 		add	r2, r2, #2816
 2808              		.loc 1 857 33
 2809 0314 23F0FF53 		bic	r3, r3, #534773760
 2810 0318 23F4C013 		bic	r3, r3, #1572864
 2811 031c 1361     		str	r3, [r2, #16]
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2812              		.loc 1 859 11
 2813 031e BB68     		ldr	r3, [r7, #8]
 2814 0320 9B69     		ldr	r3, [r3, #24]
 2815              		.loc 1 859 8
 2816 0322 002B     		cmp	r3, #0
 2817 0324 26D1     		bne	.L123
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2818              		.loc 1 861 24
 2819 0326 BB69     		ldr	r3, [r7, #24]
 2820 0328 5A01     		lsls	r2, r3, #5
 2821 032a FB69     		ldr	r3, [r7, #28]
 2822 032c 1344     		add	r3, r3, r2
 2823 032e 03F53063 		add	r3, r3, #2816
 2824 0332 1A69     		ldr	r2, [r3, #16]
 2825              		.loc 1 861 67
 2826 0334 BB68     		ldr	r3, [r7, #8]
 2827 0336 DB68     		ldr	r3, [r3, #12]
 2828              		.loc 1 861 63
 2829 0338 C3F31203 		ubfx	r3, r3, #0, #19
 2830              		.loc 1 861 24
 2831 033c B969     		ldr	r1, [r7, #24]
 2832 033e 4801     		lsls	r0, r1, #5
 2833 0340 F969     		ldr	r1, [r7, #28]
 2834 0342 0144     		add	r1, r1, r0
 2835 0344 01F53061 		add	r1, r1, #2816
 2836              		.loc 1 861 35
 2837 0348 1343     		orrs	r3, r3, r2
 2838 034a 0B61     		str	r3, [r1, #16]
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2839              		.loc 1 862 24
 2840 034c BB69     		ldr	r3, [r7, #24]
 2841 034e 5A01     		lsls	r2, r3, #5
 2842 0350 FB69     		ldr	r3, [r7, #28]
 2843 0352 1344     		add	r3, r3, r2
 2844 0354 03F53063 		add	r3, r3, #2816
 2845 0358 1B69     		ldr	r3, [r3, #16]
ARM GAS  /tmp/ccSAnDQs.s 			page 66


 2846 035a BA69     		ldr	r2, [r7, #24]
 2847 035c 5101     		lsls	r1, r2, #5
 2848 035e FA69     		ldr	r2, [r7, #28]
 2849 0360 0A44     		add	r2, r2, r1
 2850 0362 02F53062 		add	r2, r2, #2816
 2851              		.loc 1 862 35
 2852 0366 43F40023 		orr	r3, r3, #524288
 2853 036a 1361     		str	r3, [r2, #16]
 2854 036c 3AE0     		b	.L124
 2855              	.L130:
 2856 036e 00BF     		.align	2
 2857              	.L129:
 2858 0370 0000F81F 		.word	536346624
 2859              	.L123:
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
 2860              		.loc 1 866 30
 2861 0374 BB68     		ldr	r3, [r7, #8]
 2862 0376 9A69     		ldr	r2, [r3, #24]
 2863              		.loc 1 866 45
 2864 0378 BB68     		ldr	r3, [r7, #8]
 2865 037a DB68     		ldr	r3, [r3, #12]
 2866              		.loc 1 866 41
 2867 037c 1344     		add	r3, r3, r2
 2868              		.loc 1 866 57
 2869 037e 5A1E     		subs	r2, r3, #1
 2870              		.loc 1 866 67
 2871 0380 BB68     		ldr	r3, [r7, #8]
 2872 0382 DB68     		ldr	r3, [r3, #12]
 2873              		.loc 1 866 63
 2874 0384 B2FBF3F3 		udiv	r3, r2, r3
 2875              		.loc 1 866 14
 2876 0388 FB82     		strh	r3, [r7, #22]	@ movhi
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_size = ep->maxpacket * pktcnt;
 2877              		.loc 1 867 25
 2878 038a BB68     		ldr	r3, [r7, #8]
 2879 038c DB68     		ldr	r3, [r3, #12]
 2880              		.loc 1 867 37
 2881 038e FA8A     		ldrh	r2, [r7, #22]
 2882 0390 03FB02F2 		mul	r2, r3, r2
 2883              		.loc 1 867 21
 2884 0394 BB68     		ldr	r3, [r7, #8]
 2885 0396 DA61     		str	r2, [r3, #28]
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19);
 2886              		.loc 1 869 24
 2887 0398 BB69     		ldr	r3, [r7, #24]
 2888 039a 5A01     		lsls	r2, r3, #5
 2889 039c FB69     		ldr	r3, [r7, #28]
 2890 039e 1344     		add	r3, r3, r2
 2891 03a0 03F53063 		add	r3, r3, #2816
 2892 03a4 1A69     		ldr	r2, [r3, #16]
 2893              		.loc 1 869 65
 2894 03a6 FB8A     		ldrh	r3, [r7, #22]
 2895              		.loc 1 869 82
ARM GAS  /tmp/ccSAnDQs.s 			page 67


 2896 03a8 D904     		lsls	r1, r3, #19
 2897              		.loc 1 869 62
 2898 03aa 384B     		ldr	r3, .L131
 2899 03ac 0B40     		ands	r3, r3, r1
 2900              		.loc 1 869 24
 2901 03ae B969     		ldr	r1, [r7, #24]
 2902 03b0 4801     		lsls	r0, r1, #5
 2903 03b2 F969     		ldr	r1, [r7, #28]
 2904 03b4 0144     		add	r1, r1, r0
 2905 03b6 01F53061 		add	r1, r1, #2816
 2906              		.loc 1 869 35
 2907 03ba 1343     		orrs	r3, r3, r2
 2908 03bc 0B61     		str	r3, [r1, #16]
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size;
 2909              		.loc 1 870 24
 2910 03be BB69     		ldr	r3, [r7, #24]
 2911 03c0 5A01     		lsls	r2, r3, #5
 2912 03c2 FB69     		ldr	r3, [r7, #28]
 2913 03c4 1344     		add	r3, r3, r2
 2914 03c6 03F53063 		add	r3, r3, #2816
 2915 03ca 1A69     		ldr	r2, [r3, #16]
 2916              		.loc 1 870 66
 2917 03cc BB68     		ldr	r3, [r7, #8]
 2918 03ce DB69     		ldr	r3, [r3, #28]
 2919              		.loc 1 870 62
 2920 03d0 C3F31203 		ubfx	r3, r3, #0, #19
 2921              		.loc 1 870 24
 2922 03d4 B969     		ldr	r1, [r7, #24]
 2923 03d6 4801     		lsls	r0, r1, #5
 2924 03d8 F969     		ldr	r1, [r7, #28]
 2925 03da 0144     		add	r1, r1, r0
 2926 03dc 01F53061 		add	r1, r1, #2816
 2927              		.loc 1 870 35
 2928 03e0 1343     		orrs	r3, r3, r2
 2929 03e2 0B61     		str	r3, [r1, #16]
 2930              	.L124:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2931              		.loc 1 873 8
 2932 03e4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2933 03e6 012B     		cmp	r3, #1
 2934 03e8 0DD1     		bne	.L125
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 2935              		.loc 1 875 23
 2936 03ea BB68     		ldr	r3, [r7, #8]
 2937 03ec 1B69     		ldr	r3, [r3, #16]
 2938              		.loc 1 875 10
 2939 03ee 002B     		cmp	r3, #0
 2940 03f0 09D0     		beq	.L125
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2941              		.loc 1 877 51
 2942 03f2 BB68     		ldr	r3, [r7, #8]
 2943 03f4 1969     		ldr	r1, [r3, #16]
 2944              		.loc 1 877 9
ARM GAS  /tmp/ccSAnDQs.s 			page 68


 2945 03f6 BB69     		ldr	r3, [r7, #24]
 2946 03f8 5A01     		lsls	r2, r3, #5
 2947 03fa FB69     		ldr	r3, [r7, #28]
 2948 03fc 1344     		add	r3, r3, r2
 2949 03fe 03F53063 		add	r3, r3, #2816
 2950              		.loc 1 877 38
 2951 0402 0A46     		mov	r2, r1
 2952              		.loc 1 877 36
 2953 0404 5A61     		str	r2, [r3, #20]
 2954              	.L125:
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2955              		.loc 1 881 11
 2956 0406 BB68     		ldr	r3, [r7, #8]
 2957 0408 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2958              		.loc 1 881 8
 2959 040a 012B     		cmp	r3, #1
 2960 040c 28D1     		bne	.L126
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2961              		.loc 1 883 12
 2962 040e FB69     		ldr	r3, [r7, #28]
 2963 0410 03F50063 		add	r3, r3, #2048
 2964              		.loc 1 883 23
 2965 0414 9B68     		ldr	r3, [r3, #8]
 2966              		.loc 1 883 30
 2967 0416 03F48073 		and	r3, r3, #256
 2968              		.loc 1 883 10
 2969 041a 002B     		cmp	r3, #0
 2970 041c 10D1     		bne	.L127
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 2971              		.loc 1 885 26
 2972 041e BB69     		ldr	r3, [r7, #24]
 2973 0420 5A01     		lsls	r2, r3, #5
 2974 0422 FB69     		ldr	r3, [r7, #28]
 2975 0424 1344     		add	r3, r3, r2
 2976 0426 03F53063 		add	r3, r3, #2816
 2977 042a 1B68     		ldr	r3, [r3]
 2978 042c BA69     		ldr	r2, [r7, #24]
 2979 042e 5101     		lsls	r1, r2, #5
 2980 0430 FA69     		ldr	r2, [r7, #28]
 2981 0432 0A44     		add	r2, r2, r1
 2982 0434 02F53062 		add	r2, r2, #2816
 2983              		.loc 1 885 36
 2984 0438 43F00053 		orr	r3, r3, #536870912
 2985 043c 1360     		str	r3, [r2]
 2986 043e 0FE0     		b	.L126
 2987              	.L127:
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2988              		.loc 1 889 26
 2989 0440 BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccSAnDQs.s 			page 69


 2990 0442 5A01     		lsls	r2, r3, #5
 2991 0444 FB69     		ldr	r3, [r7, #28]
 2992 0446 1344     		add	r3, r3, r2
 2993 0448 03F53063 		add	r3, r3, #2816
 2994 044c 1B68     		ldr	r3, [r3]
 2995 044e BA69     		ldr	r2, [r7, #24]
 2996 0450 5101     		lsls	r1, r2, #5
 2997 0452 FA69     		ldr	r2, [r7, #28]
 2998 0454 0A44     		add	r2, r2, r1
 2999 0456 02F53062 		add	r2, r2, #2816
 3000              		.loc 1 889 36
 3001 045a 43F08053 		orr	r3, r3, #268435456
 3002 045e 1360     		str	r3, [r2]
 3003              	.L126:
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 3004              		.loc 1 893 22
 3005 0460 BB69     		ldr	r3, [r7, #24]
 3006 0462 5A01     		lsls	r2, r3, #5
 3007 0464 FB69     		ldr	r3, [r7, #28]
 3008 0466 1344     		add	r3, r3, r2
 3009 0468 03F53063 		add	r3, r3, #2816
 3010 046c 1B68     		ldr	r3, [r3]
 3011 046e BA69     		ldr	r2, [r7, #24]
 3012 0470 5101     		lsls	r1, r2, #5
 3013 0472 FA69     		ldr	r2, [r7, #28]
 3014 0474 0A44     		add	r2, r2, r1
 3015 0476 02F53062 		add	r2, r2, #2816
 3016              		.loc 1 893 32
 3017 047a 43F00443 		orr	r3, r3, #-2080374784
 3018 047e 1360     		str	r3, [r2]
 3019              	.L119:
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3020              		.loc 1 896 10
 3021 0480 0023     		movs	r3, #0
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3022              		.loc 1 897 1
 3023 0482 1846     		mov	r0, r3
 3024 0484 2037     		adds	r7, r7, #32
 3025              	.LCFI90:
 3026              		.cfi_def_cfa_offset 8
 3027 0486 BD46     		mov	sp, r7
 3028              	.LCFI91:
 3029              		.cfi_def_cfa_register 13
 3030              		@ sp needed
 3031 0488 80BD     		pop	{r7, pc}
 3032              	.L132:
 3033 048a 00BF     		.align	2
 3034              	.L131:
 3035 048c 0000F81F 		.word	536346624
 3036              		.cfi_endproc
 3037              	.LFE230:
 3039              		.section	.text.USB_EP0StartXfer,"ax",%progbits
ARM GAS  /tmp/ccSAnDQs.s 			page 70


 3040              		.align	1
 3041              		.global	USB_EP0StartXfer
 3042              		.syntax unified
 3043              		.thumb
 3044              		.thumb_func
 3046              	USB_EP0StartXfer:
 3047              	.LFB231:
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3048              		.loc 1 910 1
 3049              		.cfi_startproc
 3050              		@ args = 0, pretend = 0, frame = 24
 3051              		@ frame_needed = 1, uses_anonymous_args = 0
 3052              		@ link register save eliminated.
 3053 0000 80B4     		push	{r7}
 3054              	.LCFI92:
 3055              		.cfi_def_cfa_offset 4
 3056              		.cfi_offset 7, -4
 3057 0002 87B0     		sub	sp, sp, #28
 3058              	.LCFI93:
 3059              		.cfi_def_cfa_offset 32
 3060 0004 00AF     		add	r7, sp, #0
 3061              	.LCFI94:
 3062              		.cfi_def_cfa_register 7
 3063 0006 F860     		str	r0, [r7, #12]
 3064 0008 B960     		str	r1, [r7, #8]
 3065 000a 1346     		mov	r3, r2
 3066 000c FB71     		strb	r3, [r7, #7]
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3067              		.loc 1 911 12
 3068 000e FB68     		ldr	r3, [r7, #12]
 3069 0010 7B61     		str	r3, [r7, #20]
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3070              		.loc 1 912 32
 3071 0012 BB68     		ldr	r3, [r7, #8]
 3072 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3073              		.loc 1 912 12
 3074 0016 3B61     		str	r3, [r7, #16]
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3075              		.loc 1 915 9
 3076 0018 BB68     		ldr	r3, [r7, #8]
 3077 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3078              		.loc 1 915 6
 3079 001c 012B     		cmp	r3, #1
ARM GAS  /tmp/ccSAnDQs.s 			page 71


 3080 001e 40F0CE80 		bne	.L134
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 3081              		.loc 1 918 11
 3082 0022 BB68     		ldr	r3, [r7, #8]
 3083 0024 9B69     		ldr	r3, [r3, #24]
 3084              		.loc 1 918 8
 3085 0026 002B     		cmp	r3, #0
 3086 0028 32D1     		bne	.L135
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 3087              		.loc 1 920 23
 3088 002a 3B69     		ldr	r3, [r7, #16]
 3089 002c 5A01     		lsls	r2, r3, #5
 3090 002e 7B69     		ldr	r3, [r7, #20]
 3091 0030 1344     		add	r3, r3, r2
 3092 0032 03F51063 		add	r3, r3, #2304
 3093 0036 1B69     		ldr	r3, [r3, #16]
 3094 0038 3A69     		ldr	r2, [r7, #16]
 3095 003a 5101     		lsls	r1, r2, #5
 3096 003c 7A69     		ldr	r2, [r7, #20]
 3097 003e 0A44     		add	r2, r2, r1
 3098 0040 02F51062 		add	r2, r2, #2304
 3099              		.loc 1 920 34
 3100 0044 23F0FF53 		bic	r3, r3, #534773760
 3101 0048 23F4C013 		bic	r3, r3, #1572864
 3102 004c 1361     		str	r3, [r2, #16]
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 3103              		.loc 1 921 23
 3104 004e 3B69     		ldr	r3, [r7, #16]
 3105 0050 5A01     		lsls	r2, r3, #5
 3106 0052 7B69     		ldr	r3, [r7, #20]
 3107 0054 1344     		add	r3, r3, r2
 3108 0056 03F51063 		add	r3, r3, #2304
 3109 005a 1B69     		ldr	r3, [r3, #16]
 3110 005c 3A69     		ldr	r2, [r7, #16]
 3111 005e 5101     		lsls	r1, r2, #5
 3112 0060 7A69     		ldr	r2, [r7, #20]
 3113 0062 0A44     		add	r2, r2, r1
 3114 0064 02F51062 		add	r2, r2, #2304
 3115              		.loc 1 921 34
 3116 0068 43F40023 		orr	r3, r3, #524288
 3117 006c 1361     		str	r3, [r2, #16]
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 3118              		.loc 1 922 23
 3119 006e 3B69     		ldr	r3, [r7, #16]
 3120 0070 5A01     		lsls	r2, r3, #5
 3121 0072 7B69     		ldr	r3, [r7, #20]
 3122 0074 1344     		add	r3, r3, r2
 3123 0076 03F51063 		add	r3, r3, #2304
 3124 007a 1B69     		ldr	r3, [r3, #16]
 3125 007c 3A69     		ldr	r2, [r7, #16]
 3126 007e 5101     		lsls	r1, r2, #5
 3127 0080 7A69     		ldr	r2, [r7, #20]
 3128 0082 0A44     		add	r2, r2, r1
 3129 0084 02F51062 		add	r2, r2, #2304
ARM GAS  /tmp/ccSAnDQs.s 			page 72


 3130              		.loc 1 922 34
 3131 0088 DB0C     		lsrs	r3, r3, #19
 3132 008a DB04     		lsls	r3, r3, #19
 3133 008c 1361     		str	r3, [r2, #16]
 3134 008e 4EE0     		b	.L136
 3135              	.L135:
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 3136              		.loc 1 931 23
 3137 0090 3B69     		ldr	r3, [r7, #16]
 3138 0092 5A01     		lsls	r2, r3, #5
 3139 0094 7B69     		ldr	r3, [r7, #20]
 3140 0096 1344     		add	r3, r3, r2
 3141 0098 03F51063 		add	r3, r3, #2304
 3142 009c 1B69     		ldr	r3, [r3, #16]
 3143 009e 3A69     		ldr	r2, [r7, #16]
 3144 00a0 5101     		lsls	r1, r2, #5
 3145 00a2 7A69     		ldr	r2, [r7, #20]
 3146 00a4 0A44     		add	r2, r2, r1
 3147 00a6 02F51062 		add	r2, r2, #2304
 3148              		.loc 1 931 34
 3149 00aa DB0C     		lsrs	r3, r3, #19
 3150 00ac DB04     		lsls	r3, r3, #19
 3151 00ae 1361     		str	r3, [r2, #16]
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 3152              		.loc 1 932 23
 3153 00b0 3B69     		ldr	r3, [r7, #16]
 3154 00b2 5A01     		lsls	r2, r3, #5
 3155 00b4 7B69     		ldr	r3, [r7, #20]
 3156 00b6 1344     		add	r3, r3, r2
 3157 00b8 03F51063 		add	r3, r3, #2304
 3158 00bc 1B69     		ldr	r3, [r3, #16]
 3159 00be 3A69     		ldr	r2, [r7, #16]
 3160 00c0 5101     		lsls	r1, r2, #5
 3161 00c2 7A69     		ldr	r2, [r7, #20]
 3162 00c4 0A44     		add	r2, r2, r1
 3163 00c6 02F51062 		add	r2, r2, #2304
 3164              		.loc 1 932 34
 3165 00ca 23F0FF53 		bic	r3, r3, #534773760
 3166 00ce 23F4C013 		bic	r3, r3, #1572864
 3167 00d2 1361     		str	r3, [r2, #16]
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 3168              		.loc 1 934 13
 3169 00d4 BB68     		ldr	r3, [r7, #8]
 3170 00d6 9A69     		ldr	r2, [r3, #24]
 3171              		.loc 1 934 28
 3172 00d8 BB68     		ldr	r3, [r7, #8]
 3173 00da DB68     		ldr	r3, [r3, #12]
 3174              		.loc 1 934 10
ARM GAS  /tmp/ccSAnDQs.s 			page 73


 3175 00dc 9A42     		cmp	r2, r3
 3176 00de 03D9     		bls	.L137
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 3177              		.loc 1 936 26
 3178 00e0 BB68     		ldr	r3, [r7, #8]
 3179 00e2 DA68     		ldr	r2, [r3, #12]
 3180              		.loc 1 936 22
 3181 00e4 BB68     		ldr	r3, [r7, #8]
 3182 00e6 9A61     		str	r2, [r3, #24]
 3183              	.L137:
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 3184              		.loc 1 938 23
 3185 00e8 3B69     		ldr	r3, [r7, #16]
 3186 00ea 5A01     		lsls	r2, r3, #5
 3187 00ec 7B69     		ldr	r3, [r7, #20]
 3188 00ee 1344     		add	r3, r3, r2
 3189 00f0 03F51063 		add	r3, r3, #2304
 3190 00f4 1B69     		ldr	r3, [r3, #16]
 3191 00f6 3A69     		ldr	r2, [r7, #16]
 3192 00f8 5101     		lsls	r1, r2, #5
 3193 00fa 7A69     		ldr	r2, [r7, #20]
 3194 00fc 0A44     		add	r2, r2, r1
 3195 00fe 02F51062 		add	r2, r2, #2304
 3196              		.loc 1 938 34
 3197 0102 43F40023 		orr	r3, r3, #524288
 3198 0106 1361     		str	r3, [r2, #16]
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 3199              		.loc 1 939 23
 3200 0108 3B69     		ldr	r3, [r7, #16]
 3201 010a 5A01     		lsls	r2, r3, #5
 3202 010c 7B69     		ldr	r3, [r7, #20]
 3203 010e 1344     		add	r3, r3, r2
 3204 0110 03F51063 		add	r3, r3, #2304
 3205 0114 1A69     		ldr	r2, [r3, #16]
 3206              		.loc 1 939 66
 3207 0116 BB68     		ldr	r3, [r7, #8]
 3208 0118 9B69     		ldr	r3, [r3, #24]
 3209              		.loc 1 939 62
 3210 011a C3F31203 		ubfx	r3, r3, #0, #19
 3211              		.loc 1 939 23
 3212 011e 3969     		ldr	r1, [r7, #16]
 3213 0120 4801     		lsls	r0, r1, #5
 3214 0122 7969     		ldr	r1, [r7, #20]
 3215 0124 0144     		add	r1, r1, r0
 3216 0126 01F51061 		add	r1, r1, #2304
 3217              		.loc 1 939 34
 3218 012a 1343     		orrs	r3, r3, r2
 3219 012c 0B61     		str	r3, [r1, #16]
 3220              	.L136:
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 3221              		.loc 1 942 8
 3222 012e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3223 0130 012B     		cmp	r3, #1
ARM GAS  /tmp/ccSAnDQs.s 			page 74


 3224 0132 1ED1     		bne	.L138
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 3225              		.loc 1 944 23
 3226 0134 BB68     		ldr	r3, [r7, #8]
 3227 0136 5B69     		ldr	r3, [r3, #20]
 3228              		.loc 1 944 10
 3229 0138 002B     		cmp	r3, #0
 3230 013a 09D0     		beq	.L139
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 3231              		.loc 1 946 9
 3232 013c 3B69     		ldr	r3, [r7, #16]
 3233 013e 5A01     		lsls	r2, r3, #5
 3234 0140 7B69     		ldr	r3, [r7, #20]
 3235 0142 1344     		add	r3, r3, r2
 3236 0144 03F51063 		add	r3, r3, #2304
 3237 0148 1A46     		mov	r2, r3
 3238              		.loc 1 946 50
 3239 014a BB68     		ldr	r3, [r7, #8]
 3240 014c 5B69     		ldr	r3, [r3, #20]
 3241              		.loc 1 946 35
 3242 014e 5361     		str	r3, [r2, #20]
 3243              	.L139:
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 3244              		.loc 1 950 23
 3245 0150 3B69     		ldr	r3, [r7, #16]
 3246 0152 5A01     		lsls	r2, r3, #5
 3247 0154 7B69     		ldr	r3, [r7, #20]
 3248 0156 1344     		add	r3, r3, r2
 3249 0158 03F51063 		add	r3, r3, #2304
 3250 015c 1B68     		ldr	r3, [r3]
 3251 015e 3A69     		ldr	r2, [r7, #16]
 3252 0160 5101     		lsls	r1, r2, #5
 3253 0162 7A69     		ldr	r2, [r7, #20]
 3254 0164 0A44     		add	r2, r2, r1
 3255 0166 02F51062 		add	r2, r2, #2304
 3256              		.loc 1 950 33
 3257 016a 43F00443 		orr	r3, r3, #-2080374784
 3258 016e 1360     		str	r3, [r2]
 3259 0170 97E0     		b	.L140
 3260              	.L138:
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 3261              		.loc 1 955 23
 3262 0172 3B69     		ldr	r3, [r7, #16]
 3263 0174 5A01     		lsls	r2, r3, #5
 3264 0176 7B69     		ldr	r3, [r7, #20]
 3265 0178 1344     		add	r3, r3, r2
 3266 017a 03F51063 		add	r3, r3, #2304
 3267 017e 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccSAnDQs.s 			page 75


 3268 0180 3A69     		ldr	r2, [r7, #16]
 3269 0182 5101     		lsls	r1, r2, #5
 3270 0184 7A69     		ldr	r2, [r7, #20]
 3271 0186 0A44     		add	r2, r2, r1
 3272 0188 02F51062 		add	r2, r2, #2304
 3273              		.loc 1 955 33
 3274 018c 43F00443 		orr	r3, r3, #-2080374784
 3275 0190 1360     		str	r3, [r2]
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 3276              		.loc 1 958 13
 3277 0192 BB68     		ldr	r3, [r7, #8]
 3278 0194 9B69     		ldr	r3, [r3, #24]
 3279              		.loc 1 958 10
 3280 0196 002B     		cmp	r3, #0
 3281 0198 00F08380 		beq	.L140
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 3282              		.loc 1 960 20
 3283 019c 7B69     		ldr	r3, [r7, #20]
 3284 019e 03F50063 		add	r3, r3, #2048
 3285 01a2 5A6B     		ldr	r2, [r3, #52]
 3286              		.loc 1 960 46
 3287 01a4 BB68     		ldr	r3, [r7, #8]
 3288 01a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3289              		.loc 1 960 52
 3290 01a8 03F00F03 		and	r3, r3, #15
 3291              		.loc 1 960 40
 3292 01ac 0121     		movs	r1, #1
 3293 01ae 01FA03F3 		lsl	r3, r1, r3
 3294              		.loc 1 960 20
 3295 01b2 7969     		ldr	r1, [r7, #20]
 3296 01b4 01F50061 		add	r1, r1, #2048
 3297              		.loc 1 960 33
 3298 01b8 1343     		orrs	r3, r3, r2
 3299 01ba 4B63     		str	r3, [r1, #52]
 3300 01bc 71E0     		b	.L140
 3301              	.L134:
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 3302              		.loc 1 970 22
 3303 01be 3B69     		ldr	r3, [r7, #16]
 3304 01c0 5A01     		lsls	r2, r3, #5
 3305 01c2 7B69     		ldr	r3, [r7, #20]
 3306 01c4 1344     		add	r3, r3, r2
 3307 01c6 03F53063 		add	r3, r3, #2816
 3308 01ca 1B69     		ldr	r3, [r3, #16]
 3309 01cc 3A69     		ldr	r2, [r7, #16]
ARM GAS  /tmp/ccSAnDQs.s 			page 76


 3310 01ce 5101     		lsls	r1, r2, #5
 3311 01d0 7A69     		ldr	r2, [r7, #20]
 3312 01d2 0A44     		add	r2, r2, r1
 3313 01d4 02F53062 		add	r2, r2, #2816
 3314              		.loc 1 970 33
 3315 01d8 DB0C     		lsrs	r3, r3, #19
 3316 01da DB04     		lsls	r3, r3, #19
 3317 01dc 1361     		str	r3, [r2, #16]
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 3318              		.loc 1 971 22
 3319 01de 3B69     		ldr	r3, [r7, #16]
 3320 01e0 5A01     		lsls	r2, r3, #5
 3321 01e2 7B69     		ldr	r3, [r7, #20]
 3322 01e4 1344     		add	r3, r3, r2
 3323 01e6 03F53063 		add	r3, r3, #2816
 3324 01ea 1B69     		ldr	r3, [r3, #16]
 3325 01ec 3A69     		ldr	r2, [r7, #16]
 3326 01ee 5101     		lsls	r1, r2, #5
 3327 01f0 7A69     		ldr	r2, [r7, #20]
 3328 01f2 0A44     		add	r2, r2, r1
 3329 01f4 02F53062 		add	r2, r2, #2816
 3330              		.loc 1 971 33
 3331 01f8 23F0FF53 		bic	r3, r3, #534773760
 3332 01fc 23F4C013 		bic	r3, r3, #1572864
 3333 0200 1361     		str	r3, [r2, #16]
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 3334              		.loc 1 973 11
 3335 0202 BB68     		ldr	r3, [r7, #8]
 3336 0204 9B69     		ldr	r3, [r3, #24]
 3337              		.loc 1 973 8
 3338 0206 002B     		cmp	r3, #0
 3339 0208 03D0     		beq	.L141
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 3340              		.loc 1 975 24
 3341 020a BB68     		ldr	r3, [r7, #8]
 3342 020c DA68     		ldr	r2, [r3, #12]
 3343              		.loc 1 975 20
 3344 020e BB68     		ldr	r3, [r7, #8]
 3345 0210 9A61     		str	r2, [r3, #24]
 3346              	.L141:
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Store transfer size, for EP0 this is equal to endpoint max packet size */
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ep->xfer_size = ep->maxpacket;
 3347              		.loc 1 979 23
 3348 0212 BB68     		ldr	r3, [r7, #8]
 3349 0214 DA68     		ldr	r2, [r3, #12]
 3350              		.loc 1 979 19
 3351 0216 BB68     		ldr	r3, [r7, #8]
 3352 0218 DA61     		str	r2, [r3, #28]
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 3353              		.loc 1 981 22
 3354 021a 3B69     		ldr	r3, [r7, #16]
 3355 021c 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/ccSAnDQs.s 			page 77


 3356 021e 7B69     		ldr	r3, [r7, #20]
 3357 0220 1344     		add	r3, r3, r2
 3358 0222 03F53063 		add	r3, r3, #2816
 3359 0226 1B69     		ldr	r3, [r3, #16]
 3360 0228 3A69     		ldr	r2, [r7, #16]
 3361 022a 5101     		lsls	r1, r2, #5
 3362 022c 7A69     		ldr	r2, [r7, #20]
 3363 022e 0A44     		add	r2, r2, r1
 3364 0230 02F53062 		add	r2, r2, #2816
 3365              		.loc 1 981 33
 3366 0234 43F40023 		orr	r3, r3, #524288
 3367 0238 1361     		str	r3, [r2, #16]
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size);
 3368              		.loc 1 982 22
 3369 023a 3B69     		ldr	r3, [r7, #16]
 3370 023c 5A01     		lsls	r2, r3, #5
 3371 023e 7B69     		ldr	r3, [r7, #20]
 3372 0240 1344     		add	r3, r3, r2
 3373 0242 03F53063 		add	r3, r3, #2816
 3374 0246 1A69     		ldr	r2, [r3, #16]
 3375              		.loc 1 982 65
 3376 0248 BB68     		ldr	r3, [r7, #8]
 3377 024a DB69     		ldr	r3, [r3, #28]
 3378              		.loc 1 982 61
 3379 024c C3F31203 		ubfx	r3, r3, #0, #19
 3380              		.loc 1 982 22
 3381 0250 3969     		ldr	r1, [r7, #16]
 3382 0252 4801     		lsls	r0, r1, #5
 3383 0254 7969     		ldr	r1, [r7, #20]
 3384 0256 0144     		add	r1, r1, r0
 3385 0258 01F53061 		add	r1, r1, #2816
 3386              		.loc 1 982 33
 3387 025c 1343     		orrs	r3, r3, r2
 3388 025e 0B61     		str	r3, [r1, #16]
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 3389              		.loc 1 984 8
 3390 0260 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3391 0262 012B     		cmp	r3, #1
 3392 0264 0DD1     		bne	.L142
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 3393              		.loc 1 986 23
 3394 0266 BB68     		ldr	r3, [r7, #8]
 3395 0268 1B69     		ldr	r3, [r3, #16]
 3396              		.loc 1 986 10
 3397 026a 002B     		cmp	r3, #0
 3398 026c 09D0     		beq	.L142
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 3399              		.loc 1 988 51
 3400 026e BB68     		ldr	r3, [r7, #8]
 3401 0270 1969     		ldr	r1, [r3, #16]
 3402              		.loc 1 988 9
 3403 0272 3B69     		ldr	r3, [r7, #16]
 3404 0274 5A01     		lsls	r2, r3, #5
 3405 0276 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/ccSAnDQs.s 			page 78


 3406 0278 1344     		add	r3, r3, r2
 3407 027a 03F53063 		add	r3, r3, #2816
 3408              		.loc 1 988 38
 3409 027e 0A46     		mov	r2, r1
 3410              		.loc 1 988 36
 3411 0280 5A61     		str	r2, [r3, #20]
 3412              	.L142:
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 3413              		.loc 1 993 22
 3414 0282 3B69     		ldr	r3, [r7, #16]
 3415 0284 5A01     		lsls	r2, r3, #5
 3416 0286 7B69     		ldr	r3, [r7, #20]
 3417 0288 1344     		add	r3, r3, r2
 3418 028a 03F53063 		add	r3, r3, #2816
 3419 028e 1B68     		ldr	r3, [r3]
 3420 0290 3A69     		ldr	r2, [r7, #16]
 3421 0292 5101     		lsls	r1, r2, #5
 3422 0294 7A69     		ldr	r2, [r7, #20]
 3423 0296 0A44     		add	r2, r2, r1
 3424 0298 02F53062 		add	r2, r2, #2816
 3425              		.loc 1 993 32
 3426 029c 43F00443 		orr	r3, r3, #-2080374784
 3427 02a0 1360     		str	r3, [r2]
 3428              	.L140:
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3429              		.loc 1 996 10
 3430 02a2 0023     		movs	r3, #0
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3431              		.loc 1 997 1
 3432 02a4 1846     		mov	r0, r3
 3433 02a6 1C37     		adds	r7, r7, #28
 3434              	.LCFI95:
 3435              		.cfi_def_cfa_offset 4
 3436 02a8 BD46     		mov	sp, r7
 3437              	.LCFI96:
 3438              		.cfi_def_cfa_register 13
 3439              		@ sp needed
 3440 02aa 5DF8047B 		ldr	r7, [sp], #4
 3441              	.LCFI97:
 3442              		.cfi_restore 7
 3443              		.cfi_def_cfa_offset 0
 3444 02ae 7047     		bx	lr
 3445              		.cfi_endproc
 3446              	.LFE231:
 3448              		.section	.text.USB_EPStopXfer,"ax",%progbits
 3449              		.align	1
 3450              		.global	USB_EPStopXfer
 3451              		.syntax unified
 3452              		.thumb
 3453              		.thumb_func
 3455              	USB_EPStopXfer:
ARM GAS  /tmp/ccSAnDQs.s 			page 79


 3456              	.LFB232:
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @brief  USB_EPStoptXfer  Stop transfer on an EP
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @param  USBx  usb device instance
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @param  ep pointer to endpoint structure
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @retval HAL status
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    */
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStopXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3457              		.loc 1 1007 1
 3458              		.cfi_startproc
 3459              		@ args = 0, pretend = 0, frame = 24
 3460              		@ frame_needed = 1, uses_anonymous_args = 0
 3461              		@ link register save eliminated.
 3462 0000 80B4     		push	{r7}
 3463              	.LCFI98:
 3464              		.cfi_def_cfa_offset 4
 3465              		.cfi_offset 7, -4
 3466 0002 87B0     		sub	sp, sp, #28
 3467              	.LCFI99:
 3468              		.cfi_def_cfa_offset 32
 3469 0004 00AF     		add	r7, sp, #0
 3470              	.LCFI100:
 3471              		.cfi_def_cfa_register 7
 3472 0006 7860     		str	r0, [r7, #4]
 3473 0008 3960     		str	r1, [r7]
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 3474              		.loc 1 1008 17
 3475 000a 0023     		movs	r3, #0
 3476 000c FB60     		str	r3, [r7, #12]
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 3477              		.loc 1 1009 21
 3478 000e 0023     		movs	r3, #0
 3479 0010 FB75     		strb	r3, [r7, #23]
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3480              		.loc 1 1010 12
 3481 0012 7B68     		ldr	r3, [r7, #4]
 3482 0014 3B61     		str	r3, [r7, #16]
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3483              		.loc 1 1013 9
 3484 0016 3B68     		ldr	r3, [r7]
 3485 0018 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3486              		.loc 1 1013 6
 3487 001a 012B     		cmp	r3, #1
 3488 001c 4AD1     		bne	.L145
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 3489              		.loc 1 1016 11
 3490 001e 3B68     		ldr	r3, [r7]
 3491 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3492 0022 5A01     		lsls	r2, r3, #5
 3493 0024 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/ccSAnDQs.s 			page 80


 3494 0026 1344     		add	r3, r3, r2
 3495 0028 03F51063 		add	r3, r3, #2304
 3496              		.loc 1 1016 29
 3497 002c 1B68     		ldr	r3, [r3]
 3498              		.loc 1 1016 40
 3499 002e 03F00043 		and	r3, r3, #-2147483648
 3500              		.loc 1 1016 8
 3501 0032 B3F1004F 		cmp	r3, #-2147483648
 3502 0036 40F08680 		bne	.L149
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_SNAK);
 3503              		.loc 1 1018 7
 3504 003a 3B68     		ldr	r3, [r7]
 3505 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3506              		.loc 1 1018 25
 3507 003e 5A01     		lsls	r2, r3, #5
 3508 0040 3B69     		ldr	r3, [r7, #16]
 3509 0042 1344     		add	r3, r3, r2
 3510 0044 03F51063 		add	r3, r3, #2304
 3511 0048 1B68     		ldr	r3, [r3]
 3512              		.loc 1 1018 7
 3513 004a 3A68     		ldr	r2, [r7]
 3514 004c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3515              		.loc 1 1018 25
 3516 004e 5101     		lsls	r1, r2, #5
 3517 0050 3A69     		ldr	r2, [r7, #16]
 3518 0052 0A44     		add	r2, r2, r1
 3519 0054 02F51062 		add	r2, r2, #2304
 3520              		.loc 1 1018 35
 3521 0058 43F00063 		orr	r3, r3, #134217728
 3522 005c 1360     		str	r3, [r2]
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_EPDIS);
 3523              		.loc 1 1019 7
 3524 005e 3B68     		ldr	r3, [r7]
 3525 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3526              		.loc 1 1019 25
 3527 0062 5A01     		lsls	r2, r3, #5
 3528 0064 3B69     		ldr	r3, [r7, #16]
 3529 0066 1344     		add	r3, r3, r2
 3530 0068 03F51063 		add	r3, r3, #2304
 3531 006c 1B68     		ldr	r3, [r3]
 3532              		.loc 1 1019 7
 3533 006e 3A68     		ldr	r2, [r7]
 3534 0070 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3535              		.loc 1 1019 25
 3536 0072 5101     		lsls	r1, r2, #5
 3537 0074 3A69     		ldr	r2, [r7, #16]
 3538 0076 0A44     		add	r2, r2, r1
 3539 0078 02F51062 		add	r2, r2, #2304
 3540              		.loc 1 1019 35
 3541 007c 43F08043 		orr	r3, r3, #1073741824
 3542 0080 1360     		str	r3, [r2]
 3543              	.L148:
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         count++;
ARM GAS  /tmp/ccSAnDQs.s 			page 81


 3544              		.loc 1 1023 14
 3545 0082 FB68     		ldr	r3, [r7, #12]
 3546 0084 0133     		adds	r3, r3, #1
 3547 0086 FB60     		str	r3, [r7, #12]
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (count > 10000U)
 3548              		.loc 1 1025 19
 3549 0088 FB68     		ldr	r3, [r7, #12]
 3550              		.loc 1 1025 12
 3551 008a 42F21072 		movw	r2, #10000
 3552 008e 9342     		cmp	r3, r2
 3553 0090 02D9     		bls	.L147
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           ret = HAL_ERROR;
 3554              		.loc 1 1027 15
 3555 0092 0123     		movs	r3, #1
 3556 0094 FB75     		strb	r3, [r7, #23]
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 3557              		.loc 1 1028 11
 3558 0096 56E0     		b	.L149
 3559              	.L147:
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } while (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) ==  USB_OTG_DIEPCTL_EPENA);
 3560              		.loc 1 1030 18
 3561 0098 3B68     		ldr	r3, [r7]
 3562 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3563 009c 5A01     		lsls	r2, r3, #5
 3564 009e 3B69     		ldr	r3, [r7, #16]
 3565 00a0 1344     		add	r3, r3, r2
 3566 00a2 03F51063 		add	r3, r3, #2304
 3567              		.loc 1 1030 36
 3568 00a6 1B68     		ldr	r3, [r3]
 3569              		.loc 1 1030 47
 3570 00a8 03F00043 		and	r3, r3, #-2147483648
 3571              		.loc 1 1030 72
 3572 00ac B3F1004F 		cmp	r3, #-2147483648
 3573 00b0 E7D0     		beq	.L148
 3574 00b2 48E0     		b	.L149
 3575              	.L145:
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 3576              		.loc 1 1035 11
 3577 00b4 3B68     		ldr	r3, [r7]
 3578 00b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3579 00b8 5A01     		lsls	r2, r3, #5
 3580 00ba 3B69     		ldr	r3, [r7, #16]
 3581 00bc 1344     		add	r3, r3, r2
 3582 00be 03F53063 		add	r3, r3, #2816
 3583              		.loc 1 1035 30
 3584 00c2 1B68     		ldr	r3, [r3]
 3585              		.loc 1 1035 41
 3586 00c4 03F00043 		and	r3, r3, #-2147483648
 3587              		.loc 1 1035 8
 3588 00c8 B3F1004F 		cmp	r3, #-2147483648
ARM GAS  /tmp/ccSAnDQs.s 			page 82


 3589 00cc 3BD1     		bne	.L149
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_SNAK);
 3590              		.loc 1 1037 7
 3591 00ce 3B68     		ldr	r3, [r7]
 3592 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3593              		.loc 1 1037 26
 3594 00d2 5A01     		lsls	r2, r3, #5
 3595 00d4 3B69     		ldr	r3, [r7, #16]
 3596 00d6 1344     		add	r3, r3, r2
 3597 00d8 03F53063 		add	r3, r3, #2816
 3598 00dc 1B68     		ldr	r3, [r3]
 3599              		.loc 1 1037 7
 3600 00de 3A68     		ldr	r2, [r7]
 3601 00e0 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3602              		.loc 1 1037 26
 3603 00e2 5101     		lsls	r1, r2, #5
 3604 00e4 3A69     		ldr	r2, [r7, #16]
 3605 00e6 0A44     		add	r2, r2, r1
 3606 00e8 02F53062 		add	r2, r2, #2816
 3607              		.loc 1 1037 36
 3608 00ec 43F00063 		orr	r3, r3, #134217728
 3609 00f0 1360     		str	r3, [r2]
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_EPDIS);
 3610              		.loc 1 1038 7
 3611 00f2 3B68     		ldr	r3, [r7]
 3612 00f4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3613              		.loc 1 1038 26
 3614 00f6 5A01     		lsls	r2, r3, #5
 3615 00f8 3B69     		ldr	r3, [r7, #16]
 3616 00fa 1344     		add	r3, r3, r2
 3617 00fc 03F53063 		add	r3, r3, #2816
 3618 0100 1B68     		ldr	r3, [r3]
 3619              		.loc 1 1038 7
 3620 0102 3A68     		ldr	r2, [r7]
 3621 0104 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3622              		.loc 1 1038 26
 3623 0106 5101     		lsls	r1, r2, #5
 3624 0108 3A69     		ldr	r2, [r7, #16]
 3625 010a 0A44     		add	r2, r2, r1
 3626 010c 02F53062 		add	r2, r2, #2816
 3627              		.loc 1 1038 36
 3628 0110 43F08043 		orr	r3, r3, #1073741824
 3629 0114 1360     		str	r3, [r2]
 3630              	.L151:
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         count++;
 3631              		.loc 1 1042 14
 3632 0116 FB68     		ldr	r3, [r7, #12]
 3633 0118 0133     		adds	r3, r3, #1
 3634 011a FB60     		str	r3, [r7, #12]
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (count > 10000U)
 3635              		.loc 1 1044 19
 3636 011c FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccSAnDQs.s 			page 83


 3637              		.loc 1 1044 12
 3638 011e 42F21072 		movw	r2, #10000
 3639 0122 9342     		cmp	r3, r2
 3640 0124 02D9     		bls	.L150
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           ret = HAL_ERROR;
 3641              		.loc 1 1046 15
 3642 0126 0123     		movs	r3, #1
 3643 0128 FB75     		strb	r3, [r7, #23]
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 3644              		.loc 1 1047 11
 3645 012a 0CE0     		b	.L149
 3646              	.L150:
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } while (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) ==  USB_OTG_DOEPCTL_EPENA);
 3647              		.loc 1 1049 18
 3648 012c 3B68     		ldr	r3, [r7]
 3649 012e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3650 0130 5A01     		lsls	r2, r3, #5
 3651 0132 3B69     		ldr	r3, [r7, #16]
 3652 0134 1344     		add	r3, r3, r2
 3653 0136 03F53063 		add	r3, r3, #2816
 3654              		.loc 1 1049 37
 3655 013a 1B68     		ldr	r3, [r3]
 3656              		.loc 1 1049 48
 3657 013c 03F00043 		and	r3, r3, #-2147483648
 3658              		.loc 1 1049 73
 3659 0140 B3F1004F 		cmp	r3, #-2147483648
 3660 0144 E7D0     		beq	.L151
 3661              	.L149:
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 3662              		.loc 1 1053 10
 3663 0146 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3664              		.loc 1 1054 1
 3665 0148 1846     		mov	r0, r3
 3666 014a 1C37     		adds	r7, r7, #28
 3667              	.LCFI101:
 3668              		.cfi_def_cfa_offset 4
 3669 014c BD46     		mov	sp, r7
 3670              	.LCFI102:
 3671              		.cfi_def_cfa_register 13
 3672              		@ sp needed
 3673 014e 5DF8047B 		ldr	r7, [sp], #4
 3674              	.LCFI103:
 3675              		.cfi_restore 7
 3676              		.cfi_def_cfa_offset 0
 3677 0152 7047     		bx	lr
 3678              		.cfi_endproc
 3679              	.LFE232:
 3681              		.section	.text.USB_WritePacket,"ax",%progbits
 3682              		.align	1
 3683              		.global	USB_WritePacket
 3684              		.syntax unified
ARM GAS  /tmp/ccSAnDQs.s 			page 84


 3685              		.thumb
 3686              		.thumb_func
 3688              	USB_WritePacket:
 3689              	.LFB233:
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src   pointer to source buffer
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to write
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src,
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                   uint8_t ch_ep_num, uint16_t len, uint8_t dma)
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3690              		.loc 1 1072 1
 3691              		.cfi_startproc
 3692              		@ args = 4, pretend = 0, frame = 32
 3693              		@ frame_needed = 1, uses_anonymous_args = 0
 3694              		@ link register save eliminated.
 3695 0000 80B4     		push	{r7}
 3696              	.LCFI104:
 3697              		.cfi_def_cfa_offset 4
 3698              		.cfi_offset 7, -4
 3699 0002 89B0     		sub	sp, sp, #36
 3700              	.LCFI105:
 3701              		.cfi_def_cfa_offset 40
 3702 0004 00AF     		add	r7, sp, #0
 3703              	.LCFI106:
 3704              		.cfi_def_cfa_register 7
 3705 0006 F860     		str	r0, [r7, #12]
 3706 0008 B960     		str	r1, [r7, #8]
 3707 000a 1146     		mov	r1, r2
 3708 000c 1A46     		mov	r2, r3
 3709 000e 0B46     		mov	r3, r1
 3710 0010 FB71     		strb	r3, [r7, #7]
 3711 0012 1346     		mov	r3, r2	@ movhi
 3712 0014 BB80     		strh	r3, [r7, #4]	@ movhi
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3713              		.loc 1 1073 12
 3714 0016 FB68     		ldr	r3, [r7, #12]
 3715 0018 7B61     		str	r3, [r7, #20]
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t *pSrc = src;
 3716              		.loc 1 1074 12
 3717 001a BB68     		ldr	r3, [r7, #8]
 3718 001c FB61     		str	r3, [r7, #28]
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b;
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U)
ARM GAS  /tmp/ccSAnDQs.s 			page 85


 3719              		.loc 1 1078 6
 3720 001e 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 3721 0022 002B     		cmp	r3, #0
 3722 0024 23D1     		bne	.L154
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count32b = ((uint32_t)len + 3U) / 4U;
 3723              		.loc 1 1080 17
 3724 0026 BB88     		ldrh	r3, [r7, #4]
 3725              		.loc 1 1080 31
 3726 0028 0333     		adds	r3, r3, #3
 3727              		.loc 1 1080 14
 3728 002a 9B08     		lsrs	r3, r3, #2
 3729 002c 3B61     		str	r3, [r7, #16]
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 3730              		.loc 1 1081 12
 3731 002e 0023     		movs	r3, #0
 3732 0030 BB61     		str	r3, [r7, #24]
 3733              		.loc 1 1081 5
 3734 0032 18E0     		b	.L155
 3735              	.L156:
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_DFIFO((uint32_t)ch_ep_num) = __UNALIGNED_UINT32_READ(pSrc);
 3736              		.loc 1 1083 7 discriminator 3
 3737 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3738 0036 1A03     		lsls	r2, r3, #12
 3739 0038 7B69     		ldr	r3, [r7, #20]
 3740 003a 1344     		add	r3, r3, r2
 3741 003c 03F58053 		add	r3, r3, #4096
 3742 0040 1A46     		mov	r2, r3
 3743              		.loc 1 1083 41 discriminator 3
 3744 0042 FB69     		ldr	r3, [r7, #28]
 3745 0044 1B68     		ldr	r3, [r3]	@ unaligned
 3746              		.loc 1 1083 39 discriminator 3
 3747 0046 1360     		str	r3, [r2]
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3748              		.loc 1 1084 11 discriminator 3
 3749 0048 FB69     		ldr	r3, [r7, #28]
 3750 004a 0133     		adds	r3, r3, #1
 3751 004c FB61     		str	r3, [r7, #28]
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3752              		.loc 1 1085 11 discriminator 3
 3753 004e FB69     		ldr	r3, [r7, #28]
 3754 0050 0133     		adds	r3, r3, #1
 3755 0052 FB61     		str	r3, [r7, #28]
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3756              		.loc 1 1086 11 discriminator 3
 3757 0054 FB69     		ldr	r3, [r7, #28]
 3758 0056 0133     		adds	r3, r3, #1
 3759 0058 FB61     		str	r3, [r7, #28]
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3760              		.loc 1 1087 11 discriminator 3
 3761 005a FB69     		ldr	r3, [r7, #28]
 3762 005c 0133     		adds	r3, r3, #1
 3763 005e FB61     		str	r3, [r7, #28]
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3764              		.loc 1 1081 33 discriminator 3
 3765 0060 BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccSAnDQs.s 			page 86


 3766 0062 0133     		adds	r3, r3, #1
 3767 0064 BB61     		str	r3, [r7, #24]
 3768              	.L155:
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3769              		.loc 1 1081 20 discriminator 1
 3770 0066 BA69     		ldr	r2, [r7, #24]
 3771 0068 3B69     		ldr	r3, [r7, #16]
 3772 006a 9A42     		cmp	r2, r3
 3773 006c E2D3     		bcc	.L156
 3774              	.L154:
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3775              		.loc 1 1091 10
 3776 006e 0023     		movs	r3, #0
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3777              		.loc 1 1092 1
 3778 0070 1846     		mov	r0, r3
 3779 0072 2437     		adds	r7, r7, #36
 3780              	.LCFI107:
 3781              		.cfi_def_cfa_offset 4
 3782 0074 BD46     		mov	sp, r7
 3783              	.LCFI108:
 3784              		.cfi_def_cfa_register 13
 3785              		@ sp needed
 3786 0076 5DF8047B 		ldr	r7, [sp], #4
 3787              	.LCFI109:
 3788              		.cfi_restore 7
 3789              		.cfi_def_cfa_offset 0
 3790 007a 7047     		bx	lr
 3791              		.cfi_endproc
 3792              	.LFE233:
 3794              		.section	.text.USB_ReadPacket,"ax",%progbits
 3795              		.align	1
 3796              		.global	USB_ReadPacket
 3797              		.syntax unified
 3798              		.thumb
 3799              		.thumb_func
 3801              	USB_ReadPacket:
 3802              	.LFB234:
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the RX FIFO
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dest  source pointer
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to read
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval pointer to destination buffer
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3803              		.loc 1 1102 1
 3804              		.cfi_startproc
 3805              		@ args = 0, pretend = 0, frame = 40
 3806              		@ frame_needed = 1, uses_anonymous_args = 0
 3807              		@ link register save eliminated.
 3808 0000 80B4     		push	{r7}
ARM GAS  /tmp/ccSAnDQs.s 			page 87


 3809              	.LCFI110:
 3810              		.cfi_def_cfa_offset 4
 3811              		.cfi_offset 7, -4
 3812 0002 8BB0     		sub	sp, sp, #44
 3813              	.LCFI111:
 3814              		.cfi_def_cfa_offset 48
 3815 0004 00AF     		add	r7, sp, #0
 3816              	.LCFI112:
 3817              		.cfi_def_cfa_register 7
 3818 0006 F860     		str	r0, [r7, #12]
 3819 0008 B960     		str	r1, [r7, #8]
 3820 000a 1346     		mov	r3, r2
 3821 000c FB80     		strh	r3, [r7, #6]	@ movhi
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3822              		.loc 1 1103 12
 3823 000e FB68     		ldr	r3, [r7, #12]
 3824 0010 BB61     		str	r3, [r7, #24]
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t *pDest = dest;
 3825              		.loc 1 1104 12
 3826 0012 BB68     		ldr	r3, [r7, #8]
 3827 0014 7B62     		str	r3, [r7, #36]
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t pData;
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = (uint32_t)len >> 2U;
 3828              		.loc 1 1107 37
 3829 0016 FB88     		ldrh	r3, [r7, #6]
 3830 0018 9B08     		lsrs	r3, r3, #2
 3831 001a 9BB2     		uxth	r3, r3
 3832              		.loc 1 1107 12
 3833 001c 7B61     		str	r3, [r7, #20]
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t remaining_bytes = len % 4U;
 3834              		.loc 1 1108 12
 3835 001e FB88     		ldrh	r3, [r7, #6]	@ movhi
 3836 0020 03F00303 		and	r3, r3, #3
 3837 0024 FB83     		strh	r3, [r7, #30]	@ movhi
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3838              		.loc 1 1110 10
 3839 0026 0023     		movs	r3, #0
 3840 0028 3B62     		str	r3, [r7, #32]
 3841              		.loc 1 1110 3
 3842 002a 14E0     		b	.L159
 3843              	.L160:
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(pDest, USBx_DFIFO(0U));
 3844              		.loc 1 1112 5 discriminator 3
 3845 002c BB69     		ldr	r3, [r7, #24]
 3846 002e 03F58053 		add	r3, r3, #4096
 3847 0032 1A68     		ldr	r2, [r3]
 3848 0034 7B6A     		ldr	r3, [r7, #36]
 3849 0036 1A60     		str	r2, [r3]	@ unaligned
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3850              		.loc 1 1113 10 discriminator 3
 3851 0038 7B6A     		ldr	r3, [r7, #36]
 3852 003a 0133     		adds	r3, r3, #1
 3853 003c 7B62     		str	r3, [r7, #36]
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
ARM GAS  /tmp/ccSAnDQs.s 			page 88


 3854              		.loc 1 1114 10 discriminator 3
 3855 003e 7B6A     		ldr	r3, [r7, #36]
 3856 0040 0133     		adds	r3, r3, #1
 3857 0042 7B62     		str	r3, [r7, #36]
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3858              		.loc 1 1115 10 discriminator 3
 3859 0044 7B6A     		ldr	r3, [r7, #36]
 3860 0046 0133     		adds	r3, r3, #1
 3861 0048 7B62     		str	r3, [r7, #36]
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3862              		.loc 1 1116 10 discriminator 3
 3863 004a 7B6A     		ldr	r3, [r7, #36]
 3864 004c 0133     		adds	r3, r3, #1
 3865 004e 7B62     		str	r3, [r7, #36]
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3866              		.loc 1 1110 31 discriminator 3
 3867 0050 3B6A     		ldr	r3, [r7, #32]
 3868 0052 0133     		adds	r3, r3, #1
 3869 0054 3B62     		str	r3, [r7, #32]
 3870              	.L159:
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3871              		.loc 1 1110 18 discriminator 1
 3872 0056 3A6A     		ldr	r2, [r7, #32]
 3873 0058 7B69     		ldr	r3, [r7, #20]
 3874 005a 9A42     		cmp	r2, r3
 3875 005c E6D3     		bcc	.L160
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* When Number of data is not word aligned, read the remaining byte */
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (remaining_bytes != 0U)
 3876              		.loc 1 1120 6
 3877 005e FB8B     		ldrh	r3, [r7, #30]
 3878 0060 002B     		cmp	r3, #0
 3879 0062 1ED0     		beq	.L161
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     i = 0U;
 3880              		.loc 1 1122 7
 3881 0064 0023     		movs	r3, #0
 3882 0066 3B62     		str	r3, [r7, #32]
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(&pData, USBx_DFIFO(0U));
 3883              		.loc 1 1123 5
 3884 0068 BB69     		ldr	r3, [r7, #24]
 3885 006a 03F58053 		add	r3, r3, #4096
 3886 006e 1A46     		mov	r2, r3
 3887 0070 07F11003 		add	r3, r7, #16
 3888 0074 1268     		ldr	r2, [r2]
 3889 0076 1A60     		str	r2, [r3]	@ unaligned
 3890              	.L162:
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       *(uint8_t *)pDest = (uint8_t)(pData >> (8U * (uint8_t)(i)));
 3891              		.loc 1 1127 43 discriminator 1
 3892 0078 3A69     		ldr	r2, [r7, #16]
 3893              		.loc 1 1127 52 discriminator 1
 3894 007a 3B6A     		ldr	r3, [r7, #32]
 3895 007c DBB2     		uxtb	r3, r3
ARM GAS  /tmp/ccSAnDQs.s 			page 89


 3896              		.loc 1 1127 50 discriminator 1
 3897 007e DB00     		lsls	r3, r3, #3
 3898              		.loc 1 1127 43 discriminator 1
 3899 0080 22FA03F3 		lsr	r3, r2, r3
 3900              		.loc 1 1127 27 discriminator 1
 3901 0084 DAB2     		uxtb	r2, r3
 3902              		.loc 1 1127 25 discriminator 1
 3903 0086 7B6A     		ldr	r3, [r7, #36]
 3904 0088 1A70     		strb	r2, [r3]
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       i++;
 3905              		.loc 1 1128 8 discriminator 1
 3906 008a 3B6A     		ldr	r3, [r7, #32]
 3907 008c 0133     		adds	r3, r3, #1
 3908 008e 3B62     		str	r3, [r7, #32]
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pDest++;
 3909              		.loc 1 1129 12 discriminator 1
 3910 0090 7B6A     		ldr	r3, [r7, #36]
 3911 0092 0133     		adds	r3, r3, #1
 3912 0094 7B62     		str	r3, [r7, #36]
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       remaining_bytes--;
 3913              		.loc 1 1130 22 discriminator 1
 3914 0096 FB8B     		ldrh	r3, [r7, #30]
 3915 0098 013B     		subs	r3, r3, #1
 3916 009a FB83     		strh	r3, [r7, #30]	@ movhi
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while (remaining_bytes != 0U);
 3917              		.loc 1 1131 30 discriminator 1
 3918 009c FB8B     		ldrh	r3, [r7, #30]
 3919 009e 002B     		cmp	r3, #0
 3920 00a0 EAD1     		bne	.L162
 3921              	.L161:
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((void *)pDest);
 3922              		.loc 1 1134 11
 3923 00a2 7B6A     		ldr	r3, [r7, #36]
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3924              		.loc 1 1135 1
 3925 00a4 1846     		mov	r0, r3
 3926 00a6 2C37     		adds	r7, r7, #44
 3927              	.LCFI113:
 3928              		.cfi_def_cfa_offset 4
 3929 00a8 BD46     		mov	sp, r7
 3930              	.LCFI114:
 3931              		.cfi_def_cfa_register 13
 3932              		@ sp needed
 3933 00aa 5DF8047B 		ldr	r7, [sp], #4
 3934              	.LCFI115:
 3935              		.cfi_restore 7
 3936              		.cfi_def_cfa_offset 0
 3937 00ae 7047     		bx	lr
 3938              		.cfi_endproc
 3939              	.LFE234:
 3941              		.section	.text.USB_EPSetStall,"ax",%progbits
 3942              		.align	1
 3943              		.global	USB_EPSetStall
 3944              		.syntax unified
 3945              		.thumb
ARM GAS  /tmp/ccSAnDQs.s 			page 90


 3946              		.thumb_func
 3948              	USB_EPSetStall:
 3949              	.LFB235:
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3950              		.loc 1 1144 1
 3951              		.cfi_startproc
 3952              		@ args = 0, pretend = 0, frame = 16
 3953              		@ frame_needed = 1, uses_anonymous_args = 0
 3954              		@ link register save eliminated.
 3955 0000 80B4     		push	{r7}
 3956              	.LCFI116:
 3957              		.cfi_def_cfa_offset 4
 3958              		.cfi_offset 7, -4
 3959 0002 85B0     		sub	sp, sp, #20
 3960              	.LCFI117:
 3961              		.cfi_def_cfa_offset 24
 3962 0004 00AF     		add	r7, sp, #0
 3963              	.LCFI118:
 3964              		.cfi_def_cfa_register 7
 3965 0006 7860     		str	r0, [r7, #4]
 3966 0008 3960     		str	r1, [r7]
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3967              		.loc 1 1145 12
 3968 000a 7B68     		ldr	r3, [r7, #4]
 3969 000c FB60     		str	r3, [r7, #12]
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3970              		.loc 1 1146 32
 3971 000e 3B68     		ldr	r3, [r7]
 3972 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3973              		.loc 1 1146 12
 3974 0012 BB60     		str	r3, [r7, #8]
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3975              		.loc 1 1148 9
 3976 0014 3B68     		ldr	r3, [r7]
 3977 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3978              		.loc 1 1148 6
 3979 0018 012B     		cmp	r3, #1
 3980 001a 2CD1     		bne	.L165
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == 0U) && (epnum != 0U))
 3981              		.loc 1 1150 11
 3982 001c BB68     		ldr	r3, [r7, #8]
 3983 001e 5A01     		lsls	r2, r3, #5
 3984 0020 FB68     		ldr	r3, [r7, #12]
 3985 0022 1344     		add	r3, r3, r2
 3986 0024 03F51063 		add	r3, r3, #2304
 3987              		.loc 1 1150 27
 3988 0028 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccSAnDQs.s 			page 91


 3989              		.loc 1 1150 8
 3990 002a 002B     		cmp	r3, #0
 3991 002c 12DB     		blt	.L166
 3992              		.loc 1 1150 69 discriminator 1
 3993 002e BB68     		ldr	r3, [r7, #8]
 3994 0030 002B     		cmp	r3, #0
 3995 0032 0FD0     		beq	.L166
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
 3996              		.loc 1 1152 23
 3997 0034 BB68     		ldr	r3, [r7, #8]
 3998 0036 5A01     		lsls	r2, r3, #5
 3999 0038 FB68     		ldr	r3, [r7, #12]
 4000 003a 1344     		add	r3, r3, r2
 4001 003c 03F51063 		add	r3, r3, #2304
 4002 0040 1B68     		ldr	r3, [r3]
 4003 0042 BA68     		ldr	r2, [r7, #8]
 4004 0044 5101     		lsls	r1, r2, #5
 4005 0046 FA68     		ldr	r2, [r7, #12]
 4006 0048 0A44     		add	r2, r2, r1
 4007 004a 02F51062 		add	r2, r2, #2304
 4008              		.loc 1 1152 33
 4009 004e 23F08043 		bic	r3, r3, #1073741824
 4010 0052 1360     		str	r3, [r2]
 4011              	.L166:
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 4012              		.loc 1 1154 21
 4013 0054 BB68     		ldr	r3, [r7, #8]
 4014 0056 5A01     		lsls	r2, r3, #5
 4015 0058 FB68     		ldr	r3, [r7, #12]
 4016 005a 1344     		add	r3, r3, r2
 4017 005c 03F51063 		add	r3, r3, #2304
 4018 0060 1B68     		ldr	r3, [r3]
 4019 0062 BA68     		ldr	r2, [r7, #8]
 4020 0064 5101     		lsls	r1, r2, #5
 4021 0066 FA68     		ldr	r2, [r7, #12]
 4022 0068 0A44     		add	r2, r2, r1
 4023 006a 02F51062 		add	r2, r2, #2304
 4024              		.loc 1 1154 31
 4025 006e 43F40013 		orr	r3, r3, #2097152
 4026 0072 1360     		str	r3, [r2]
 4027 0074 2BE0     		b	.L167
 4028              	.L165:
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == 0U) && (epnum != 0U))
 4029              		.loc 1 1158 11
 4030 0076 BB68     		ldr	r3, [r7, #8]
 4031 0078 5A01     		lsls	r2, r3, #5
 4032 007a FB68     		ldr	r3, [r7, #12]
 4033 007c 1344     		add	r3, r3, r2
 4034 007e 03F53063 		add	r3, r3, #2816
 4035              		.loc 1 1158 28
 4036 0082 1B68     		ldr	r3, [r3]
 4037              		.loc 1 1158 8
ARM GAS  /tmp/ccSAnDQs.s 			page 92


 4038 0084 002B     		cmp	r3, #0
 4039 0086 12DB     		blt	.L168
 4040              		.loc 1 1158 70 discriminator 1
 4041 0088 BB68     		ldr	r3, [r7, #8]
 4042 008a 002B     		cmp	r3, #0
 4043 008c 0FD0     		beq	.L168
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
 4044              		.loc 1 1160 24
 4045 008e BB68     		ldr	r3, [r7, #8]
 4046 0090 5A01     		lsls	r2, r3, #5
 4047 0092 FB68     		ldr	r3, [r7, #12]
 4048 0094 1344     		add	r3, r3, r2
 4049 0096 03F53063 		add	r3, r3, #2816
 4050 009a 1B68     		ldr	r3, [r3]
 4051 009c BA68     		ldr	r2, [r7, #8]
 4052 009e 5101     		lsls	r1, r2, #5
 4053 00a0 FA68     		ldr	r2, [r7, #12]
 4054 00a2 0A44     		add	r2, r2, r1
 4055 00a4 02F53062 		add	r2, r2, #2816
 4056              		.loc 1 1160 34
 4057 00a8 23F08043 		bic	r3, r3, #1073741824
 4058 00ac 1360     		str	r3, [r2]
 4059              	.L168:
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 4060              		.loc 1 1162 22
 4061 00ae BB68     		ldr	r3, [r7, #8]
 4062 00b0 5A01     		lsls	r2, r3, #5
 4063 00b2 FB68     		ldr	r3, [r7, #12]
 4064 00b4 1344     		add	r3, r3, r2
 4065 00b6 03F53063 		add	r3, r3, #2816
 4066 00ba 1B68     		ldr	r3, [r3]
 4067 00bc BA68     		ldr	r2, [r7, #8]
 4068 00be 5101     		lsls	r1, r2, #5
 4069 00c0 FA68     		ldr	r2, [r7, #12]
 4070 00c2 0A44     		add	r2, r2, r1
 4071 00c4 02F53062 		add	r2, r2, #2816
 4072              		.loc 1 1162 32
 4073 00c8 43F40013 		orr	r3, r3, #2097152
 4074 00cc 1360     		str	r3, [r2]
 4075              	.L167:
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4076              		.loc 1 1165 10
 4077 00ce 0023     		movs	r3, #0
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4078              		.loc 1 1166 1
 4079 00d0 1846     		mov	r0, r3
 4080 00d2 1437     		adds	r7, r7, #20
 4081              	.LCFI119:
 4082              		.cfi_def_cfa_offset 4
 4083 00d4 BD46     		mov	sp, r7
 4084              	.LCFI120:
 4085              		.cfi_def_cfa_register 13
 4086              		@ sp needed
ARM GAS  /tmp/ccSAnDQs.s 			page 93


 4087 00d6 5DF8047B 		ldr	r7, [sp], #4
 4088              	.LCFI121:
 4089              		.cfi_restore 7
 4090              		.cfi_def_cfa_offset 0
 4091 00da 7047     		bx	lr
 4092              		.cfi_endproc
 4093              	.LFE235:
 4095              		.section	.text.USB_EPClearStall,"ax",%progbits
 4096              		.align	1
 4097              		.global	USB_EPClearStall
 4098              		.syntax unified
 4099              		.thumb
 4100              		.thumb_func
 4102              	USB_EPClearStall:
 4103              	.LFB236:
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4104              		.loc 1 1175 1
 4105              		.cfi_startproc
 4106              		@ args = 0, pretend = 0, frame = 16
 4107              		@ frame_needed = 1, uses_anonymous_args = 0
 4108              		@ link register save eliminated.
 4109 0000 80B4     		push	{r7}
 4110              	.LCFI122:
 4111              		.cfi_def_cfa_offset 4
 4112              		.cfi_offset 7, -4
 4113 0002 85B0     		sub	sp, sp, #20
 4114              	.LCFI123:
 4115              		.cfi_def_cfa_offset 24
 4116 0004 00AF     		add	r7, sp, #0
 4117              	.LCFI124:
 4118              		.cfi_def_cfa_register 7
 4119 0006 7860     		str	r0, [r7, #4]
 4120 0008 3960     		str	r1, [r7]
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4121              		.loc 1 1176 12
 4122 000a 7B68     		ldr	r3, [r7, #4]
 4123 000c FB60     		str	r3, [r7, #12]
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 4124              		.loc 1 1177 32
 4125 000e 3B68     		ldr	r3, [r7]
 4126 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4127              		.loc 1 1177 12
 4128 0012 BB60     		str	r3, [r7, #8]
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 4129              		.loc 1 1179 9
 4130 0014 3B68     		ldr	r3, [r7]
 4131 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4132              		.loc 1 1179 6
ARM GAS  /tmp/ccSAnDQs.s 			page 94


 4133 0018 012B     		cmp	r3, #1
 4134 001a 28D1     		bne	.L171
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 4135              		.loc 1 1181 21
 4136 001c BB68     		ldr	r3, [r7, #8]
 4137 001e 5A01     		lsls	r2, r3, #5
 4138 0020 FB68     		ldr	r3, [r7, #12]
 4139 0022 1344     		add	r3, r3, r2
 4140 0024 03F51063 		add	r3, r3, #2304
 4141 0028 1B68     		ldr	r3, [r3]
 4142 002a BA68     		ldr	r2, [r7, #8]
 4143 002c 5101     		lsls	r1, r2, #5
 4144 002e FA68     		ldr	r2, [r7, #12]
 4145 0030 0A44     		add	r2, r2, r1
 4146 0032 02F51062 		add	r2, r2, #2304
 4147              		.loc 1 1181 31
 4148 0036 23F40013 		bic	r3, r3, #2097152
 4149 003a 1360     		str	r3, [r2]
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 4150              		.loc 1 1182 12
 4151 003c 3B68     		ldr	r3, [r7]
 4152 003e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4153              		.loc 1 1182 8
 4154 0040 032B     		cmp	r3, #3
 4155 0042 03D0     		beq	.L172
 4156              		.loc 1 1182 42 discriminator 1
 4157 0044 3B68     		ldr	r3, [r7]
 4158 0046 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4159              		.loc 1 1182 36 discriminator 1
 4160 0048 022B     		cmp	r3, #2
 4161 004a 38D1     		bne	.L173
 4162              	.L172:
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 4163              		.loc 1 1184 23
 4164 004c BB68     		ldr	r3, [r7, #8]
 4165 004e 5A01     		lsls	r2, r3, #5
 4166 0050 FB68     		ldr	r3, [r7, #12]
 4167 0052 1344     		add	r3, r3, r2
 4168 0054 03F51063 		add	r3, r3, #2304
 4169 0058 1B68     		ldr	r3, [r3]
 4170 005a BA68     		ldr	r2, [r7, #8]
 4171 005c 5101     		lsls	r1, r2, #5
 4172 005e FA68     		ldr	r2, [r7, #12]
 4173 0060 0A44     		add	r2, r2, r1
 4174 0062 02F51062 		add	r2, r2, #2304
 4175              		.loc 1 1184 33
 4176 0066 43F08053 		orr	r3, r3, #268435456
 4177 006a 1360     		str	r3, [r2]
 4178 006c 27E0     		b	.L173
 4179              	.L171:
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
ARM GAS  /tmp/ccSAnDQs.s 			page 95


 4180              		.loc 1 1189 22
 4181 006e BB68     		ldr	r3, [r7, #8]
 4182 0070 5A01     		lsls	r2, r3, #5
 4183 0072 FB68     		ldr	r3, [r7, #12]
 4184 0074 1344     		add	r3, r3, r2
 4185 0076 03F53063 		add	r3, r3, #2816
 4186 007a 1B68     		ldr	r3, [r3]
 4187 007c BA68     		ldr	r2, [r7, #8]
 4188 007e 5101     		lsls	r1, r2, #5
 4189 0080 FA68     		ldr	r2, [r7, #12]
 4190 0082 0A44     		add	r2, r2, r1
 4191 0084 02F53062 		add	r2, r2, #2816
 4192              		.loc 1 1189 32
 4193 0088 23F40013 		bic	r3, r3, #2097152
 4194 008c 1360     		str	r3, [r2]
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 4195              		.loc 1 1190 12
 4196 008e 3B68     		ldr	r3, [r7]
 4197 0090 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4198              		.loc 1 1190 8
 4199 0092 032B     		cmp	r3, #3
 4200 0094 03D0     		beq	.L174
 4201              		.loc 1 1190 42 discriminator 1
 4202 0096 3B68     		ldr	r3, [r7]
 4203 0098 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4204              		.loc 1 1190 36 discriminator 1
 4205 009a 022B     		cmp	r3, #2
 4206 009c 0FD1     		bne	.L173
 4207              	.L174:
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 4208              		.loc 1 1192 24
 4209 009e BB68     		ldr	r3, [r7, #8]
 4210 00a0 5A01     		lsls	r2, r3, #5
 4211 00a2 FB68     		ldr	r3, [r7, #12]
 4212 00a4 1344     		add	r3, r3, r2
 4213 00a6 03F53063 		add	r3, r3, #2816
 4214 00aa 1B68     		ldr	r3, [r3]
 4215 00ac BA68     		ldr	r2, [r7, #8]
 4216 00ae 5101     		lsls	r1, r2, #5
 4217 00b0 FA68     		ldr	r2, [r7, #12]
 4218 00b2 0A44     		add	r2, r2, r1
 4219 00b4 02F53062 		add	r2, r2, #2816
 4220              		.loc 1 1192 34
 4221 00b8 43F08053 		orr	r3, r3, #268435456
 4222 00bc 1360     		str	r3, [r2]
 4223              	.L173:
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4224              		.loc 1 1195 10
 4225 00be 0023     		movs	r3, #0
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4226              		.loc 1 1196 1
 4227 00c0 1846     		mov	r0, r3
 4228 00c2 1437     		adds	r7, r7, #20
 4229              	.LCFI125:
ARM GAS  /tmp/ccSAnDQs.s 			page 96


 4230              		.cfi_def_cfa_offset 4
 4231 00c4 BD46     		mov	sp, r7
 4232              	.LCFI126:
 4233              		.cfi_def_cfa_register 13
 4234              		@ sp needed
 4235 00c6 5DF8047B 		ldr	r7, [sp], #4
 4236              	.LCFI127:
 4237              		.cfi_restore 7
 4238              		.cfi_def_cfa_offset 0
 4239 00ca 7047     		bx	lr
 4240              		.cfi_endproc
 4241              	.LFE236:
 4243              		.section	.text.USB_StopDevice,"ax",%progbits
 4244              		.align	1
 4245              		.global	USB_StopDevice
 4246              		.syntax unified
 4247              		.thumb
 4248              		.thumb_func
 4250              	USB_StopDevice:
 4251              	.LFB237:
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4252              		.loc 1 1204 1
 4253              		.cfi_startproc
 4254              		@ args = 0, pretend = 0, frame = 24
 4255              		@ frame_needed = 1, uses_anonymous_args = 0
 4256 0000 80B5     		push	{r7, lr}
 4257              	.LCFI128:
 4258              		.cfi_def_cfa_offset 8
 4259              		.cfi_offset 7, -8
 4260              		.cfi_offset 14, -4
 4261 0002 86B0     		sub	sp, sp, #24
 4262              	.LCFI129:
 4263              		.cfi_def_cfa_offset 32
 4264 0004 00AF     		add	r7, sp, #0
 4265              	.LCFI130:
 4266              		.cfi_def_cfa_register 7
 4267 0006 7860     		str	r0, [r7, #4]
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4268              		.loc 1 1206 12
 4269 0008 7B68     		ldr	r3, [r7, #4]
 4270 000a 3B61     		str	r3, [r7, #16]
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear Pending interrupt */
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 4271              		.loc 1 1210 10
 4272 000c 0023     		movs	r3, #0
 4273 000e 7B61     		str	r3, [r7, #20]
 4274              		.loc 1 1210 3
ARM GAS  /tmp/ccSAnDQs.s 			page 97


 4275 0010 16E0     		b	.L177
 4276              	.L178:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT = 0xFB7FU;
 4277              		.loc 1 1212 5 discriminator 3
 4278 0012 7B69     		ldr	r3, [r7, #20]
 4279 0014 5A01     		lsls	r2, r3, #5
 4280 0016 3B69     		ldr	r3, [r7, #16]
 4281 0018 1344     		add	r3, r3, r2
 4282 001a 03F51063 		add	r3, r3, #2304
 4283 001e 1A46     		mov	r2, r3
 4284              		.loc 1 1212 27 discriminator 3
 4285 0020 4FF67F33 		movw	r3, #64383
 4286 0024 9360     		str	r3, [r2, #8]
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT = 0xFB7FU;
 4287              		.loc 1 1213 5 discriminator 3
 4288 0026 7B69     		ldr	r3, [r7, #20]
 4289 0028 5A01     		lsls	r2, r3, #5
 4290 002a 3B69     		ldr	r3, [r7, #16]
 4291 002c 1344     		add	r3, r3, r2
 4292 002e 03F53063 		add	r3, r3, #2816
 4293 0032 1A46     		mov	r2, r3
 4294              		.loc 1 1213 28 discriminator 3
 4295 0034 4FF67F33 		movw	r3, #64383
 4296 0038 9360     		str	r3, [r2, #8]
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4297              		.loc 1 1210 26 discriminator 3
 4298 003a 7B69     		ldr	r3, [r7, #20]
 4299 003c 0133     		adds	r3, r3, #1
 4300 003e 7B61     		str	r3, [r7, #20]
 4301              	.L177:
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4302              		.loc 1 1210 18 discriminator 1
 4303 0040 7B69     		ldr	r3, [r7, #20]
 4304 0042 0E2B     		cmp	r3, #14
 4305 0044 E5D9     		bls	.L178
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear interrupt masks */
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 4306              		.loc 1 1217 3
 4307 0046 3B69     		ldr	r3, [r7, #16]
 4308 0048 03F50063 		add	r3, r3, #2048
 4309 004c 1A46     		mov	r2, r3
 4310              		.loc 1 1217 25
 4311 004e 0023     		movs	r3, #0
 4312 0050 1361     		str	r3, [r2, #16]
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 4313              		.loc 1 1218 3
 4314 0052 3B69     		ldr	r3, [r7, #16]
 4315 0054 03F50063 		add	r3, r3, #2048
 4316 0058 1A46     		mov	r2, r3
 4317              		.loc 1 1218 25
 4318 005a 0023     		movs	r3, #0
 4319 005c 5361     		str	r3, [r2, #20]
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 4320              		.loc 1 1219 3
ARM GAS  /tmp/ccSAnDQs.s 			page 98


 4321 005e 3B69     		ldr	r3, [r7, #16]
 4322 0060 03F50063 		add	r3, r3, #2048
 4323 0064 1A46     		mov	r2, r3
 4324              		.loc 1 1219 25
 4325 0066 0023     		movs	r3, #0
 4326 0068 D361     		str	r3, [r2, #28]
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFO */
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushRxFifo(USBx);
 4327              		.loc 1 1222 9
 4328 006a 7868     		ldr	r0, [r7, #4]
 4329 006c FFF7FEFF 		bl	USB_FlushRxFifo
 4330 0070 0346     		mov	r3, r0
 4331 0072 FB73     		strb	r3, [r7, #15]
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 4332              		.loc 1 1223 6
 4333 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4334 0076 002B     		cmp	r3, #0
 4335 0078 01D0     		beq	.L179
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 4336              		.loc 1 1225 12
 4337 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4338 007c 0BE0     		b	.L180
 4339              	.L179:
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushTxFifo(USBx,  0x10U);
 4340              		.loc 1 1228 9
 4341 007e 1021     		movs	r1, #16
 4342 0080 7868     		ldr	r0, [r7, #4]
 4343 0082 FFF7FEFF 		bl	USB_FlushTxFifo
 4344 0086 0346     		mov	r3, r0
 4345 0088 FB73     		strb	r3, [r7, #15]
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 4346              		.loc 1 1229 6
 4347 008a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4348 008c 002B     		cmp	r3, #0
 4349 008e 01D0     		beq	.L181
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 4350              		.loc 1 1231 12
 4351 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4352 0092 00E0     		b	.L180
 4353              	.L181:
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 4354              		.loc 1 1234 10
 4355 0094 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4356              	.L180:
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4357              		.loc 1 1235 1
 4358 0096 1846     		mov	r0, r3
 4359 0098 1837     		adds	r7, r7, #24
 4360              	.LCFI131:
 4361              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccSAnDQs.s 			page 99


 4362 009a BD46     		mov	sp, r7
 4363              	.LCFI132:
 4364              		.cfi_def_cfa_register 13
 4365              		@ sp needed
 4366 009c 80BD     		pop	{r7, pc}
 4367              		.cfi_endproc
 4368              	.LFE237:
 4370              		.section	.text.USB_SetDevAddress,"ax",%progbits
 4371              		.align	1
 4372              		.global	USB_SetDevAddress
 4373              		.syntax unified
 4374              		.thumb
 4375              		.thumb_func
 4377              	USB_SetDevAddress:
 4378              	.LFB238:
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4379              		.loc 1 1245 1
 4380              		.cfi_startproc
 4381              		@ args = 0, pretend = 0, frame = 16
 4382              		@ frame_needed = 1, uses_anonymous_args = 0
 4383              		@ link register save eliminated.
 4384 0000 80B4     		push	{r7}
 4385              	.LCFI133:
 4386              		.cfi_def_cfa_offset 4
 4387              		.cfi_offset 7, -4
 4388 0002 85B0     		sub	sp, sp, #20
 4389              	.LCFI134:
 4390              		.cfi_def_cfa_offset 24
 4391 0004 00AF     		add	r7, sp, #0
 4392              	.LCFI135:
 4393              		.cfi_def_cfa_register 7
 4394 0006 7860     		str	r0, [r7, #4]
 4395 0008 0B46     		mov	r3, r1
 4396 000a FB70     		strb	r3, [r7, #3]
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4397              		.loc 1 1246 12
 4398 000c 7B68     		ldr	r3, [r7, #4]
 4399 000e FB60     		str	r3, [r7, #12]
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~(USB_OTG_DCFG_DAD);
 4400              		.loc 1 1248 14
 4401 0010 FB68     		ldr	r3, [r7, #12]
 4402 0012 03F50063 		add	r3, r3, #2048
 4403 0016 1B68     		ldr	r3, [r3]
 4404 0018 FA68     		ldr	r2, [r7, #12]
 4405 001a 02F50062 		add	r2, r2, #2048
 4406              		.loc 1 1248 21
 4407 001e 23F4FE63 		bic	r3, r3, #2032
ARM GAS  /tmp/ccSAnDQs.s 			page 100


 4408 0022 1360     		str	r3, [r2]
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= ((uint32_t)address << 4) & USB_OTG_DCFG_DAD;
 4409              		.loc 1 1249 14
 4410 0024 FB68     		ldr	r3, [r7, #12]
 4411 0026 03F50063 		add	r3, r3, #2048
 4412 002a 1A68     		ldr	r2, [r3]
 4413              		.loc 1 1249 25
 4414 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4415              		.loc 1 1249 43
 4416 002e 1B01     		lsls	r3, r3, #4
 4417              		.loc 1 1249 49
 4418 0030 03F4FE63 		and	r3, r3, #2032
 4419              		.loc 1 1249 14
 4420 0034 F968     		ldr	r1, [r7, #12]
 4421 0036 01F50061 		add	r1, r1, #2048
 4422              		.loc 1 1249 21
 4423 003a 1343     		orrs	r3, r3, r2
 4424 003c 0B60     		str	r3, [r1]
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4425              		.loc 1 1251 10
 4426 003e 0023     		movs	r3, #0
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4427              		.loc 1 1252 1
 4428 0040 1846     		mov	r0, r3
 4429 0042 1437     		adds	r7, r7, #20
 4430              	.LCFI136:
 4431              		.cfi_def_cfa_offset 4
 4432 0044 BD46     		mov	sp, r7
 4433              	.LCFI137:
 4434              		.cfi_def_cfa_register 13
 4435              		@ sp needed
 4436 0046 5DF8047B 		ldr	r7, [sp], #4
 4437              	.LCFI138:
 4438              		.cfi_restore 7
 4439              		.cfi_def_cfa_offset 0
 4440 004a 7047     		bx	lr
 4441              		.cfi_endproc
 4442              	.LFE238:
 4444              		.section	.text.USB_DevConnect,"ax",%progbits
 4445              		.align	1
 4446              		.global	USB_DevConnect
 4447              		.syntax unified
 4448              		.thumb
 4449              		.thumb_func
 4451              	USB_DevConnect:
 4452              	.LFB239:
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling Rpu
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_OTG_GlobalTypeDef *USBx)
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4453              		.loc 1 1260 1
 4454              		.cfi_startproc
ARM GAS  /tmp/ccSAnDQs.s 			page 101


 4455              		@ args = 0, pretend = 0, frame = 16
 4456              		@ frame_needed = 1, uses_anonymous_args = 0
 4457              		@ link register save eliminated.
 4458 0000 80B4     		push	{r7}
 4459              	.LCFI139:
 4460              		.cfi_def_cfa_offset 4
 4461              		.cfi_offset 7, -4
 4462 0002 85B0     		sub	sp, sp, #20
 4463              	.LCFI140:
 4464              		.cfi_def_cfa_offset 24
 4465 0004 00AF     		add	r7, sp, #0
 4466              	.LCFI141:
 4467              		.cfi_def_cfa_register 7
 4468 0006 7860     		str	r0, [r7, #4]
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4469              		.loc 1 1261 12
 4470 0008 7B68     		ldr	r3, [r7, #4]
 4471 000a FB60     		str	r3, [r7, #12]
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 4472              		.loc 1 1264 3
 4473 000c FB68     		ldr	r3, [r7, #12]
 4474 000e 03F56063 		add	r3, r3, #3584
 4475 0012 1B68     		ldr	r3, [r3]
 4476 0014 FA68     		ldr	r2, [r7, #12]
 4477 0016 02F56062 		add	r2, r2, #3584
 4478              		.loc 1 1264 16
 4479 001a 23F00303 		bic	r3, r3, #3
 4480 001e 1360     		str	r3, [r2]
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS;
 4481              		.loc 1 1266 14
 4482 0020 FB68     		ldr	r3, [r7, #12]
 4483 0022 03F50063 		add	r3, r3, #2048
 4484 0026 5B68     		ldr	r3, [r3, #4]
 4485 0028 FA68     		ldr	r2, [r7, #12]
 4486 002a 02F50062 		add	r2, r2, #2048
 4487              		.loc 1 1266 21
 4488 002e 23F00203 		bic	r3, r3, #2
 4489 0032 5360     		str	r3, [r2, #4]
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4490              		.loc 1 1268 10
 4491 0034 0023     		movs	r3, #0
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4492              		.loc 1 1269 1
 4493 0036 1846     		mov	r0, r3
 4494 0038 1437     		adds	r7, r7, #20
 4495              	.LCFI142:
 4496              		.cfi_def_cfa_offset 4
 4497 003a BD46     		mov	sp, r7
 4498              	.LCFI143:
 4499              		.cfi_def_cfa_register 13
 4500              		@ sp needed
 4501 003c 5DF8047B 		ldr	r7, [sp], #4
 4502              	.LCFI144:
ARM GAS  /tmp/ccSAnDQs.s 			page 102


 4503              		.cfi_restore 7
 4504              		.cfi_def_cfa_offset 0
 4505 0040 7047     		bx	lr
 4506              		.cfi_endproc
 4507              	.LFE239:
 4509              		.section	.text.USB_DevDisconnect,"ax",%progbits
 4510              		.align	1
 4511              		.global	USB_DevDisconnect
 4512              		.syntax unified
 4513              		.thumb
 4514              		.thumb_func
 4516              	USB_DevDisconnect:
 4517              	.LFB240:
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling Rpu
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_OTG_GlobalTypeDef *USBx)
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4518              		.loc 1 1277 1
 4519              		.cfi_startproc
 4520              		@ args = 0, pretend = 0, frame = 16
 4521              		@ frame_needed = 1, uses_anonymous_args = 0
 4522              		@ link register save eliminated.
 4523 0000 80B4     		push	{r7}
 4524              	.LCFI145:
 4525              		.cfi_def_cfa_offset 4
 4526              		.cfi_offset 7, -4
 4527 0002 85B0     		sub	sp, sp, #20
 4528              	.LCFI146:
 4529              		.cfi_def_cfa_offset 24
 4530 0004 00AF     		add	r7, sp, #0
 4531              	.LCFI147:
 4532              		.cfi_def_cfa_register 7
 4533 0006 7860     		str	r0, [r7, #4]
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4534              		.loc 1 1278 12
 4535 0008 7B68     		ldr	r3, [r7, #4]
 4536 000a FB60     		str	r3, [r7, #12]
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 4537              		.loc 1 1281 3
 4538 000c FB68     		ldr	r3, [r7, #12]
 4539 000e 03F56063 		add	r3, r3, #3584
 4540 0012 1B68     		ldr	r3, [r3]
 4541 0014 FA68     		ldr	r2, [r7, #12]
 4542 0016 02F56062 		add	r2, r2, #3584
 4543              		.loc 1 1281 16
 4544 001a 23F00303 		bic	r3, r3, #3
 4545 001e 1360     		str	r3, [r2]
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 4546              		.loc 1 1283 14
 4547 0020 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccSAnDQs.s 			page 103


 4548 0022 03F50063 		add	r3, r3, #2048
 4549 0026 5B68     		ldr	r3, [r3, #4]
 4550 0028 FA68     		ldr	r2, [r7, #12]
 4551 002a 02F50062 		add	r2, r2, #2048
 4552              		.loc 1 1283 21
 4553 002e 43F00203 		orr	r3, r3, #2
 4554 0032 5360     		str	r3, [r2, #4]
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4555              		.loc 1 1285 10
 4556 0034 0023     		movs	r3, #0
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4557              		.loc 1 1286 1
 4558 0036 1846     		mov	r0, r3
 4559 0038 1437     		adds	r7, r7, #20
 4560              	.LCFI148:
 4561              		.cfi_def_cfa_offset 4
 4562 003a BD46     		mov	sp, r7
 4563              	.LCFI149:
 4564              		.cfi_def_cfa_register 13
 4565              		@ sp needed
 4566 003c 5DF8047B 		ldr	r7, [sp], #4
 4567              	.LCFI150:
 4568              		.cfi_restore 7
 4569              		.cfi_def_cfa_offset 0
 4570 0040 7047     		bx	lr
 4571              		.cfi_endproc
 4572              	.LFE240:
 4574              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 4575              		.align	1
 4576              		.global	USB_ReadInterrupts
 4577              		.syntax unified
 4578              		.thumb
 4579              		.thumb_func
 4581              	USB_ReadInterrupts:
 4582              	.LFB241:
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_OTG_GlobalTypeDef *USBx)
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4583              		.loc 1 1294 1
 4584              		.cfi_startproc
 4585              		@ args = 0, pretend = 0, frame = 16
 4586              		@ frame_needed = 1, uses_anonymous_args = 0
 4587              		@ link register save eliminated.
 4588 0000 80B4     		push	{r7}
 4589              	.LCFI151:
 4590              		.cfi_def_cfa_offset 4
 4591              		.cfi_offset 7, -4
 4592 0002 85B0     		sub	sp, sp, #20
 4593              	.LCFI152:
 4594              		.cfi_def_cfa_offset 24
 4595 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccSAnDQs.s 			page 104


 4596              	.LCFI153:
 4597              		.cfi_def_cfa_register 7
 4598 0006 7860     		str	r0, [r7, #4]
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
 4599              		.loc 1 1297 10
 4600 0008 7B68     		ldr	r3, [r7, #4]
 4601 000a 5B69     		ldr	r3, [r3, #20]
 4602 000c FB60     		str	r3, [r7, #12]
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
 4603              		.loc 1 1298 17
 4604 000e 7B68     		ldr	r3, [r7, #4]
 4605 0010 9B69     		ldr	r3, [r3, #24]
 4606              		.loc 1 1298 10
 4607 0012 FA68     		ldr	r2, [r7, #12]
 4608 0014 1340     		ands	r3, r3, r2
 4609 0016 FB60     		str	r3, [r7, #12]
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4610              		.loc 1 1300 10
 4611 0018 FB68     		ldr	r3, [r7, #12]
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4612              		.loc 1 1301 1
 4613 001a 1846     		mov	r0, r3
 4614 001c 1437     		adds	r7, r7, #20
 4615              	.LCFI154:
 4616              		.cfi_def_cfa_offset 4
 4617 001e BD46     		mov	sp, r7
 4618              	.LCFI155:
 4619              		.cfi_def_cfa_register 13
 4620              		@ sp needed
 4621 0020 5DF8047B 		ldr	r7, [sp], #4
 4622              	.LCFI156:
 4623              		.cfi_restore 7
 4624              		.cfi_def_cfa_offset 0
 4625 0024 7047     		bx	lr
 4626              		.cfi_endproc
 4627              	.LFE241:
 4629              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 4630              		.align	1
 4631              		.global	USB_ReadDevAllOutEpInterrupt
 4632              		.syntax unified
 4633              		.thumb
 4634              		.thumb_func
 4636              	USB_ReadDevAllOutEpInterrupt:
 4637              	.LFB242:
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4638              		.loc 1 1309 1
 4639              		.cfi_startproc
ARM GAS  /tmp/ccSAnDQs.s 			page 105


 4640              		@ args = 0, pretend = 0, frame = 16
 4641              		@ frame_needed = 1, uses_anonymous_args = 0
 4642              		@ link register save eliminated.
 4643 0000 80B4     		push	{r7}
 4644              	.LCFI157:
 4645              		.cfi_def_cfa_offset 4
 4646              		.cfi_offset 7, -4
 4647 0002 85B0     		sub	sp, sp, #20
 4648              	.LCFI158:
 4649              		.cfi_def_cfa_offset 24
 4650 0004 00AF     		add	r7, sp, #0
 4651              	.LCFI159:
 4652              		.cfi_def_cfa_register 7
 4653 0006 7860     		str	r0, [r7, #4]
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4654              		.loc 1 1310 12
 4655 0008 7B68     		ldr	r3, [r7, #4]
 4656 000a FB60     		str	r3, [r7, #12]
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4657              		.loc 1 1313 13
 4658 000c FB68     		ldr	r3, [r7, #12]
 4659 000e 03F50063 		add	r3, r3, #2048
 4660              		.loc 1 1313 11
 4661 0012 9B69     		ldr	r3, [r3, #24]
 4662 0014 BB60     		str	r3, [r7, #8]
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4663              		.loc 1 1314 13
 4664 0016 FB68     		ldr	r3, [r7, #12]
 4665 0018 03F50063 		add	r3, r3, #2048
 4666              		.loc 1 1314 24
 4667 001c DB69     		ldr	r3, [r3, #28]
 4668              		.loc 1 1314 10
 4669 001e BA68     		ldr	r2, [r7, #8]
 4670 0020 1340     		ands	r3, r3, r2
 4671 0022 BB60     		str	r3, [r7, #8]
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xffff0000U) >> 16);
 4672              		.loc 1 1316 34
 4673 0024 BB68     		ldr	r3, [r7, #8]
 4674 0026 1B0C     		lsrs	r3, r3, #16
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4675              		.loc 1 1317 1
 4676 0028 1846     		mov	r0, r3
 4677 002a 1437     		adds	r7, r7, #20
 4678              	.LCFI160:
 4679              		.cfi_def_cfa_offset 4
 4680 002c BD46     		mov	sp, r7
 4681              	.LCFI161:
 4682              		.cfi_def_cfa_register 13
 4683              		@ sp needed
 4684 002e 5DF8047B 		ldr	r7, [sp], #4
 4685              	.LCFI162:
 4686              		.cfi_restore 7
 4687              		.cfi_def_cfa_offset 0
 4688 0032 7047     		bx	lr
ARM GAS  /tmp/ccSAnDQs.s 			page 106


 4689              		.cfi_endproc
 4690              	.LFE242:
 4692              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 4693              		.align	1
 4694              		.global	USB_ReadDevAllInEpInterrupt
 4695              		.syntax unified
 4696              		.thumb
 4697              		.thumb_func
 4699              	USB_ReadDevAllInEpInterrupt:
 4700              	.LFB243:
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4701              		.loc 1 1325 1
 4702              		.cfi_startproc
 4703              		@ args = 0, pretend = 0, frame = 16
 4704              		@ frame_needed = 1, uses_anonymous_args = 0
 4705              		@ link register save eliminated.
 4706 0000 80B4     		push	{r7}
 4707              	.LCFI163:
 4708              		.cfi_def_cfa_offset 4
 4709              		.cfi_offset 7, -4
 4710 0002 85B0     		sub	sp, sp, #20
 4711              	.LCFI164:
 4712              		.cfi_def_cfa_offset 24
 4713 0004 00AF     		add	r7, sp, #0
 4714              	.LCFI165:
 4715              		.cfi_def_cfa_register 7
 4716 0006 7860     		str	r0, [r7, #4]
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4717              		.loc 1 1326 12
 4718 0008 7B68     		ldr	r3, [r7, #4]
 4719 000a FB60     		str	r3, [r7, #12]
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4720              		.loc 1 1329 13
 4721 000c FB68     		ldr	r3, [r7, #12]
 4722 000e 03F50063 		add	r3, r3, #2048
 4723              		.loc 1 1329 11
 4724 0012 9B69     		ldr	r3, [r3, #24]
 4725 0014 BB60     		str	r3, [r7, #8]
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4726              		.loc 1 1330 13
 4727 0016 FB68     		ldr	r3, [r7, #12]
 4728 0018 03F50063 		add	r3, r3, #2048
 4729              		.loc 1 1330 24
 4730 001c DB69     		ldr	r3, [r3, #28]
 4731              		.loc 1 1330 10
 4732 001e BA68     		ldr	r2, [r7, #8]
 4733 0020 1340     		ands	r3, r3, r2
 4734 0022 BB60     		str	r3, [r7, #8]
ARM GAS  /tmp/ccSAnDQs.s 			page 107


1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xFFFFU));
 4735              		.loc 1 1332 19
 4736 0024 BB68     		ldr	r3, [r7, #8]
 4737 0026 9BB2     		uxth	r3, r3
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4738              		.loc 1 1333 1
 4739 0028 1846     		mov	r0, r3
 4740 002a 1437     		adds	r7, r7, #20
 4741              	.LCFI166:
 4742              		.cfi_def_cfa_offset 4
 4743 002c BD46     		mov	sp, r7
 4744              	.LCFI167:
 4745              		.cfi_def_cfa_register 13
 4746              		@ sp needed
 4747 002e 5DF8047B 		ldr	r7, [sp], #4
 4748              	.LCFI168:
 4749              		.cfi_restore 7
 4750              		.cfi_def_cfa_offset 0
 4751 0032 7047     		bx	lr
 4752              		.cfi_endproc
 4753              	.LFE243:
 4755              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 4756              		.align	1
 4757              		.global	USB_ReadDevOutEPInterrupt
 4758              		.syntax unified
 4759              		.thumb
 4760              		.thumb_func
 4762              	USB_ReadDevOutEPInterrupt:
 4763              	.LFB244:
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4764              		.loc 1 1343 1
 4765              		.cfi_startproc
 4766              		@ args = 0, pretend = 0, frame = 16
 4767              		@ frame_needed = 1, uses_anonymous_args = 0
 4768              		@ link register save eliminated.
 4769 0000 80B4     		push	{r7}
 4770              	.LCFI169:
 4771              		.cfi_def_cfa_offset 4
 4772              		.cfi_offset 7, -4
 4773 0002 85B0     		sub	sp, sp, #20
 4774              	.LCFI170:
 4775              		.cfi_def_cfa_offset 24
 4776 0004 00AF     		add	r7, sp, #0
 4777              	.LCFI171:
 4778              		.cfi_def_cfa_register 7
 4779 0006 7860     		str	r0, [r7, #4]
 4780 0008 0B46     		mov	r3, r1
ARM GAS  /tmp/ccSAnDQs.s 			page 108


 4781 000a FB70     		strb	r3, [r7, #3]
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4782              		.loc 1 1344 12
 4783 000c 7B68     		ldr	r3, [r7, #4]
 4784 000e FB60     		str	r3, [r7, #12]
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_OUTEP((uint32_t)epnum)->DOEPINT;
 4785              		.loc 1 1347 13
 4786 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4787 0012 5A01     		lsls	r2, r3, #5
 4788 0014 FB68     		ldr	r3, [r7, #12]
 4789 0016 1344     		add	r3, r3, r2
 4790 0018 03F53063 		add	r3, r3, #2816
 4791              		.loc 1 1347 11
 4792 001c 9B68     		ldr	r3, [r3, #8]
 4793 001e BB60     		str	r3, [r7, #8]
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
 4794              		.loc 1 1348 13
 4795 0020 FB68     		ldr	r3, [r7, #12]
 4796 0022 03F50063 		add	r3, r3, #2048
 4797              		.loc 1 1348 24
 4798 0026 5B69     		ldr	r3, [r3, #20]
 4799              		.loc 1 1348 10
 4800 0028 BA68     		ldr	r2, [r7, #8]
 4801 002a 1340     		ands	r3, r3, r2
 4802 002c BB60     		str	r3, [r7, #8]
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4803              		.loc 1 1350 10
 4804 002e BB68     		ldr	r3, [r7, #8]
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4805              		.loc 1 1351 1
 4806 0030 1846     		mov	r0, r3
 4807 0032 1437     		adds	r7, r7, #20
 4808              	.LCFI172:
 4809              		.cfi_def_cfa_offset 4
 4810 0034 BD46     		mov	sp, r7
 4811              	.LCFI173:
 4812              		.cfi_def_cfa_register 13
 4813              		@ sp needed
 4814 0036 5DF8047B 		ldr	r7, [sp], #4
 4815              	.LCFI174:
 4816              		.cfi_restore 7
 4817              		.cfi_def_cfa_offset 0
 4818 003a 7047     		bx	lr
 4819              		.cfi_endproc
 4820              	.LFE244:
 4822              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 4823              		.align	1
 4824              		.global	USB_ReadDevInEPInterrupt
 4825              		.syntax unified
 4826              		.thumb
 4827              		.thumb_func
 4829              	USB_ReadDevInEPInterrupt:
 4830              	.LFB245:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccSAnDQs.s 			page 109


1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4831              		.loc 1 1361 1
 4832              		.cfi_startproc
 4833              		@ args = 0, pretend = 0, frame = 24
 4834              		@ frame_needed = 1, uses_anonymous_args = 0
 4835              		@ link register save eliminated.
 4836 0000 80B4     		push	{r7}
 4837              	.LCFI175:
 4838              		.cfi_def_cfa_offset 4
 4839              		.cfi_offset 7, -4
 4840 0002 87B0     		sub	sp, sp, #28
 4841              	.LCFI176:
 4842              		.cfi_def_cfa_offset 32
 4843 0004 00AF     		add	r7, sp, #0
 4844              	.LCFI177:
 4845              		.cfi_def_cfa_register 7
 4846 0006 7860     		str	r0, [r7, #4]
 4847 0008 0B46     		mov	r3, r1
 4848 000a FB70     		strb	r3, [r7, #3]
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4849              		.loc 1 1362 12
 4850 000c 7B68     		ldr	r3, [r7, #4]
 4851 000e 7B61     		str	r3, [r7, #20]
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t msk;
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t emp;
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 4852              		.loc 1 1367 9
 4853 0010 7B69     		ldr	r3, [r7, #20]
 4854 0012 03F50063 		add	r3, r3, #2048
 4855              		.loc 1 1367 7
 4856 0016 1B69     		ldr	r3, [r3, #16]
 4857 0018 3B61     		str	r3, [r7, #16]
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 4858              		.loc 1 1368 9
 4859 001a 7B69     		ldr	r3, [r7, #20]
 4860 001c 03F50063 		add	r3, r3, #2048
 4861              		.loc 1 1368 7
 4862 0020 5B6B     		ldr	r3, [r3, #52]
 4863 0022 FB60     		str	r3, [r7, #12]
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk |= ((emp >> (epnum & EP_ADDR_MSK)) & 0x1U) << 7;
 4864              		.loc 1 1369 26
 4865 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4866 0026 03F00F03 		and	r3, r3, #15
 4867              		.loc 1 1369 16
 4868 002a FA68     		ldr	r2, [r7, #12]
 4869 002c 22FA03F3 		lsr	r3, r2, r3
 4870              		.loc 1 1369 50
ARM GAS  /tmp/ccSAnDQs.s 			page 110


 4871 0030 DB01     		lsls	r3, r3, #7
 4872 0032 DBB2     		uxtb	r3, r3
 4873              		.loc 1 1369 7
 4874 0034 3A69     		ldr	r2, [r7, #16]
 4875 0036 1343     		orrs	r3, r3, r2
 4876 0038 3B61     		str	r3, [r7, #16]
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_INEP((uint32_t)epnum)->DIEPINT & msk;
 4877              		.loc 1 1370 12
 4878 003a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4879 003c 5A01     		lsls	r2, r3, #5
 4880 003e 7B69     		ldr	r3, [r7, #20]
 4881 0040 1344     		add	r3, r3, r2
 4882 0042 03F51063 		add	r3, r3, #2304
 4883              		.loc 1 1370 38
 4884 0046 9B68     		ldr	r3, [r3, #8]
 4885              		.loc 1 1370 10
 4886 0048 3A69     		ldr	r2, [r7, #16]
 4887 004a 1340     		ands	r3, r3, r2
 4888 004c BB60     		str	r3, [r7, #8]
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4889              		.loc 1 1372 10
 4890 004e BB68     		ldr	r3, [r7, #8]
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4891              		.loc 1 1373 1
 4892 0050 1846     		mov	r0, r3
 4893 0052 1C37     		adds	r7, r7, #28
 4894              	.LCFI178:
 4895              		.cfi_def_cfa_offset 4
 4896 0054 BD46     		mov	sp, r7
 4897              	.LCFI179:
 4898              		.cfi_def_cfa_register 13
 4899              		@ sp needed
 4900 0056 5DF8047B 		ldr	r7, [sp], #4
 4901              	.LCFI180:
 4902              		.cfi_restore 7
 4903              		.cfi_def_cfa_offset 0
 4904 005a 7047     		bx	lr
 4905              		.cfi_endproc
 4906              	.LFE245:
 4908              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 4909              		.align	1
 4910              		.global	USB_ClearInterrupts
 4911              		.syntax unified
 4912              		.thumb
 4913              		.thumb_func
 4915              	USB_ClearInterrupts:
 4916              	.LFB246:
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  interrupt  flag
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval None
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void  USB_ClearInterrupts(USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
ARM GAS  /tmp/ccSAnDQs.s 			page 111


 4917              		.loc 1 1382 1
 4918              		.cfi_startproc
 4919              		@ args = 0, pretend = 0, frame = 8
 4920              		@ frame_needed = 1, uses_anonymous_args = 0
 4921              		@ link register save eliminated.
 4922 0000 80B4     		push	{r7}
 4923              	.LCFI181:
 4924              		.cfi_def_cfa_offset 4
 4925              		.cfi_offset 7, -4
 4926 0002 83B0     		sub	sp, sp, #12
 4927              	.LCFI182:
 4928              		.cfi_def_cfa_offset 16
 4929 0004 00AF     		add	r7, sp, #0
 4930              	.LCFI183:
 4931              		.cfi_def_cfa_register 7
 4932 0006 7860     		str	r0, [r7, #4]
 4933 0008 3960     		str	r1, [r7]
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt;
 4934              		.loc 1 1383 7
 4935 000a 7B68     		ldr	r3, [r7, #4]
 4936 000c 5A69     		ldr	r2, [r3, #20]
 4937              		.loc 1 1383 17
 4938 000e 3B68     		ldr	r3, [r7]
 4939 0010 1A43     		orrs	r2, r2, r3
 4940 0012 7B68     		ldr	r3, [r7, #4]
 4941 0014 5A61     		str	r2, [r3, #20]
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4942              		.loc 1 1384 1
 4943 0016 00BF     		nop
 4944 0018 0C37     		adds	r7, r7, #12
 4945              	.LCFI184:
 4946              		.cfi_def_cfa_offset 4
 4947 001a BD46     		mov	sp, r7
 4948              	.LCFI185:
 4949              		.cfi_def_cfa_register 13
 4950              		@ sp needed
 4951 001c 5DF8047B 		ldr	r7, [sp], #4
 4952              	.LCFI186:
 4953              		.cfi_restore 7
 4954              		.cfi_def_cfa_offset 0
 4955 0020 7047     		bx	lr
 4956              		.cfi_endproc
 4957              	.LFE246:
 4959              		.section	.text.USB_GetMode,"ax",%progbits
 4960              		.align	1
 4961              		.global	USB_GetMode
 4962              		.syntax unified
 4963              		.thumb
 4964              		.thumb_func
 4966              	USB_GetMode:
 4967              	.LFB247:
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns USB core mode
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
ARM GAS  /tmp/ccSAnDQs.s 			page 112


1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Host
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Device
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4968              		.loc 1 1395 1
 4969              		.cfi_startproc
 4970              		@ args = 0, pretend = 0, frame = 8
 4971              		@ frame_needed = 1, uses_anonymous_args = 0
 4972              		@ link register save eliminated.
 4973 0000 80B4     		push	{r7}
 4974              	.LCFI187:
 4975              		.cfi_def_cfa_offset 4
 4976              		.cfi_offset 7, -4
 4977 0002 83B0     		sub	sp, sp, #12
 4978              	.LCFI188:
 4979              		.cfi_def_cfa_offset 16
 4980 0004 00AF     		add	r7, sp, #0
 4981              	.LCFI189:
 4982              		.cfi_def_cfa_register 7
 4983 0006 7860     		str	r0, [r7, #4]
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx->GINTSTS) & 0x1U);
 4984              		.loc 1 1396 16
 4985 0008 7B68     		ldr	r3, [r7, #4]
 4986 000a 5B69     		ldr	r3, [r3, #20]
 4987              		.loc 1 1396 27
 4988 000c 03F00103 		and	r3, r3, #1
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4989              		.loc 1 1397 1
 4990 0010 1846     		mov	r0, r3
 4991 0012 0C37     		adds	r7, r7, #12
 4992              	.LCFI190:
 4993              		.cfi_def_cfa_offset 4
 4994 0014 BD46     		mov	sp, r7
 4995              	.LCFI191:
 4996              		.cfi_def_cfa_register 13
 4997              		@ sp needed
 4998 0016 5DF8047B 		ldr	r7, [sp], #4
 4999              	.LCFI192:
 5000              		.cfi_restore 7
 5001              		.cfi_def_cfa_offset 0
 5002 001a 7047     		bx	lr
 5003              		.cfi_endproc
 5004              	.LFE247:
 5006              		.section	.text.USB_ActivateSetup,"ax",%progbits
 5007              		.align	1
 5008              		.global	USB_ActivateSetup
 5009              		.syntax unified
 5010              		.thumb
 5011              		.thumb_func
 5013              	USB_ActivateSetup:
 5014              	.LFB248:
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
ARM GAS  /tmp/ccSAnDQs.s 			page 113


1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup(USB_OTG_GlobalTypeDef *USBx)
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5015              		.loc 1 1405 1
 5016              		.cfi_startproc
 5017              		@ args = 0, pretend = 0, frame = 16
 5018              		@ frame_needed = 1, uses_anonymous_args = 0
 5019              		@ link register save eliminated.
 5020 0000 80B4     		push	{r7}
 5021              	.LCFI193:
 5022              		.cfi_def_cfa_offset 4
 5023              		.cfi_offset 7, -4
 5024 0002 85B0     		sub	sp, sp, #20
 5025              	.LCFI194:
 5026              		.cfi_def_cfa_offset 24
 5027 0004 00AF     		add	r7, sp, #0
 5028              	.LCFI195:
 5029              		.cfi_def_cfa_register 7
 5030 0006 7860     		str	r0, [r7, #4]
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5031              		.loc 1 1406 12
 5032 0008 7B68     		ldr	r3, [r7, #4]
 5033 000a FB60     		str	r3, [r7, #12]
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set the MPS of the IN EP0 to 64 bytes */
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 5034              		.loc 1 1409 16
 5035 000c FB68     		ldr	r3, [r7, #12]
 5036 000e 03F51063 		add	r3, r3, #2304
 5037 0012 1B68     		ldr	r3, [r3]
 5038 0014 FA68     		ldr	r2, [r7, #12]
 5039 0016 02F51062 		add	r2, r2, #2304
 5040              		.loc 1 1409 26
 5041 001a 23F4FF63 		bic	r3, r3, #2040
 5042 001e 23F00703 		bic	r3, r3, #7
 5043 0022 1360     		str	r3, [r2]
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 5044              		.loc 1 1411 14
 5045 0024 FB68     		ldr	r3, [r7, #12]
 5046 0026 03F50063 		add	r3, r3, #2048
 5047 002a 5B68     		ldr	r3, [r3, #4]
 5048 002c FA68     		ldr	r2, [r7, #12]
 5049 002e 02F50062 		add	r2, r2, #2048
 5050              		.loc 1 1411 21
 5051 0032 43F48073 		orr	r3, r3, #256
 5052 0036 5360     		str	r3, [r2, #4]
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5053              		.loc 1 1413 10
 5054 0038 0023     		movs	r3, #0
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5055              		.loc 1 1414 1
 5056 003a 1846     		mov	r0, r3
 5057 003c 1437     		adds	r7, r7, #20
 5058              	.LCFI196:
 5059              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccSAnDQs.s 			page 114


 5060 003e BD46     		mov	sp, r7
 5061              	.LCFI197:
 5062              		.cfi_def_cfa_register 13
 5063              		@ sp needed
 5064 0040 5DF8047B 		ldr	r7, [sp], #4
 5065              	.LCFI198:
 5066              		.cfi_restore 7
 5067              		.cfi_def_cfa_offset 0
 5068 0044 7047     		bx	lr
 5069              		.cfi_endproc
 5070              	.LFE248:
 5072              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 5073              		.align	1
 5074              		.global	USB_EP0_OutStart
 5075              		.syntax unified
 5076              		.thumb
 5077              		.thumb_func
 5079              	USB_EP0_OutStart:
 5080              	.LFB249:
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t dma, uint8_t *psetup)
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5081              		.loc 1 1427 1
 5082              		.cfi_startproc
 5083              		@ args = 0, pretend = 0, frame = 24
 5084              		@ frame_needed = 1, uses_anonymous_args = 0
 5085              		@ link register save eliminated.
 5086 0000 80B4     		push	{r7}
 5087              	.LCFI199:
 5088              		.cfi_def_cfa_offset 4
 5089              		.cfi_offset 7, -4
 5090 0002 87B0     		sub	sp, sp, #28
 5091              	.LCFI200:
 5092              		.cfi_def_cfa_offset 32
 5093 0004 00AF     		add	r7, sp, #0
 5094              	.LCFI201:
 5095              		.cfi_def_cfa_register 7
 5096 0006 F860     		str	r0, [r7, #12]
 5097 0008 0B46     		mov	r3, r1
 5098 000a 7A60     		str	r2, [r7, #4]
 5099 000c FB72     		strb	r3, [r7, #11]
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5100              		.loc 1 1428 12
 5101 000e FB68     		ldr	r3, [r7, #12]
 5102 0010 7B61     		str	r3, [r7, #20]
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t gSNPSiD = *(__IO uint32_t *)(&USBx->CID + 0x1U);
 5103              		.loc 1 1429 41
ARM GAS  /tmp/ccSAnDQs.s 			page 115


 5104 0012 FB68     		ldr	r3, [r7, #12]
 5105 0014 3C33     		adds	r3, r3, #60
 5106              		.loc 1 1429 23
 5107 0016 0433     		adds	r3, r3, #4
 5108              		.loc 1 1429 12
 5109 0018 1B68     		ldr	r3, [r3]
 5110 001a 3B61     		str	r3, [r7, #16]
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (gSNPSiD > USB_OTG_CORE_ID_300A)
 5111              		.loc 1 1431 6
 5112 001c 3B69     		ldr	r3, [r7, #16]
 5113 001e 264A     		ldr	r2, .L207
 5114 0020 9342     		cmp	r3, r2
 5115 0022 0AD9     		bls	.L204
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(0U)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 5116              		.loc 1 1433 10
 5117 0024 7B69     		ldr	r3, [r7, #20]
 5118 0026 03F53063 		add	r3, r3, #2816
 5119              		.loc 1 1433 24
 5120 002a 1B68     		ldr	r3, [r3]
 5121              		.loc 1 1433 34
 5122 002c 03F00043 		and	r3, r3, #-2147483648
 5123              		.loc 1 1433 8
 5124 0030 B3F1004F 		cmp	r3, #-2147483648
 5125 0034 01D1     		bne	.L204
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 5126              		.loc 1 1435 14
 5127 0036 0023     		movs	r3, #0
 5128 0038 37E0     		b	.L205
 5129              	.L204:
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 5130              		.loc 1 1439 3
 5131 003a 7B69     		ldr	r3, [r7, #20]
 5132 003c 03F53063 		add	r3, r3, #2816
 5133 0040 1A46     		mov	r2, r3
 5134              		.loc 1 1439 28
 5135 0042 0023     		movs	r3, #0
 5136 0044 1361     		str	r3, [r2, #16]
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 5137              		.loc 1 1440 17
 5138 0046 7B69     		ldr	r3, [r7, #20]
 5139 0048 03F53063 		add	r3, r3, #2816
 5140 004c 1B69     		ldr	r3, [r3, #16]
 5141 004e 7A69     		ldr	r2, [r7, #20]
 5142 0050 02F53062 		add	r2, r2, #2816
 5143              		.loc 1 1440 28
 5144 0054 43F40023 		orr	r3, r3, #524288
 5145 0058 1361     		str	r3, [r2, #16]
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 5146              		.loc 1 1441 17
 5147 005a 7B69     		ldr	r3, [r7, #20]
 5148 005c 03F53063 		add	r3, r3, #2816
ARM GAS  /tmp/ccSAnDQs.s 			page 116


 5149 0060 1B69     		ldr	r3, [r3, #16]
 5150 0062 7A69     		ldr	r2, [r7, #20]
 5151 0064 02F53062 		add	r2, r2, #2816
 5152              		.loc 1 1441 28
 5153 0068 43F01803 		orr	r3, r3, #24
 5154 006c 1361     		str	r3, [r2, #16]
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
 5155              		.loc 1 1442 17
 5156 006e 7B69     		ldr	r3, [r7, #20]
 5157 0070 03F53063 		add	r3, r3, #2816
 5158 0074 1B69     		ldr	r3, [r3, #16]
 5159 0076 7A69     		ldr	r2, [r7, #20]
 5160 0078 02F53062 		add	r2, r2, #2816
 5161              		.loc 1 1442 28
 5162 007c 43F0C043 		orr	r3, r3, #1610612736
 5163 0080 1361     		str	r3, [r2, #16]
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 1U)
 5164              		.loc 1 1444 6
 5165 0082 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 5166 0084 012B     		cmp	r3, #1
 5167 0086 0FD1     		bne	.L206
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPDMA = (uint32_t)psetup;
 5168              		.loc 1 1446 5
 5169 0088 7B69     		ldr	r3, [r7, #20]
 5170 008a 03F53063 		add	r3, r3, #2816
 5171 008e 1A46     		mov	r2, r3
 5172              		.loc 1 1446 31
 5173 0090 7B68     		ldr	r3, [r7, #4]
 5174              		.loc 1 1446 29
 5175 0092 5361     		str	r3, [r2, #20]
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPCTL |= USB_OTG_DOEPCTL_EPENA | USB_OTG_DOEPCTL_USBAEP;
 5176              		.loc 1 1448 19
 5177 0094 7B69     		ldr	r3, [r7, #20]
 5178 0096 03F53063 		add	r3, r3, #2816
 5179 009a 1B68     		ldr	r3, [r3]
 5180 009c 7A69     		ldr	r2, [r7, #20]
 5181 009e 02F53062 		add	r2, r2, #2816
 5182              		.loc 1 1448 29
 5183 00a2 43F08023 		orr	r3, r3, #-2147450880
 5184 00a6 1360     		str	r3, [r2]
 5185              	.L206:
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5186              		.loc 1 1451 10
 5187 00a8 0023     		movs	r3, #0
 5188              	.L205:
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5189              		.loc 1 1452 1
 5190 00aa 1846     		mov	r0, r3
 5191 00ac 1C37     		adds	r7, r7, #28
 5192              	.LCFI202:
 5193              		.cfi_def_cfa_offset 4
 5194 00ae BD46     		mov	sp, r7
ARM GAS  /tmp/ccSAnDQs.s 			page 117


 5195              	.LCFI203:
 5196              		.cfi_def_cfa_register 13
 5197              		@ sp needed
 5198 00b0 5DF8047B 		ldr	r7, [sp], #4
 5199              	.LCFI204:
 5200              		.cfi_restore 7
 5201              		.cfi_def_cfa_offset 0
 5202 00b4 7047     		bx	lr
 5203              	.L208:
 5204 00b6 00BF     		.align	2
 5205              	.L207:
 5206 00b8 0A30544F 		.word	1330917386
 5207              		.cfi_endproc
 5208              	.LFE249:
 5210              		.section	.text.USB_CoreReset,"ax",%progbits
 5211              		.align	1
 5212              		.syntax unified
 5213              		.thumb
 5214              		.thumb_func
 5216              	USB_CoreReset:
 5217              	.LFB250:
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5218              		.loc 1 1460 1
 5219              		.cfi_startproc
 5220              		@ args = 0, pretend = 0, frame = 16
 5221              		@ frame_needed = 1, uses_anonymous_args = 0
 5222              		@ link register save eliminated.
 5223 0000 80B4     		push	{r7}
 5224              	.LCFI205:
 5225              		.cfi_def_cfa_offset 4
 5226              		.cfi_offset 7, -4
 5227 0002 85B0     		sub	sp, sp, #20
 5228              	.LCFI206:
 5229              		.cfi_def_cfa_offset 24
 5230 0004 00AF     		add	r7, sp, #0
 5231              	.LCFI207:
 5232              		.cfi_def_cfa_register 7
 5233 0006 7860     		str	r0, [r7, #4]
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 5234              		.loc 1 1461 17
 5235 0008 0023     		movs	r3, #0
 5236 000a FB60     		str	r3, [r7, #12]
 5237              	.L212:
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 5238              		.loc 1 1466 10
 5239 000c FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccSAnDQs.s 			page 118


 5240 000e 0133     		adds	r3, r3, #1
 5241 0010 FB60     		str	r3, [r7, #12]
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 5242              		.loc 1 1468 15
 5243 0012 FB68     		ldr	r3, [r7, #12]
 5244              		.loc 1 1468 8
 5245 0014 134A     		ldr	r2, .L215
 5246 0016 9342     		cmp	r3, r2
 5247 0018 01D9     		bls	.L210
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 5248              		.loc 1 1470 14
 5249 001a 0323     		movs	r3, #3
 5250 001c 1BE0     		b	.L211
 5251              	.L210:
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 5252              		.loc 1 1472 17
 5253 001e 7B68     		ldr	r3, [r7, #4]
 5254 0020 1B69     		ldr	r3, [r3, #16]
 5255              		.loc 1 1472 53
 5256 0022 002B     		cmp	r3, #0
 5257 0024 F2DA     		bge	.L212
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Core Soft Reset */
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 5258              		.loc 1 1475 9
 5259 0026 0023     		movs	r3, #0
 5260 0028 FB60     		str	r3, [r7, #12]
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 5261              		.loc 1 1476 7
 5262 002a 7B68     		ldr	r3, [r7, #4]
 5263 002c 1B69     		ldr	r3, [r3, #16]
 5264              		.loc 1 1476 17
 5265 002e 43F00102 		orr	r2, r3, #1
 5266 0032 7B68     		ldr	r3, [r7, #4]
 5267 0034 1A61     		str	r2, [r3, #16]
 5268              	.L214:
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 5269              		.loc 1 1480 10
 5270 0036 FB68     		ldr	r3, [r7, #12]
 5271 0038 0133     		adds	r3, r3, #1
 5272 003a FB60     		str	r3, [r7, #12]
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 5273              		.loc 1 1482 15
 5274 003c FB68     		ldr	r3, [r7, #12]
 5275              		.loc 1 1482 8
 5276 003e 094A     		ldr	r2, .L215
 5277 0040 9342     		cmp	r3, r2
 5278 0042 01D9     		bls	.L213
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
ARM GAS  /tmp/ccSAnDQs.s 			page 119


 5279              		.loc 1 1484 14
 5280 0044 0323     		movs	r3, #3
 5281 0046 06E0     		b	.L211
 5282              	.L213:
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 5283              		.loc 1 1486 17
 5284 0048 7B68     		ldr	r3, [r7, #4]
 5285 004a 1B69     		ldr	r3, [r3, #16]
 5286              		.loc 1 1486 27
 5287 004c 03F00103 		and	r3, r3, #1
 5288              		.loc 1 1486 52
 5289 0050 012B     		cmp	r3, #1
 5290 0052 F0D0     		beq	.L214
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5291              		.loc 1 1488 10
 5292 0054 0023     		movs	r3, #0
 5293              	.L211:
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5294              		.loc 1 1489 1
 5295 0056 1846     		mov	r0, r3
 5296 0058 1437     		adds	r7, r7, #20
 5297              	.LCFI208:
 5298              		.cfi_def_cfa_offset 4
 5299 005a BD46     		mov	sp, r7
 5300              	.LCFI209:
 5301              		.cfi_def_cfa_register 13
 5302              		@ sp needed
 5303 005c 5DF8047B 		ldr	r7, [sp], #4
 5304              	.LCFI210:
 5305              		.cfi_restore 7
 5306              		.cfi_def_cfa_offset 0
 5307 0060 7047     		bx	lr
 5308              	.L216:
 5309 0062 00BF     		.align	2
 5310              	.L215:
 5311 0064 400D0300 		.word	200000
 5312              		.cfi_endproc
 5313              	.LFE250:
 5315              		.section	.text.USB_HostInit,"ax",%progbits
 5316              		.align	1
 5317              		.global	USB_HostInit
 5318              		.syntax unified
 5319              		.thumb
 5320              		.thumb_func
 5322              	USB_HostInit:
 5323              	.LFB251:
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for Host mode
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
ARM GAS  /tmp/ccSAnDQs.s 			page 120


1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5324              		.loc 1 1500 1
 5325              		.cfi_startproc
 5326              		@ args = 56, pretend = 16, frame = 24
 5327              		@ frame_needed = 1, uses_anonymous_args = 0
 5328 0000 84B0     		sub	sp, sp, #16
 5329              	.LCFI211:
 5330              		.cfi_def_cfa_offset 16
 5331 0002 80B5     		push	{r7, lr}
 5332              	.LCFI212:
 5333              		.cfi_def_cfa_offset 24
 5334              		.cfi_offset 7, -24
 5335              		.cfi_offset 14, -20
 5336 0004 86B0     		sub	sp, sp, #24
 5337              	.LCFI213:
 5338              		.cfi_def_cfa_offset 48
 5339 0006 00AF     		add	r7, sp, #0
 5340              	.LCFI214:
 5341              		.cfi_def_cfa_register 7
 5342 0008 7860     		str	r0, [r7, #4]
 5343 000a 07F12400 		add	r0, r7, #36
 5344 000e 80E80E00 		stm	r0, {r1, r2, r3}
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5345              		.loc 1 1501 21
 5346 0012 0023     		movs	r3, #0
 5347 0014 FB75     		strb	r3, [r7, #23]
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5348              		.loc 1 1502 12
 5349 0016 7B68     		ldr	r3, [r7, #4]
 5350 0018 FB60     		str	r3, [r7, #12]
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 5351              		.loc 1 1506 3
 5352 001a FB68     		ldr	r3, [r7, #12]
 5353 001c 03F56063 		add	r3, r3, #3584
 5354 0020 1A46     		mov	r2, r3
 5355              		.loc 1 1506 16
 5356 0022 0023     		movs	r3, #0
 5357 0024 1360     		str	r3, [r2]
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable HW VBUS sensing */
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_VBDEN);
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Disable HW VBUS sensing. VBUS is internally considered to be always
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * at VBUS-Valid level (5V).
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 5358              		.loc 1 1516 7
 5359 0026 7B68     		ldr	r3, [r7, #4]
 5360 0028 9B6B     		ldr	r3, [r3, #56]
 5361              		.loc 1 1516 15
 5362 002a 43F40012 		orr	r2, r3, #2097152
ARM GAS  /tmp/ccSAnDQs.s 			page 121


 5363 002e 7B68     		ldr	r3, [r7, #4]
 5364 0030 9A63     		str	r2, [r3, #56]
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
 5365              		.loc 1 1517 7
 5366 0032 7B68     		ldr	r3, [r7, #4]
 5367 0034 9B6B     		ldr	r3, [r3, #56]
 5368              		.loc 1 1517 15
 5369 0036 23F40022 		bic	r2, r3, #524288
 5370 003a 7B68     		ldr	r3, [r7, #4]
 5371 003c 9A63     		str	r2, [r3, #56]
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
 5372              		.loc 1 1518 7
 5373 003e 7B68     		ldr	r3, [r7, #4]
 5374 0040 9B6B     		ldr	r3, [r3, #56]
 5375              		.loc 1 1518 15
 5376 0042 23F48022 		bic	r2, r3, #262144
 5377 0046 7B68     		ldr	r3, [r7, #4]
 5378 0048 9A63     		str	r2, [r3, #56]
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412Cx) ||
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable Battery chargin detector */
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_BCDEN);
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 5379              		.loc 1 1525 12
 5380 004a 7B68     		ldr	r3, [r7, #4]
 5381 004c DB6B     		ldr	r3, [r3, #60]
 5382              		.loc 1 1525 18
 5383 004e 03F48073 		and	r3, r3, #256
 5384              		.loc 1 1525 6
 5385 0052 002B     		cmp	r3, #0
 5386 0054 18D0     		beq	.L218
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USBH_FSLS_SPEED)
 5387              		.loc 1 1527 12
 5388 0056 FB6A     		ldr	r3, [r7, #44]
 5389              		.loc 1 1527 8
 5390 0058 012B     		cmp	r3, #1
 5391 005a 0AD1     		bne	.L219
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Force Device Enumeration to FS/LS mode only */
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS;
 5392              		.loc 1 1530 16
 5393 005c FB68     		ldr	r3, [r7, #12]
 5394 005e 03F58063 		add	r3, r3, #1024
 5395 0062 1B68     		ldr	r3, [r3]
 5396 0064 FA68     		ldr	r2, [r7, #12]
 5397 0066 02F58062 		add	r2, r2, #1024
 5398              		.loc 1 1530 23
 5399 006a 43F00403 		orr	r3, r3, #4
 5400 006e 1360     		str	r3, [r2]
 5401 0070 14E0     		b	.L220
 5402              	.L219:
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
ARM GAS  /tmp/ccSAnDQs.s 			page 122


1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set default Max speed support */
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 5403              		.loc 1 1535 16
 5404 0072 FB68     		ldr	r3, [r7, #12]
 5405 0074 03F58063 		add	r3, r3, #1024
 5406 0078 1B68     		ldr	r3, [r3]
 5407 007a FA68     		ldr	r2, [r7, #12]
 5408 007c 02F58062 		add	r2, r2, #1024
 5409              		.loc 1 1535 23
 5410 0080 23F00403 		bic	r3, r3, #4
 5411 0084 1360     		str	r3, [r2]
 5412 0086 09E0     		b	.L220
 5413              	.L218:
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set default Max speed support */
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 5414              		.loc 1 1541 14
 5415 0088 FB68     		ldr	r3, [r7, #12]
 5416 008a 03F58063 		add	r3, r3, #1024
 5417 008e 1B68     		ldr	r3, [r3]
 5418 0090 FA68     		ldr	r2, [r7, #12]
 5419 0092 02F58062 		add	r2, r2, #1024
 5420              		.loc 1 1541 21
 5421 0096 23F00403 		bic	r3, r3, #4
 5422 009a 1360     		str	r3, [r2]
 5423              	.L220:
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 5424              		.loc 1 1545 7
 5425 009c 1021     		movs	r1, #16
 5426 009e 7868     		ldr	r0, [r7, #4]
 5427 00a0 FFF7FEFF 		bl	USB_FlushTxFifo
 5428 00a4 0346     		mov	r3, r0
 5429              		.loc 1 1545 6
 5430 00a6 002B     		cmp	r3, #0
 5431 00a8 01D0     		beq	.L221
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 5432              		.loc 1 1547 9
 5433 00aa 0123     		movs	r3, #1
 5434 00ac FB75     		strb	r3, [r7, #23]
 5435              	.L221:
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 5436              		.loc 1 1550 7
 5437 00ae 7868     		ldr	r0, [r7, #4]
 5438 00b0 FFF7FEFF 		bl	USB_FlushRxFifo
 5439 00b4 0346     		mov	r3, r0
 5440              		.loc 1 1550 6
 5441 00b6 002B     		cmp	r3, #0
 5442 00b8 01D0     		beq	.L222
ARM GAS  /tmp/ccSAnDQs.s 			page 123


1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 5443              		.loc 1 1552 9
 5444 00ba 0123     		movs	r3, #1
 5445 00bc FB75     		strb	r3, [r7, #23]
 5446              	.L222:
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
 5447              		.loc 1 1556 10
 5448 00be 0023     		movs	r3, #0
 5449 00c0 3B61     		str	r3, [r7, #16]
 5450              		.loc 1 1556 3
 5451 00c2 15E0     		b	.L223
 5452              	.L224:
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
 5453              		.loc 1 1558 5 discriminator 3
 5454 00c4 3B69     		ldr	r3, [r7, #16]
 5455 00c6 5A01     		lsls	r2, r3, #5
 5456 00c8 FB68     		ldr	r3, [r7, #12]
 5457 00ca 1344     		add	r3, r3, r2
 5458 00cc 03F5A063 		add	r3, r3, #1280
 5459 00d0 1A46     		mov	r2, r3
 5460              		.loc 1 1558 23 discriminator 3
 5461 00d2 4FF0FF33 		mov	r3, #-1
 5462 00d6 9360     		str	r3, [r2, #8]
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 5463              		.loc 1 1559 5 discriminator 3
 5464 00d8 3B69     		ldr	r3, [r7, #16]
 5465 00da 5A01     		lsls	r2, r3, #5
 5466 00dc FB68     		ldr	r3, [r7, #12]
 5467 00de 1344     		add	r3, r3, r2
 5468 00e0 03F5A063 		add	r3, r3, #1280
 5469 00e4 1A46     		mov	r2, r3
 5470              		.loc 1 1559 26 discriminator 3
 5471 00e6 0023     		movs	r3, #0
 5472 00e8 D360     		str	r3, [r2, #12]
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5473              		.loc 1 1556 40 discriminator 3
 5474 00ea 3B69     		ldr	r3, [r7, #16]
 5475 00ec 0133     		adds	r3, r3, #1
 5476 00ee 3B61     		str	r3, [r7, #16]
 5477              	.L223:
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5478              		.loc 1 1556 23 discriminator 1
 5479 00f0 BB6A     		ldr	r3, [r7, #40]
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5480              		.loc 1 1556 18 discriminator 1
 5481 00f2 3A69     		ldr	r2, [r7, #16]
 5482 00f4 9A42     		cmp	r2, r3
 5483 00f6 E5D3     		bcc	.L224
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
ARM GAS  /tmp/ccSAnDQs.s 			page 124


 5484              		.loc 1 1563 17
 5485 00f8 7B68     		ldr	r3, [r7, #4]
 5486 00fa 0022     		movs	r2, #0
 5487 00fc 9A61     		str	r2, [r3, #24]
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 5488              		.loc 1 1566 17
 5489 00fe 7B68     		ldr	r3, [r7, #4]
 5490 0100 4FF0FF32 		mov	r2, #-1
 5491 0104 5A61     		str	r2, [r3, #20]
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 5492              		.loc 1 1568 12
 5493 0106 7B68     		ldr	r3, [r7, #4]
 5494 0108 DB6B     		ldr	r3, [r3, #60]
 5495              		.loc 1 1568 18
 5496 010a 03F48073 		and	r3, r3, #256
 5497              		.loc 1 1568 6
 5498 010e 002B     		cmp	r3, #0
 5499 0110 0BD0     		beq	.L225
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x200U;
 5500              		.loc 1 1571 20
 5501 0112 7B68     		ldr	r3, [r7, #4]
 5502 0114 4FF40072 		mov	r2, #512
 5503 0118 5A62     		str	r2, [r3, #36]
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x100U << 16) & USB_OTG_NPTXFD) | 0x200U);
 5504              		.loc 1 1572 30
 5505 011a 7B68     		ldr	r3, [r7, #4]
 5506 011c 134A     		ldr	r2, .L229
 5507 011e 9A62     		str	r2, [r3, #40]
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0xE0U << 16) & USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
 5508              		.loc 1 1573 20
 5509 0120 7B68     		ldr	r3, [r7, #4]
 5510 0122 134A     		ldr	r2, .L229+4
 5511 0124 C3F80021 		str	r2, [r3, #256]
 5512 0128 09E0     		b	.L226
 5513              	.L225:
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x80U;
 5514              		.loc 1 1578 20
 5515 012a 7B68     		ldr	r3, [r7, #4]
 5516 012c 8022     		movs	r2, #128
 5517 012e 5A62     		str	r2, [r3, #36]
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x60U << 16) & USB_OTG_NPTXFD) | 0x80U);
 5518              		.loc 1 1579 30
 5519 0130 7B68     		ldr	r3, [r7, #4]
 5520 0132 104A     		ldr	r2, .L229+8
 5521 0134 9A62     		str	r2, [r3, #40]
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0x40U << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 5522              		.loc 1 1580 20
 5523 0136 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccSAnDQs.s 			page 125


 5524 0138 0F4A     		ldr	r2, .L229+12
 5525 013a C3F80021 		str	r2, [r3, #256]
 5526              	.L226:
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 5527              		.loc 1 1584 10
 5528 013e 3B6B     		ldr	r3, [r7, #48]
 5529              		.loc 1 1584 6
 5530 0140 002B     		cmp	r3, #0
 5531 0142 05D1     		bne	.L227
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 5532              		.loc 1 1586 9
 5533 0144 7B68     		ldr	r3, [r7, #4]
 5534 0146 9B69     		ldr	r3, [r3, #24]
 5535              		.loc 1 1586 19
 5536 0148 43F01002 		orr	r2, r3, #16
 5537 014c 7B68     		ldr	r3, [r7, #4]
 5538 014e 9A61     		str	r2, [r3, #24]
 5539              	.L227:
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM | \
 5540              		.loc 1 1590 7
 5541 0150 7B68     		ldr	r3, [r7, #4]
 5542 0152 9A69     		ldr	r2, [r3, #24]
 5543              		.loc 1 1590 17
 5544 0154 094B     		ldr	r3, .L229+16
 5545 0156 1343     		orrs	r3, r3, r2
 5546 0158 7A68     		ldr	r2, [r7, #4]
 5547 015a 9361     		str	r3, [r2, #24]
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             | USB_OTG_GINTSTS_DISCINT | \
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 5548              		.loc 1 1594 10
 5549 015c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5550              		.loc 1 1595 1
 5551 015e 1846     		mov	r0, r3
 5552 0160 1837     		adds	r7, r7, #24
 5553              	.LCFI215:
 5554              		.cfi_def_cfa_offset 24
 5555 0162 BD46     		mov	sp, r7
 5556              	.LCFI216:
 5557              		.cfi_def_cfa_register 13
 5558              		@ sp needed
 5559 0164 BDE88040 		pop	{r7, lr}
 5560              	.LCFI217:
 5561              		.cfi_restore 14
 5562              		.cfi_restore 7
 5563              		.cfi_def_cfa_offset 16
 5564 0168 04B0     		add	sp, sp, #16
 5565              	.LCFI218:
ARM GAS  /tmp/ccSAnDQs.s 			page 126


 5566              		.cfi_def_cfa_offset 0
 5567 016a 7047     		bx	lr
 5568              	.L230:
 5569              		.align	2
 5570              	.L229:
 5571 016c 00020001 		.word	16777728
 5572 0170 0003E000 		.word	14680832
 5573 0174 80006000 		.word	6291584
 5574 0178 E0004000 		.word	4194528
 5575 017c 080020A3 		.word	-1558183928
 5576              		.cfi_endproc
 5577              	.LFE251:
 5579              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 5580              		.align	1
 5581              		.global	USB_InitFSLSPClkSel
 5582              		.syntax unified
 5583              		.thumb
 5584              		.thumb_func
 5586              	USB_InitFSLSPClkSel:
 5587              	.LFB252:
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  freq  clock frequency
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx, uint8_t freq)
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5588              		.loc 1 1608 1
 5589              		.cfi_startproc
 5590              		@ args = 0, pretend = 0, frame = 16
 5591              		@ frame_needed = 1, uses_anonymous_args = 0
 5592              		@ link register save eliminated.
 5593 0000 80B4     		push	{r7}
 5594              	.LCFI219:
 5595              		.cfi_def_cfa_offset 4
 5596              		.cfi_offset 7, -4
 5597 0002 85B0     		sub	sp, sp, #20
 5598              	.LCFI220:
 5599              		.cfi_def_cfa_offset 24
 5600 0004 00AF     		add	r7, sp, #0
 5601              	.LCFI221:
 5602              		.cfi_def_cfa_register 7
 5603 0006 7860     		str	r0, [r7, #4]
 5604 0008 0B46     		mov	r3, r1
 5605 000a FB70     		strb	r3, [r7, #3]
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5606              		.loc 1 1609 12
 5607 000c 7B68     		ldr	r3, [r7, #4]
 5608 000e FB60     		str	r3, [r7, #12]
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
ARM GAS  /tmp/ccSAnDQs.s 			page 127


 5609              		.loc 1 1611 12
 5610 0010 FB68     		ldr	r3, [r7, #12]
 5611 0012 03F58063 		add	r3, r3, #1024
 5612 0016 1B68     		ldr	r3, [r3]
 5613 0018 FA68     		ldr	r2, [r7, #12]
 5614 001a 02F58062 		add	r2, r2, #1024
 5615              		.loc 1 1611 19
 5616 001e 23F00303 		bic	r3, r3, #3
 5617 0022 1360     		str	r3, [r2]
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG |= (uint32_t)freq & USB_OTG_HCFG_FSLSPCS;
 5618              		.loc 1 1612 12
 5619 0024 FB68     		ldr	r3, [r7, #12]
 5620 0026 03F58063 		add	r3, r3, #1024
 5621 002a 1A68     		ldr	r2, [r3]
 5622              		.loc 1 1612 37
 5623 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5624 002e 03F00303 		and	r3, r3, #3
 5625              		.loc 1 1612 12
 5626 0032 F968     		ldr	r1, [r7, #12]
 5627 0034 01F58061 		add	r1, r1, #1024
 5628              		.loc 1 1612 19
 5629 0038 1343     		orrs	r3, r3, r2
 5630 003a 0B60     		str	r3, [r1]
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (freq == HCFG_48_MHZ)
 5631              		.loc 1 1614 6
 5632 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5633 003e 012B     		cmp	r3, #1
 5634 0040 07D1     		bne	.L232
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
 5635              		.loc 1 1616 5
 5636 0042 FB68     		ldr	r3, [r7, #12]
 5637 0044 03F58063 		add	r3, r3, #1024
 5638 0048 1A46     		mov	r2, r3
 5639              		.loc 1 1616 21
 5640 004a 4BF68033 		movw	r3, #48000
 5641 004e 5360     		str	r3, [r2, #4]
 5642 0050 09E0     		b	.L233
 5643              	.L232:
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (freq == HCFG_6_MHZ)
 5644              		.loc 1 1618 11
 5645 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5646 0054 022B     		cmp	r3, #2
 5647 0056 06D1     		bne	.L233
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
 5648              		.loc 1 1620 5
 5649 0058 FB68     		ldr	r3, [r7, #12]
 5650 005a 03F58063 		add	r3, r3, #1024
 5651 005e 1A46     		mov	r2, r3
 5652              		.loc 1 1620 21
 5653 0060 41F27073 		movw	r3, #6000
 5654 0064 5360     		str	r3, [r2, #4]
 5655              	.L233:
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
ARM GAS  /tmp/ccSAnDQs.s 			page 128


1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* ... */
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5656              		.loc 1 1627 10
 5657 0066 0023     		movs	r3, #0
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5658              		.loc 1 1628 1
 5659 0068 1846     		mov	r0, r3
 5660 006a 1437     		adds	r7, r7, #20
 5661              	.LCFI222:
 5662              		.cfi_def_cfa_offset 4
 5663 006c BD46     		mov	sp, r7
 5664              	.LCFI223:
 5665              		.cfi_def_cfa_register 13
 5666              		@ sp needed
 5667 006e 5DF8047B 		ldr	r7, [sp], #4
 5668              	.LCFI224:
 5669              		.cfi_restore 7
 5670              		.cfi_def_cfa_offset 0
 5671 0072 7047     		bx	lr
 5672              		.cfi_endproc
 5673              	.LFE252:
 5675              		.section	.text.USB_ResetPort,"ax",%progbits
 5676              		.align	1
 5677              		.global	USB_ResetPort
 5678              		.syntax unified
 5679              		.thumb
 5680              		.thumb_func
 5682              	USB_ResetPort:
 5683              	.LFB253:
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_OTG_ResetPort : Reset Host Port
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @note (1)The application must wait at least 10 ms
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   before clearing the reset bit.
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5684              		.loc 1 1638 1
 5685              		.cfi_startproc
 5686              		@ args = 0, pretend = 0, frame = 16
 5687              		@ frame_needed = 1, uses_anonymous_args = 0
 5688 0000 80B5     		push	{r7, lr}
 5689              	.LCFI225:
 5690              		.cfi_def_cfa_offset 8
 5691              		.cfi_offset 7, -8
 5692              		.cfi_offset 14, -4
 5693 0002 84B0     		sub	sp, sp, #16
 5694              	.LCFI226:
 5695              		.cfi_def_cfa_offset 24
 5696 0004 00AF     		add	r7, sp, #0
 5697              	.LCFI227:
ARM GAS  /tmp/ccSAnDQs.s 			page 129


 5698              		.cfi_def_cfa_register 7
 5699 0006 7860     		str	r0, [r7, #4]
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5700              		.loc 1 1639 12
 5701 0008 7B68     		ldr	r3, [r7, #4]
 5702 000a FB60     		str	r3, [r7, #12]
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5703              		.loc 1 1641 17
 5704 000c 0023     		movs	r3, #0
 5705 000e BB60     		str	r3, [r7, #8]
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5706              		.loc 1 1643 11
 5707 0010 FB68     		ldr	r3, [r7, #12]
 5708 0012 03F58863 		add	r3, r3, #1088
 5709 0016 1B68     		ldr	r3, [r3]
 5710              		.loc 1 1643 9
 5711 0018 BB60     		str	r3, [r7, #8]
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5712              		.loc 1 1645 9
 5713 001a BB68     		ldr	r3, [r7, #8]
 5714 001c 23F02E03 		bic	r3, r3, #46
 5715 0020 BB60     		str	r3, [r7, #8]
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);
 5716              		.loc 1 1648 35
 5717 0022 BB68     		ldr	r3, [r7, #8]
 5718              		.loc 1 1648 3
 5719 0024 FA68     		ldr	r2, [r7, #12]
 5720 0026 02F58862 		add	r2, r2, #1088
 5721              		.loc 1 1648 35
 5722 002a 43F48073 		orr	r3, r3, #256
 5723              		.loc 1 1648 14
 5724 002e 1360     		str	r3, [r2]
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(100U);                                 /* See Note #1 */
 5725              		.loc 1 1649 3
 5726 0030 6420     		movs	r0, #100
 5727 0032 FFF7FEFF 		bl	HAL_Delay
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0);
 5728              		.loc 1 1650 38
 5729 0036 BB68     		ldr	r3, [r7, #8]
 5730              		.loc 1 1650 3
 5731 0038 FA68     		ldr	r2, [r7, #12]
 5732 003a 02F58862 		add	r2, r2, #1088
 5733              		.loc 1 1650 38
 5734 003e 23F48073 		bic	r3, r3, #256
 5735              		.loc 1 1650 14
 5736 0042 1360     		str	r3, [r2]
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(10U);
 5737              		.loc 1 1651 3
 5738 0044 0A20     		movs	r0, #10
 5739 0046 FFF7FEFF 		bl	HAL_Delay
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
ARM GAS  /tmp/ccSAnDQs.s 			page 130


 5740              		.loc 1 1653 10
 5741 004a 0023     		movs	r3, #0
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5742              		.loc 1 1654 1
 5743 004c 1846     		mov	r0, r3
 5744 004e 1037     		adds	r7, r7, #16
 5745              	.LCFI228:
 5746              		.cfi_def_cfa_offset 8
 5747 0050 BD46     		mov	sp, r7
 5748              	.LCFI229:
 5749              		.cfi_def_cfa_register 13
 5750              		@ sp needed
 5751 0052 80BD     		pop	{r7, pc}
 5752              		.cfi_endproc
 5753              	.LFE253:
 5755              		.section	.text.USB_DriveVbus,"ax",%progbits
 5756              		.align	1
 5757              		.global	USB_DriveVbus
 5758              		.syntax unified
 5759              		.thumb
 5760              		.thumb_func
 5762              	USB_DriveVbus:
 5763              	.LFB254:
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  state  VBUS state
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Deactivate VBUS
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Activate VBUS
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus(USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5764              		.loc 1 1665 1
 5765              		.cfi_startproc
 5766              		@ args = 0, pretend = 0, frame = 16
 5767              		@ frame_needed = 1, uses_anonymous_args = 0
 5768              		@ link register save eliminated.
 5769 0000 80B4     		push	{r7}
 5770              	.LCFI230:
 5771              		.cfi_def_cfa_offset 4
 5772              		.cfi_offset 7, -4
 5773 0002 85B0     		sub	sp, sp, #20
 5774              	.LCFI231:
 5775              		.cfi_def_cfa_offset 24
 5776 0004 00AF     		add	r7, sp, #0
 5777              	.LCFI232:
 5778              		.cfi_def_cfa_register 7
 5779 0006 7860     		str	r0, [r7, #4]
 5780 0008 0B46     		mov	r3, r1
 5781 000a FB70     		strb	r3, [r7, #3]
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5782              		.loc 1 1666 12
 5783 000c 7B68     		ldr	r3, [r7, #4]
 5784 000e FB60     		str	r3, [r7, #12]
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
ARM GAS  /tmp/ccSAnDQs.s 			page 131


 5785              		.loc 1 1667 17
 5786 0010 0023     		movs	r3, #0
 5787 0012 BB60     		str	r3, [r7, #8]
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5788              		.loc 1 1669 11
 5789 0014 FB68     		ldr	r3, [r7, #12]
 5790 0016 03F58863 		add	r3, r3, #1088
 5791 001a 1B68     		ldr	r3, [r3]
 5792              		.loc 1 1669 9
 5793 001c BB60     		str	r3, [r7, #8]
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5794              		.loc 1 1671 9
 5795 001e BB68     		ldr	r3, [r7, #8]
 5796 0020 23F02E03 		bic	r3, r3, #46
 5797 0024 BB60     		str	r3, [r7, #8]
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 5798              		.loc 1 1674 15
 5799 0026 BB68     		ldr	r3, [r7, #8]
 5800 0028 03F48053 		and	r3, r3, #4096
 5801              		.loc 1 1674 6
 5802 002c 002B     		cmp	r3, #0
 5803 002e 09D1     		bne	.L238
 5804              		.loc 1 1674 43 discriminator 1
 5805 0030 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5806 0032 012B     		cmp	r3, #1
 5807 0034 06D1     		bne	.L238
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
 5808              		.loc 1 1676 37
 5809 0036 BB68     		ldr	r3, [r7, #8]
 5810              		.loc 1 1676 5
 5811 0038 FA68     		ldr	r2, [r7, #12]
 5812 003a 02F58862 		add	r2, r2, #1088
 5813              		.loc 1 1676 37
 5814 003e 43F48053 		orr	r3, r3, #4096
 5815              		.loc 1 1676 16
 5816 0042 1360     		str	r3, [r2]
 5817              	.L238:
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 5818              		.loc 1 1678 15
 5819 0044 BB68     		ldr	r3, [r7, #8]
 5820 0046 03F48053 		and	r3, r3, #4096
 5821              		.loc 1 1678 6
 5822 004a B3F5805F 		cmp	r3, #4096
 5823 004e 09D1     		bne	.L239
 5824              		.loc 1 1678 58 discriminator 1
 5825 0050 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5826 0052 002B     		cmp	r3, #0
 5827 0054 06D1     		bne	.L239
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
 5828              		.loc 1 1680 40
ARM GAS  /tmp/ccSAnDQs.s 			page 132


 5829 0056 BB68     		ldr	r3, [r7, #8]
 5830              		.loc 1 1680 5
 5831 0058 FA68     		ldr	r2, [r7, #12]
 5832 005a 02F58862 		add	r2, r2, #1088
 5833              		.loc 1 1680 40
 5834 005e 23F48053 		bic	r3, r3, #4096
 5835              		.loc 1 1680 16
 5836 0062 1360     		str	r3, [r2]
 5837              	.L239:
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5838              		.loc 1 1682 10
 5839 0064 0023     		movs	r3, #0
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5840              		.loc 1 1683 1
 5841 0066 1846     		mov	r0, r3
 5842 0068 1437     		adds	r7, r7, #20
 5843              	.LCFI233:
 5844              		.cfi_def_cfa_offset 4
 5845 006a BD46     		mov	sp, r7
 5846              	.LCFI234:
 5847              		.cfi_def_cfa_register 13
 5848              		@ sp needed
 5849 006c 5DF8047B 		ldr	r7, [sp], #4
 5850              	.LCFI235:
 5851              		.cfi_restore 7
 5852              		.cfi_def_cfa_offset 0
 5853 0070 7047     		bx	lr
 5854              		.cfi_endproc
 5855              	.LFE254:
 5857              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 5858              		.align	1
 5859              		.global	USB_GetHostSpeed
 5860              		.syntax unified
 5861              		.thumb
 5862              		.thumb_func
 5864              	USB_GetHostSpeed:
 5865              	.LFB255:
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Core speed
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : Host speed
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_HIGH: High speed mode
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_FULL: Full speed mode
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_LOW: Low speed mode
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetHostSpeed(USB_OTG_GlobalTypeDef *USBx)
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5866              		.loc 1 1695 1
 5867              		.cfi_startproc
 5868              		@ args = 0, pretend = 0, frame = 16
 5869              		@ frame_needed = 1, uses_anonymous_args = 0
 5870              		@ link register save eliminated.
 5871 0000 80B4     		push	{r7}
 5872              	.LCFI236:
ARM GAS  /tmp/ccSAnDQs.s 			page 133


 5873              		.cfi_def_cfa_offset 4
 5874              		.cfi_offset 7, -4
 5875 0002 85B0     		sub	sp, sp, #20
 5876              	.LCFI237:
 5877              		.cfi_def_cfa_offset 24
 5878 0004 00AF     		add	r7, sp, #0
 5879              	.LCFI238:
 5880              		.cfi_def_cfa_register 7
 5881 0006 7860     		str	r0, [r7, #4]
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5882              		.loc 1 1696 12
 5883 0008 7B68     		ldr	r3, [r7, #4]
 5884 000a FB60     		str	r3, [r7, #12]
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5885              		.loc 1 1697 17
 5886 000c 0023     		movs	r3, #0
 5887 000e BB60     		str	r3, [r7, #8]
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5888              		.loc 1 1699 11
 5889 0010 FB68     		ldr	r3, [r7, #12]
 5890 0012 03F58863 		add	r3, r3, #1088
 5891 0016 1B68     		ldr	r3, [r3]
 5892              		.loc 1 1699 9
 5893 0018 BB60     		str	r3, [r7, #8]
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
 5894              		.loc 1 1700 39
 5895 001a BB68     		ldr	r3, [r7, #8]
 5896 001c 5B0C     		lsrs	r3, r3, #17
 5897 001e 03F00303 		and	r3, r3, #3
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5898              		.loc 1 1701 1
 5899 0022 1846     		mov	r0, r3
 5900 0024 1437     		adds	r7, r7, #20
 5901              	.LCFI239:
 5902              		.cfi_def_cfa_offset 4
 5903 0026 BD46     		mov	sp, r7
 5904              	.LCFI240:
 5905              		.cfi_def_cfa_register 13
 5906              		@ sp needed
 5907 0028 5DF8047B 		ldr	r7, [sp], #4
 5908              	.LCFI241:
 5909              		.cfi_restore 7
 5910              		.cfi_def_cfa_offset 0
 5911 002c 7047     		bx	lr
 5912              		.cfi_endproc
 5913              	.LFE255:
 5915              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 5916              		.align	1
 5917              		.global	USB_GetCurrentFrame
 5918              		.syntax unified
 5919              		.thumb
 5920              		.thumb_func
 5922              	USB_GetCurrentFrame:
 5923              	.LFB256:
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
ARM GAS  /tmp/ccSAnDQs.s 			page 134


1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval current frame number
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame(USB_OTG_GlobalTypeDef *USBx)
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5924              		.loc 1 1709 1
 5925              		.cfi_startproc
 5926              		@ args = 0, pretend = 0, frame = 16
 5927              		@ frame_needed = 1, uses_anonymous_args = 0
 5928              		@ link register save eliminated.
 5929 0000 80B4     		push	{r7}
 5930              	.LCFI242:
 5931              		.cfi_def_cfa_offset 4
 5932              		.cfi_offset 7, -4
 5933 0002 85B0     		sub	sp, sp, #20
 5934              	.LCFI243:
 5935              		.cfi_def_cfa_offset 24
 5936 0004 00AF     		add	r7, sp, #0
 5937              	.LCFI244:
 5938              		.cfi_def_cfa_register 7
 5939 0006 7860     		str	r0, [r7, #4]
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5940              		.loc 1 1710 12
 5941 0008 7B68     		ldr	r3, [r7, #4]
 5942 000a FB60     		str	r3, [r7, #12]
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 5943              		.loc 1 1712 11
 5944 000c FB68     		ldr	r3, [r7, #12]
 5945 000e 03F58063 		add	r3, r3, #1024
 5946              		.loc 1 1712 20
 5947 0012 9B68     		ldr	r3, [r3, #8]
 5948              		.loc 1 1712 28
 5949 0014 9BB2     		uxth	r3, r3
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5950              		.loc 1 1713 1
 5951 0016 1846     		mov	r0, r3
 5952 0018 1437     		adds	r7, r7, #20
 5953              	.LCFI245:
 5954              		.cfi_def_cfa_offset 4
 5955 001a BD46     		mov	sp, r7
 5956              	.LCFI246:
 5957              		.cfi_def_cfa_register 13
 5958              		@ sp needed
 5959 001c 5DF8047B 		ldr	r7, [sp], #4
 5960              	.LCFI247:
 5961              		.cfi_restore 7
 5962              		.cfi_def_cfa_offset 0
 5963 0020 7047     		bx	lr
 5964              		.cfi_endproc
 5965              	.LFE256:
 5967              		.section	.text.USB_HC_Init,"ax",%progbits
 5968              		.align	1
 5969              		.global	USB_HC_Init
 5970              		.syntax unified
 5971              		.thumb
ARM GAS  /tmp/ccSAnDQs.s 			page 135


 5972              		.thumb_func
 5974              	USB_HC_Init:
 5975              	.LFB257:
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initialize a host channel
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_num  Channel number
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dev_address  Current device address
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  Current device speed
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 32K
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num,
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t epnum, uint8_t dev_address, uint8_t speed,
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ep_type, uint16_t mps)
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5976              		.loc 1 1742 1
 5977              		.cfi_startproc
 5978              		@ args = 12, pretend = 0, frame = 32
 5979              		@ frame_needed = 1, uses_anonymous_args = 0
 5980 0000 80B5     		push	{r7, lr}
 5981              	.LCFI248:
 5982              		.cfi_def_cfa_offset 8
 5983              		.cfi_offset 7, -8
 5984              		.cfi_offset 14, -4
 5985 0002 88B0     		sub	sp, sp, #32
 5986              	.LCFI249:
 5987              		.cfi_def_cfa_offset 40
 5988 0004 00AF     		add	r7, sp, #0
 5989              	.LCFI250:
 5990              		.cfi_def_cfa_register 7
 5991 0006 7860     		str	r0, [r7, #4]
 5992 0008 0846     		mov	r0, r1
 5993 000a 1146     		mov	r1, r2
 5994 000c 1A46     		mov	r2, r3
 5995 000e 0346     		mov	r3, r0
 5996 0010 FB70     		strb	r3, [r7, #3]
 5997 0012 0B46     		mov	r3, r1
 5998 0014 BB70     		strb	r3, [r7, #2]
 5999 0016 1346     		mov	r3, r2
 6000 0018 7B70     		strb	r3, [r7, #1]
ARM GAS  /tmp/ccSAnDQs.s 			page 136


1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 6001              		.loc 1 1743 21
 6002 001a 0023     		movs	r3, #0
 6003 001c FB77     		strb	r3, [r7, #31]
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6004              		.loc 1 1744 12
 6005 001e 7B68     		ldr	r3, [r7, #4]
 6006 0020 3B61     		str	r3, [r7, #16]
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HCcharEpDir;
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HCcharLowSpeed;
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HostCoreSpeed;
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINT = 0xFFFFFFFFU;
 6007              		.loc 1 1750 3
 6008 0022 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6009 0024 5A01     		lsls	r2, r3, #5
 6010 0026 3B69     		ldr	r3, [r7, #16]
 6011 0028 1344     		add	r3, r3, r2
 6012 002a 03F5A063 		add	r3, r3, #1280
 6013 002e 1A46     		mov	r2, r3
 6014              		.loc 1 1750 36
 6015 0030 4FF0FF33 		mov	r3, #-1
 6016 0034 9360     		str	r3, [r2, #8]
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   switch (ep_type)
 6017              		.loc 1 1753 3
 6018 0036 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6019 003a 032B     		cmp	r3, #3
 6020 003c 7ED8     		bhi	.L246
 6021 003e 01A2     		adr	r2, .L248
 6022 0040 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 6023              		.p2align 2
 6024              	.L248:
 6025 0044 55000000 		.word	.L249+1
 6026 0048 FF000000 		.word	.L250+1
 6027 004c 55000000 		.word	.L249+1
 6028 0050 C1000000 		.word	.L247+1
 6029              		.p2align 1
 6030              	.L249:
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_CTRL:
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_BULK:
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 6031              		.loc 1 1757 7
 6032 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6033 0056 5A01     		lsls	r2, r3, #5
 6034 0058 3B69     		ldr	r3, [r7, #16]
 6035 005a 1344     		add	r3, r3, r2
 6036 005c 03F5A063 		add	r3, r3, #1280
 6037 0060 1A46     		mov	r2, r3
 6038              		.loc 1 1757 43
 6039 0062 40F29D43 		movw	r3, #1181
 6040 0066 D360     		str	r3, [r2, #12]
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
ARM GAS  /tmp/ccSAnDQs.s 			page 137


1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM;
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 6041              		.loc 1 1764 27
 6042 0068 97F90230 		ldrsb	r3, [r7, #2]
 6043              		.loc 1 1764 10
 6044 006c 002B     		cmp	r3, #0
 6045 006e 10DA     		bge	.L251
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 6046              		.loc 1 1766 34
 6047 0070 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6048 0072 5A01     		lsls	r2, r3, #5
 6049 0074 3B69     		ldr	r3, [r7, #16]
 6050 0076 1344     		add	r3, r3, r2
 6051 0078 03F5A063 		add	r3, r3, #1280
 6052 007c DB68     		ldr	r3, [r3, #12]
 6053 007e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6054 0080 5101     		lsls	r1, r2, #5
 6055 0082 3A69     		ldr	r2, [r7, #16]
 6056 0084 0A44     		add	r2, r2, r1
 6057 0086 02F5A062 		add	r2, r2, #1280
 6058              		.loc 1 1766 45
 6059 008a 43F48073 		orr	r3, r3, #256
 6060 008e D360     		str	r3, [r2, #12]
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx->CID & (0x1U << 8)) != 0U)
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_NYET |
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                  USB_OTG_HCINTMSK_ACKM;
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 6061              		.loc 1 1776 7
 6062 0090 57E0     		b	.L263
 6063              	.L251:
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 6064              		.loc 1 1770 18
 6065 0092 7B68     		ldr	r3, [r7, #4]
 6066 0094 DB6B     		ldr	r3, [r3, #60]
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 6067              		.loc 1 1770 24
 6068 0096 03F48073 		and	r3, r3, #256
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 6069              		.loc 1 1770 12
 6070 009a 002B     		cmp	r3, #0
 6071 009c 51D0     		beq	.L263
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                  USB_OTG_HCINTMSK_ACKM;
 6072              		.loc 1 1772 36
 6073 009e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6074 00a0 5A01     		lsls	r2, r3, #5
 6075 00a2 3B69     		ldr	r3, [r7, #16]
 6076 00a4 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccSAnDQs.s 			page 138


 6077 00a6 03F5A063 		add	r3, r3, #1280
 6078 00aa DB68     		ldr	r3, [r3, #12]
 6079 00ac FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6080 00ae 5101     		lsls	r1, r2, #5
 6081 00b0 3A69     		ldr	r2, [r7, #16]
 6082 00b2 0A44     		add	r2, r2, r1
 6083 00b4 02F5A062 		add	r2, r2, #1280
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                  USB_OTG_HCINTMSK_ACKM;
 6084              		.loc 1 1772 47
 6085 00b8 43F06003 		orr	r3, r3, #96
 6086 00bc D360     		str	r3, [r2, #12]
 6087              		.loc 1 1776 7
 6088 00be 40E0     		b	.L263
 6089              	.L247:
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_INTR:
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 6090              		.loc 1 1779 7
 6091 00c0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6092 00c2 5A01     		lsls	r2, r3, #5
 6093 00c4 3B69     		ldr	r3, [r7, #16]
 6094 00c6 1344     		add	r3, r3, r2
 6095 00c8 03F5A063 		add	r3, r3, #1280
 6096 00cc 1A46     		mov	r2, r3
 6097              		.loc 1 1779 43
 6098 00ce 40F29D63 		movw	r3, #1693
 6099 00d2 D360     		str	r3, [r2, #12]
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM   |
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 6100              		.loc 1 1787 27
 6101 00d4 97F90230 		ldrsb	r3, [r7, #2]
 6102              		.loc 1 1787 10
 6103 00d8 002B     		cmp	r3, #0
 6104 00da 34DA     		bge	.L264
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 6105              		.loc 1 1789 34
 6106 00dc FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6107 00de 5A01     		lsls	r2, r3, #5
 6108 00e0 3B69     		ldr	r3, [r7, #16]
 6109 00e2 1344     		add	r3, r3, r2
 6110 00e4 03F5A063 		add	r3, r3, #1280
 6111 00e8 DB68     		ldr	r3, [r3, #12]
 6112 00ea FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6113 00ec 5101     		lsls	r1, r2, #5
 6114 00ee 3A69     		ldr	r2, [r7, #16]
 6115 00f0 0A44     		add	r2, r2, r1
 6116 00f2 02F5A062 		add	r2, r2, #1280
 6117              		.loc 1 1789 45
 6118 00f6 43F48073 		orr	r3, r3, #256
 6119 00fa D360     		str	r3, [r2, #12]
ARM GAS  /tmp/ccSAnDQs.s 			page 139


1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 6120              		.loc 1 1792 7
 6121 00fc 23E0     		b	.L264
 6122              	.L250:
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_ISOC:
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 6123              		.loc 1 1795 7
 6124 00fe FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6125 0100 5A01     		lsls	r2, r3, #5
 6126 0102 3B69     		ldr	r3, [r7, #16]
 6127 0104 1344     		add	r3, r3, r2
 6128 0106 03F5A063 		add	r3, r3, #1280
 6129 010a 1A46     		mov	r2, r3
 6130              		.loc 1 1795 43
 6131 010c 40F22523 		movw	r3, #549
 6132 0110 D360     		str	r3, [r2, #12]
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_ACKM   |
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 6133              		.loc 1 1800 27
 6134 0112 97F90230 		ldrsb	r3, [r7, #2]
 6135              		.loc 1 1800 10
 6136 0116 002B     		cmp	r3, #0
 6137 0118 17DA     		bge	.L265
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
 6138              		.loc 1 1802 34
 6139 011a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6140 011c 5A01     		lsls	r2, r3, #5
 6141 011e 3B69     		ldr	r3, [r7, #16]
 6142 0120 1344     		add	r3, r3, r2
 6143 0122 03F5A063 		add	r3, r3, #1280
 6144 0126 DB68     		ldr	r3, [r3, #12]
 6145 0128 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6146 012a 5101     		lsls	r1, r2, #5
 6147 012c 3A69     		ldr	r2, [r7, #16]
 6148 012e 0A44     		add	r2, r2, r1
 6149 0130 02F5A062 		add	r2, r2, #1280
 6150              		.loc 1 1802 45
 6151 0134 43F4C073 		orr	r3, r3, #384
 6152 0138 D360     		str	r3, [r2, #12]
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 6153              		.loc 1 1804 7
 6154 013a 06E0     		b	.L265
 6155              	.L246:
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     default:
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ret = HAL_ERROR;
 6156              		.loc 1 1807 11
 6157 013c 0123     		movs	r3, #1
 6158 013e FB77     		strb	r3, [r7, #31]
ARM GAS  /tmp/ccSAnDQs.s 			page 140


1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 6159              		.loc 1 1808 7
 6160 0140 04E0     		b	.L253
 6161              	.L263:
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6162              		.loc 1 1776 7
 6163 0142 00BF     		nop
 6164 0144 02E0     		b	.L253
 6165              	.L264:
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6166              		.loc 1 1792 7
 6167 0146 00BF     		nop
 6168 0148 00E0     		b	.L253
 6169              	.L265:
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6170              		.loc 1 1804 7
 6171 014a 00BF     		nop
 6172              	.L253:
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable host channel Halt interrupt */
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_CHHM;
 6173              		.loc 1 1812 28
 6174 014c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6175 014e 5A01     		lsls	r2, r3, #5
 6176 0150 3B69     		ldr	r3, [r7, #16]
 6177 0152 1344     		add	r3, r3, r2
 6178 0154 03F5A063 		add	r3, r3, #1280
 6179 0158 DB68     		ldr	r3, [r3, #12]
 6180 015a FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6181 015c 5101     		lsls	r1, r2, #5
 6182 015e 3A69     		ldr	r2, [r7, #16]
 6183 0160 0A44     		add	r2, r2, r1
 6184 0162 02F5A062 		add	r2, r2, #1280
 6185              		.loc 1 1812 39
 6186 0166 43F00203 		orr	r3, r3, #2
 6187 016a D360     		str	r3, [r2, #12]
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= 1UL << (ch_num & 0xFU);
 6188              		.loc 1 1815 12
 6189 016c 3B69     		ldr	r3, [r7, #16]
 6190 016e 03F58063 		add	r3, r3, #1024
 6191 0172 9A69     		ldr	r2, [r3, #24]
 6192              		.loc 1 1815 41
 6193 0174 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6194 0176 03F00F03 		and	r3, r3, #15
 6195              		.loc 1 1815 30
 6196 017a 0121     		movs	r1, #1
 6197 017c 01FA03F3 		lsl	r3, r1, r3
 6198              		.loc 1 1815 12
 6199 0180 3969     		ldr	r1, [r7, #16]
 6200 0182 01F58061 		add	r1, r1, #1024
 6201              		.loc 1 1815 23
 6202 0186 1343     		orrs	r3, r3, r2
 6203 0188 8B61     		str	r3, [r1, #24]
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccSAnDQs.s 			page 141


1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 6204              		.loc 1 1818 7
 6205 018a 7B68     		ldr	r3, [r7, #4]
 6206 018c 9B69     		ldr	r3, [r3, #24]
 6207              		.loc 1 1818 17
 6208 018e 43F00072 		orr	r2, r3, #33554432
 6209 0192 7B68     		ldr	r3, [r7, #4]
 6210 0194 9A61     		str	r2, [r3, #24]
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Program the HCCHAR register */
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((epnum & 0x80U) == 0x80U)
 6211              		.loc 1 1821 23
 6212 0196 97F90230 		ldrsb	r3, [r7, #2]
 6213              		.loc 1 1821 6
 6214 019a 002B     		cmp	r3, #0
 6215 019c 03DA     		bge	.L256
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = (0x1U << 15) & USB_OTG_HCCHAR_EPDIR;
 6216              		.loc 1 1823 17
 6217 019e 4FF40043 		mov	r3, #32768
 6218 01a2 BB61     		str	r3, [r7, #24]
 6219 01a4 01E0     		b	.L257
 6220              	.L256:
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = 0U;
 6221              		.loc 1 1827 17
 6222 01a6 0023     		movs	r3, #0
 6223 01a8 BB61     		str	r3, [r7, #24]
 6224              	.L257:
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HostCoreSpeed = USB_GetHostSpeed(USBx);
 6225              		.loc 1 1830 19
 6226 01aa 7868     		ldr	r0, [r7, #4]
 6227 01ac FFF7FEFF 		bl	USB_GetHostSpeed
 6228 01b0 F860     		str	r0, [r7, #12]
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* LS device plugged to HUB */
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((speed == HPRT0_PRTSPD_LOW_SPEED) && (HostCoreSpeed != HPRT0_PRTSPD_LOW_SPEED))
 6229              		.loc 1 1833 6
 6230 01b2 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 6231 01b6 022B     		cmp	r3, #2
 6232 01b8 06D1     		bne	.L258
 6233              		.loc 1 1833 41 discriminator 1
 6234 01ba FB68     		ldr	r3, [r7, #12]
 6235 01bc 022B     		cmp	r3, #2
 6236 01be 03D0     		beq	.L258
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = (0x1U << 17) & USB_OTG_HCCHAR_LSDEV;
 6237              		.loc 1 1835 20
 6238 01c0 4FF40033 		mov	r3, #131072
 6239 01c4 7B61     		str	r3, [r7, #20]
 6240 01c6 01E0     		b	.L259
 6241              	.L258:
ARM GAS  /tmp/ccSAnDQs.s 			page 142


1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = 0U;
 6242              		.loc 1 1839 20
 6243 01c8 0023     		movs	r3, #0
 6244 01ca 7B61     		str	r3, [r7, #20]
 6245              	.L259:
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCCHAR = (((uint32_t)dev_address << 22) & USB_OTG_HCCHAR_DAD) |
 6246              		.loc 1 1842 41
 6247 01cc 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 6248              		.loc 1 1842 63
 6249 01ce 9B05     		lsls	r3, r3, #22
 6250              		.loc 1 1842 70
 6251 01d0 03F0FE52 		and	r2, r3, #532676608
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6252              		.loc 1 1843 67
 6253 01d4 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 6254 01d6 DB02     		lsls	r3, r3, #11
 6255              		.loc 1 1843 74
 6256 01d8 03F4F043 		and	r3, r3, #30720
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6257              		.loc 1 1842 92
 6258 01dc 1A43     		orrs	r2, r2, r3
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 6259              		.loc 1 1844 41
 6260 01de 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6261              		.loc 1 1844 59
 6262 01e2 9B04     		lsls	r3, r3, #18
 6263              		.loc 1 1844 66
 6264 01e4 03F44023 		and	r3, r3, #786432
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6265              		.loc 1 1843 98
 6266 01e8 1A43     		orrs	r2, r2, r3
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((uint32_t)mps & USB_OTG_HCCHAR_MPSIZ) | HCcharEpDir | HCchar
 6267              		.loc 1 1845 54
 6268 01ea 3B8E     		ldrh	r3, [r7, #48]
 6269 01ec C3F30A03 		ubfx	r3, r3, #0, #11
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 6270              		.loc 1 1844 90
 6271 01f0 1A43     		orrs	r2, r2, r3
 6272              		.loc 1 1845 78
 6273 01f2 BB69     		ldr	r3, [r7, #24]
 6274 01f4 1A43     		orrs	r2, r2, r3
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6275              		.loc 1 1842 3
 6276 01f6 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6277 01f8 5901     		lsls	r1, r3, #5
 6278 01fa 3B69     		ldr	r3, [r7, #16]
 6279 01fc 0B44     		add	r3, r3, r1
 6280 01fe 03F5A063 		add	r3, r3, #1280
 6281 0202 1946     		mov	r1, r3
 6282              		.loc 1 1845 92
 6283 0204 7B69     		ldr	r3, [r7, #20]
 6284 0206 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/ccSAnDQs.s 			page 143


1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6285              		.loc 1 1842 37
 6286 0208 0B60     		str	r3, [r1]
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((ep_type == EP_TYPE_INTR) || (ep_type == EP_TYPE_ISOC))
 6287              		.loc 1 1847 6
 6288 020a 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6289 020e 032B     		cmp	r3, #3
 6290 0210 03D0     		beq	.L260
 6291              		.loc 1 1847 33 discriminator 1
 6292 0212 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6293 0216 012B     		cmp	r3, #1
 6294 0218 0FD1     		bne	.L261
 6295              	.L260:
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC((uint32_t)ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM;
 6296              		.loc 1 1849 30
 6297 021a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6298 021c 5A01     		lsls	r2, r3, #5
 6299 021e 3B69     		ldr	r3, [r7, #16]
 6300 0220 1344     		add	r3, r3, r2
 6301 0222 03F5A063 		add	r3, r3, #1280
 6302 0226 1B68     		ldr	r3, [r3]
 6303 0228 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6304 022a 5101     		lsls	r1, r2, #5
 6305 022c 3A69     		ldr	r2, [r7, #16]
 6306 022e 0A44     		add	r2, r2, r1
 6307 0230 02F5A062 		add	r2, r2, #1280
 6308              		.loc 1 1849 39
 6309 0234 43F00053 		orr	r3, r3, #536870912
 6310 0238 1360     		str	r3, [r2]
 6311              	.L261:
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 6312              		.loc 1 1852 10
 6313 023a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6314              		.loc 1 1853 1
 6315 023c 1846     		mov	r0, r3
 6316 023e 2037     		adds	r7, r7, #32
 6317              	.LCFI251:
 6318              		.cfi_def_cfa_offset 8
 6319 0240 BD46     		mov	sp, r7
 6320              	.LCFI252:
 6321              		.cfi_def_cfa_register 13
 6322              		@ sp needed
 6323 0242 80BD     		pop	{r7, pc}
 6324              		.cfi_endproc
 6325              	.LFE257:
 6327              		.section	.text.USB_HC_StartXfer,"ax",%progbits
 6328              		.align	1
 6329              		.global	USB_HC_StartXfer
 6330              		.syntax unified
 6331              		.thumb
 6332              		.thumb_func
 6334              	USB_HC_StartXfer:
ARM GAS  /tmp/ccSAnDQs.s 			page 144


 6335              	.LFB258:
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc, uint8_t dma)
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6336              		.loc 1 1866 1
 6337              		.cfi_startproc
 6338              		@ args = 0, pretend = 0, frame = 40
 6339              		@ frame_needed = 1, uses_anonymous_args = 0
 6340 0000 80B5     		push	{r7, lr}
 6341              	.LCFI253:
 6342              		.cfi_def_cfa_offset 8
 6343              		.cfi_offset 7, -8
 6344              		.cfi_offset 14, -4
 6345 0002 8CB0     		sub	sp, sp, #48
 6346              	.LCFI254:
 6347              		.cfi_def_cfa_offset 56
 6348 0004 02AF     		add	r7, sp, #8
 6349              	.LCFI255:
 6350              		.cfi_def_cfa 7, 48
 6351 0006 F860     		str	r0, [r7, #12]
 6352 0008 B960     		str	r1, [r7, #8]
 6353 000a 1346     		mov	r3, r2
 6354 000c FB71     		strb	r3, [r7, #7]
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6355              		.loc 1 1867 12
 6356 000e FB68     		ldr	r3, [r7, #12]
 6357 0010 3B62     		str	r3, [r7, #32]
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ch_num = (uint32_t)hc->ch_num;
 6358              		.loc 1 1868 33
 6359 0012 BB68     		ldr	r3, [r7, #8]
 6360 0014 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6361              		.loc 1 1868 12
 6362 0016 FB61     		str	r3, [r7, #28]
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t tmpreg;
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  is_oddframe;
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t len_words;
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t num_packets;
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256U;
 6363              		.loc 1 1873 12
 6364 0018 4FF48073 		mov	r3, #256
 6365 001c 7B83     		strh	r3, [r7, #26]	@ movhi
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((USBx->CID & (0x1U << 8)) != 0U) && (hc->speed == USBH_HS_SPEED))
 6366              		.loc 1 1875 13
 6367 001e FB68     		ldr	r3, [r7, #12]
 6368 0020 DB6B     		ldr	r3, [r3, #60]
 6369              		.loc 1 1875 19
ARM GAS  /tmp/ccSAnDQs.s 			page 145


 6370 0022 03F48073 		and	r3, r3, #256
 6371              		.loc 1 1875 6
 6372 0026 002B     		cmp	r3, #0
 6373 0028 2DD0     		beq	.L267
 6374              		.loc 1 1875 47 discriminator 1
 6375 002a BB68     		ldr	r3, [r7, #8]
 6376 002c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 6377              		.loc 1 1875 41 discriminator 1
 6378 002e 002B     		cmp	r3, #0
 6379 0030 29D1     		bne	.L267
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* in DMA mode host Core automatically issues ping  in case of NYET/NAK */
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((dma == 1U) && ((hc->ep_type == EP_TYPE_CTRL) || (hc->ep_type == EP_TYPE_BULK)))
 6380              		.loc 1 1878 8
 6381 0032 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6382 0034 012B     		cmp	r3, #1
 6383 0036 17D1     		bne	.L268
 6384              		.loc 1 1878 28 discriminator 1
 6385 0038 BB68     		ldr	r3, [r7, #8]
 6386 003a DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6387              		.loc 1 1878 21 discriminator 1
 6388 003c 002B     		cmp	r3, #0
 6389 003e 03D0     		beq	.L269
 6390              		.loc 1 1878 61 discriminator 2
 6391 0040 BB68     		ldr	r3, [r7, #8]
 6392 0042 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6393              		.loc 1 1878 55 discriminator 2
 6394 0044 022B     		cmp	r3, #2
 6395 0046 0FD1     		bne	.L268
 6396              	.L269:
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK &= ~(USB_OTG_HCINTMSK_NYET |
 6397              		.loc 1 1880 32
 6398 0048 FB69     		ldr	r3, [r7, #28]
 6399 004a 5A01     		lsls	r2, r3, #5
 6400 004c 3B6A     		ldr	r3, [r7, #32]
 6401 004e 1344     		add	r3, r3, r2
 6402 0050 03F5A063 		add	r3, r3, #1280
 6403 0054 DB68     		ldr	r3, [r3, #12]
 6404 0056 FA69     		ldr	r2, [r7, #28]
 6405 0058 5101     		lsls	r1, r2, #5
 6406 005a 3A6A     		ldr	r2, [r7, #32]
 6407 005c 0A44     		add	r2, r2, r1
 6408 005e 02F5A062 		add	r2, r2, #1280
 6409              		.loc 1 1880 43
 6410 0062 23F07003 		bic	r3, r3, #112
 6411 0066 D360     		str	r3, [r2, #12]
 6412              	.L268:
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                USB_OTG_HCINTMSK_ACKM |
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                USB_OTG_HCINTMSK_NAKM);
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((dma == 0U) && (hc->do_ping == 1U))
 6413              		.loc 1 1885 8
 6414 0068 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6415 006a 002B     		cmp	r3, #0
 6416 006c 0BD1     		bne	.L267
ARM GAS  /tmp/ccSAnDQs.s 			page 146


 6417              		.loc 1 1885 27 discriminator 1
 6418 006e BB68     		ldr	r3, [r7, #8]
 6419 0070 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 6420              		.loc 1 1885 21 discriminator 1
 6421 0072 012B     		cmp	r3, #1
 6422 0074 07D1     		bne	.L267
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_DoPing(USBx, hc->ch_num);
 6423              		.loc 1 1887 13
 6424 0076 BB68     		ldr	r3, [r7, #8]
 6425 0078 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6426 007a 1946     		mov	r1, r3
 6427 007c F868     		ldr	r0, [r7, #12]
 6428 007e FFF7FEFF 		bl	USB_DoPing
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 6429              		.loc 1 1888 14
 6430 0082 0023     		movs	r3, #0
 6431 0084 F8E0     		b	.L270
 6432              	.L267:
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
 6433              		.loc 1 1894 9
 6434 0086 BB68     		ldr	r3, [r7, #8]
 6435 0088 5B69     		ldr	r3, [r3, #20]
 6436              		.loc 1 1894 6
 6437 008a 002B     		cmp	r3, #0
 6438 008c 18D0     		beq	.L271
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = (uint16_t)((hc->xfer_len + hc->max_packet - 1U) / hc->max_packet);
 6439              		.loc 1 1896 33
 6440 008e BB68     		ldr	r3, [r7, #8]
 6441 0090 5B69     		ldr	r3, [r3, #20]
 6442              		.loc 1 1896 48
 6443 0092 BA68     		ldr	r2, [r7, #8]
 6444 0094 1289     		ldrh	r2, [r2, #8]
 6445              		.loc 1 1896 44
 6446 0096 1344     		add	r3, r3, r2
 6447              		.loc 1 1896 61
 6448 0098 013B     		subs	r3, r3, #1
 6449              		.loc 1 1896 71
 6450 009a BA68     		ldr	r2, [r7, #8]
 6451 009c 1289     		ldrh	r2, [r2, #8]
 6452              		.loc 1 1896 67
 6453 009e B3FBF2F3 		udiv	r3, r3, r2
 6454              		.loc 1 1896 17
 6455 00a2 FB84     		strh	r3, [r7, #38]	@ movhi
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 6456              		.loc 1 1898 8
 6457 00a4 FA8C     		ldrh	r2, [r7, #38]
 6458 00a6 7B8B     		ldrh	r3, [r7, #26]
 6459 00a8 9A42     		cmp	r2, r3
 6460 00aa 0BD9     		bls	.L272
ARM GAS  /tmp/ccSAnDQs.s 			page 147


1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
 6461              		.loc 1 1900 19
 6462 00ac 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 6463 00ae FB84     		strh	r3, [r7, #38]	@ movhi
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 6464              		.loc 1 1901 22
 6465 00b0 FB8C     		ldrh	r3, [r7, #38]
 6466              		.loc 1 1901 48
 6467 00b2 BA68     		ldr	r2, [r7, #8]
 6468 00b4 1289     		ldrh	r2, [r2, #8]
 6469              		.loc 1 1901 44
 6470 00b6 03FB02F2 		mul	r2, r3, r2
 6471              		.loc 1 1901 20
 6472 00ba BB68     		ldr	r3, [r7, #8]
 6473 00bc 1A61     		str	r2, [r3, #16]
 6474 00be 01E0     		b	.L272
 6475              	.L271:
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = 1U;
 6476              		.loc 1 1906 17
 6477 00c0 0123     		movs	r3, #1
 6478 00c2 FB84     		strh	r3, [r7, #38]	@ movhi
 6479              	.L272:
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * For IN channel HCTSIZ.XferSize is expected to be an integer multiple of
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * max_packet size.
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    */
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 6480              		.loc 1 1913 9
 6481 00c4 BB68     		ldr	r3, [r7, #8]
 6482 00c6 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6483              		.loc 1 1913 6
 6484 00c8 002B     		cmp	r3, #0
 6485 00ca 07D0     		beq	.L273
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 6486              		.loc 1 1915 20
 6487 00cc FB8C     		ldrh	r3, [r7, #38]
 6488              		.loc 1 1915 46
 6489 00ce BA68     		ldr	r2, [r7, #8]
 6490 00d0 1289     		ldrh	r2, [r2, #8]
 6491              		.loc 1 1915 42
 6492 00d2 03FB02F2 		mul	r2, r3, r2
 6493              		.loc 1 1915 18
 6494 00d6 BB68     		ldr	r3, [r7, #8]
 6495 00d8 1A61     		str	r2, [r3, #16]
 6496 00da 03E0     		b	.L274
 6497              	.L273:
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/ccSAnDQs.s 			page 148


1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->XferSize = hc->xfer_len;
 6498              		.loc 1 1919 22
 6499 00dc BB68     		ldr	r3, [r7, #8]
 6500 00de 5A69     		ldr	r2, [r3, #20]
 6501              		.loc 1 1919 18
 6502 00e0 BB68     		ldr	r3, [r7, #8]
 6503 00e2 1A61     		str	r2, [r3, #16]
 6504              	.L274:
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = (hc->XferSize & USB_OTG_HCTSIZ_XFRSIZ) |
 6505              		.loc 1 1923 32
 6506 00e4 BB68     		ldr	r3, [r7, #8]
 6507 00e6 1B69     		ldr	r3, [r3, #16]
 6508              		.loc 1 1923 43
 6509 00e8 C3F31202 		ubfx	r2, r3, #0, #19
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6510              		.loc 1 1924 31
 6511 00ec FB8C     		ldrh	r3, [r7, #38]
 6512              		.loc 1 1924 53
 6513 00ee D904     		lsls	r1, r3, #19
 6514              		.loc 1 1924 60
 6515 00f0 634B     		ldr	r3, .L290
 6516 00f2 0B40     		ands	r3, r3, r1
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6517              		.loc 1 1923 68
 6518 00f4 1A43     		orrs	r2, r2, r3
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)hc->data_pid << 29) & USB_OTG_HCTSIZ_DPID);
 6519              		.loc 1 1925 43
 6520 00f6 BB68     		ldr	r3, [r7, #8]
 6521 00f8 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 6522              		.loc 1 1925 54
 6523 00fa 5B07     		lsls	r3, r3, #29
 6524              		.loc 1 1925 61
 6525 00fc 03F0C043 		and	r3, r3, #1610612736
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6526              		.loc 1 1923 3
 6527 0100 F969     		ldr	r1, [r7, #28]
 6528 0102 4801     		lsls	r0, r1, #5
 6529 0104 396A     		ldr	r1, [r7, #32]
 6530 0106 0144     		add	r1, r1, r0
 6531 0108 01F5A061 		add	r1, r1, #1280
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6532              		.loc 1 1924 85
 6533 010c 1343     		orrs	r3, r3, r2
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6534              		.loc 1 1923 27
 6535 010e 0B61     		str	r3, [r1, #16]
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma != 0U)
 6536              		.loc 1 1927 6
 6537 0110 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6538 0112 002B     		cmp	r3, #0
 6539 0114 09D0     		beq	.L275
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* xfer_buff MUST be 32-bits aligned */
ARM GAS  /tmp/ccSAnDQs.s 			page 149


1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCDMA = (uint32_t)hc->xfer_buff;
 6540              		.loc 1 1930 42
 6541 0116 BB68     		ldr	r3, [r7, #8]
 6542 0118 D968     		ldr	r1, [r3, #12]
 6543              		.loc 1 1930 5
 6544 011a FB69     		ldr	r3, [r7, #28]
 6545 011c 5A01     		lsls	r2, r3, #5
 6546 011e 3B6A     		ldr	r3, [r7, #32]
 6547 0120 1344     		add	r3, r3, r2
 6548 0122 03F5A063 		add	r3, r3, #1280
 6549              		.loc 1 1930 30
 6550 0126 0A46     		mov	r2, r1
 6551              		.loc 1 1930 28
 6552 0128 5A61     		str	r2, [r3, #20]
 6553              	.L275:
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   is_oddframe = (((uint32_t)USBx_HOST->HFNUM & 0x01U) != 0U) ? 0U : 1U;
 6554              		.loc 1 1933 29
 6555 012a 3B6A     		ldr	r3, [r7, #32]
 6556 012c 03F58063 		add	r3, r3, #1024
 6557              		.loc 1 1933 38
 6558 0130 9B68     		ldr	r3, [r3, #8]
 6559              		.loc 1 1933 46
 6560 0132 03F00103 		and	r3, r3, #1
 6561              		.loc 1 1933 67
 6562 0136 002B     		cmp	r3, #0
 6563 0138 0CBF     		ite	eq
 6564 013a 0123     		moveq	r3, #1
 6565 013c 0023     		movne	r3, #0
 6566 013e DBB2     		uxtb	r3, r3
 6567              		.loc 1 1933 15
 6568 0140 7B76     		strb	r3, [r7, #25]
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 6569              		.loc 1 1934 18
 6570 0142 FB69     		ldr	r3, [r7, #28]
 6571 0144 5A01     		lsls	r2, r3, #5
 6572 0146 3B6A     		ldr	r3, [r7, #32]
 6573 0148 1344     		add	r3, r3, r2
 6574 014a 03F5A063 		add	r3, r3, #1280
 6575 014e 1B68     		ldr	r3, [r3]
 6576 0150 FA69     		ldr	r2, [r7, #28]
 6577 0152 5101     		lsls	r1, r2, #5
 6578 0154 3A6A     		ldr	r2, [r7, #32]
 6579 0156 0A44     		add	r2, r2, r1
 6580 0158 02F5A062 		add	r2, r2, #1280
 6581              		.loc 1 1934 27
 6582 015c 23F00053 		bic	r3, r3, #536870912
 6583 0160 1360     		str	r3, [r2]
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR |= (uint32_t)is_oddframe << 29;
 6584              		.loc 1 1935 18
 6585 0162 FB69     		ldr	r3, [r7, #28]
 6586 0164 5A01     		lsls	r2, r3, #5
 6587 0166 3B6A     		ldr	r3, [r7, #32]
 6588 0168 1344     		add	r3, r3, r2
 6589 016a 03F5A063 		add	r3, r3, #1280
 6590 016e 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccSAnDQs.s 			page 150


 6591              		.loc 1 1935 30
 6592 0170 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 6593              		.loc 1 1935 52
 6594 0172 5B07     		lsls	r3, r3, #29
 6595              		.loc 1 1935 18
 6596 0174 F969     		ldr	r1, [r7, #28]
 6597 0176 4801     		lsls	r0, r1, #5
 6598 0178 396A     		ldr	r1, [r7, #32]
 6599 017a 0144     		add	r1, r1, r0
 6600 017c 01F5A061 		add	r1, r1, #1280
 6601              		.loc 1 1935 27
 6602 0180 1343     		orrs	r3, r3, r2
 6603 0182 0B60     		str	r3, [r1]
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 6604              		.loc 1 1938 12
 6605 0184 FB69     		ldr	r3, [r7, #28]
 6606 0186 5A01     		lsls	r2, r3, #5
 6607 0188 3B6A     		ldr	r3, [r7, #32]
 6608 018a 1344     		add	r3, r3, r2
 6609 018c 03F5A063 		add	r3, r3, #1280
 6610              		.loc 1 1938 27
 6611 0190 1B68     		ldr	r3, [r3]
 6612              		.loc 1 1938 10
 6613 0192 3B61     		str	r3, [r7, #16]
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 6614              		.loc 1 1939 10
 6615 0194 3B69     		ldr	r3, [r7, #16]
 6616 0196 23F08043 		bic	r3, r3, #1073741824
 6617 019a 3B61     		str	r3, [r7, #16]
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* make sure to set the correct ep direction */
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 6618              		.loc 1 1942 9
 6619 019c BB68     		ldr	r3, [r7, #8]
 6620 019e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6621              		.loc 1 1942 6
 6622 01a0 002B     		cmp	r3, #0
 6623 01a2 04D0     		beq	.L276
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_EPDIR;
 6624              		.loc 1 1944 12
 6625 01a4 3B69     		ldr	r3, [r7, #16]
 6626 01a6 43F40043 		orr	r3, r3, #32768
 6627 01aa 3B61     		str	r3, [r7, #16]
 6628 01ac 03E0     		b	.L277
 6629              	.L276:
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg &= ~USB_OTG_HCCHAR_EPDIR;
 6630              		.loc 1 1948 12
 6631 01ae 3B69     		ldr	r3, [r7, #16]
 6632 01b0 23F40043 		bic	r3, r3, #32768
 6633 01b4 3B61     		str	r3, [r7, #16]
 6634              	.L277:
ARM GAS  /tmp/ccSAnDQs.s 			page 151


1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 6635              		.loc 1 1950 10
 6636 01b6 3B69     		ldr	r3, [r7, #16]
 6637 01b8 43F00043 		orr	r3, r3, #-2147483648
 6638 01bc 3B61     		str	r3, [r7, #16]
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 6639              		.loc 1 1951 3
 6640 01be FB69     		ldr	r3, [r7, #28]
 6641 01c0 5A01     		lsls	r2, r3, #5
 6642 01c2 3B6A     		ldr	r3, [r7, #32]
 6643 01c4 1344     		add	r3, r3, r2
 6644 01c6 03F5A063 		add	r3, r3, #1280
 6645 01ca 1A46     		mov	r2, r3
 6646              		.loc 1 1951 27
 6647 01cc 3B69     		ldr	r3, [r7, #16]
 6648 01ce 1360     		str	r3, [r2]
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma != 0U) /* dma mode */
 6649              		.loc 1 1953 6
 6650 01d0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6651 01d2 002B     		cmp	r3, #0
 6652 01d4 01D0     		beq	.L278
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_OK;
 6653              		.loc 1 1955 12
 6654 01d6 0023     		movs	r3, #0
 6655 01d8 4EE0     		b	.L270
 6656              	.L278:
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 6657              		.loc 1 1958 10
 6658 01da BB68     		ldr	r3, [r7, #8]
 6659 01dc DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6660              		.loc 1 1958 6
 6661 01de 002B     		cmp	r3, #0
 6662 01e0 49D1     		bne	.L279
 6663              		.loc 1 1958 34 discriminator 1
 6664 01e2 BB68     		ldr	r3, [r7, #8]
 6665 01e4 5B69     		ldr	r3, [r3, #20]
 6666              		.loc 1 1958 28 discriminator 1
 6667 01e6 002B     		cmp	r3, #0
 6668 01e8 45D0     		beq	.L279
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     switch (hc->ep_type)
 6669              		.loc 1 1960 15
 6670 01ea BB68     		ldr	r3, [r7, #8]
 6671 01ec DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6672              		.loc 1 1960 5
 6673 01ee 032B     		cmp	r3, #3
 6674 01f0 30D8     		bhi	.L287
 6675 01f2 01A2     		adr	r2, .L282
 6676 01f4 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 6677              		.p2align 2
 6678              	.L282:
 6679 01f8 09020000 		.word	.L283+1
ARM GAS  /tmp/ccSAnDQs.s 			page 152


 6680 01fc 2D020000 		.word	.L281+1
 6681 0200 09020000 		.word	.L283+1
 6682 0204 2D020000 		.word	.L281+1
 6683              		.p2align 1
 6684              	.L283:
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Non periodic transfer */
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_CTRL:
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_BULK:
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 6685              		.loc 1 1966 35
 6686 0208 BB68     		ldr	r3, [r7, #8]
 6687 020a 5B69     		ldr	r3, [r3, #20]
 6688              		.loc 1 1966 46
 6689 020c 0333     		adds	r3, r3, #3
 6690              		.loc 1 1966 52
 6691 020e 9B08     		lsrs	r3, r3, #2
 6692              		.loc 1 1966 19
 6693 0210 FB82     		strh	r3, [r7, #22]	@ movhi
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (len_words > (USBx->HNPTXSTS & 0xFFFFU))
 6694              		.loc 1 1969 23
 6695 0212 FA8A     		ldrh	r2, [r7, #22]
 6696              		.loc 1 1969 30
 6697 0214 FB68     		ldr	r3, [r7, #12]
 6698 0216 DB6A     		ldr	r3, [r3, #44]
 6699              		.loc 1 1969 41
 6700 0218 9BB2     		uxth	r3, r3
 6701              		.loc 1 1969 12
 6702 021a 9A42     		cmp	r2, r3
 6703 021c 1CD9     		bls	.L288
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in nptxfempty interrupt */
1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 6704              		.loc 1 1972 15
 6705 021e FB68     		ldr	r3, [r7, #12]
 6706 0220 9B69     		ldr	r3, [r3, #24]
 6707              		.loc 1 1972 25
 6708 0222 43F02002 		orr	r2, r3, #32
 6709 0226 FB68     		ldr	r3, [r7, #12]
 6710 0228 9A61     		str	r2, [r3, #24]
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 6711              		.loc 1 1974 9
 6712 022a 15E0     		b	.L288
 6713              	.L281:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Periodic transfer */
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_INTR:
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_ISOC:
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 6714              		.loc 1 1979 35
 6715 022c BB68     		ldr	r3, [r7, #8]
 6716 022e 5B69     		ldr	r3, [r3, #20]
 6717              		.loc 1 1979 46
ARM GAS  /tmp/ccSAnDQs.s 			page 153


 6718 0230 0333     		adds	r3, r3, #3
 6719              		.loc 1 1979 52
 6720 0232 9B08     		lsrs	r3, r3, #2
 6721              		.loc 1 1979 19
 6722 0234 FB82     		strh	r3, [r7, #22]	@ movhi
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
 6723              		.loc 1 1981 23
 6724 0236 FA8A     		ldrh	r2, [r7, #22]
 6725              		.loc 1 1981 26
 6726 0238 3B6A     		ldr	r3, [r7, #32]
 6727 023a 03F58063 		add	r3, r3, #1024
 6728              		.loc 1 1981 35
 6729 023e 1B69     		ldr	r3, [r3, #16]
 6730              		.loc 1 1981 45
 6731 0240 9BB2     		uxth	r3, r3
 6732              		.loc 1 1981 12
 6733 0242 9A42     		cmp	r2, r3
 6734 0244 0AD9     		bls	.L289
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in ptxfempty interrupt */
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;
 6735              		.loc 1 1984 15
 6736 0246 FB68     		ldr	r3, [r7, #12]
 6737 0248 9B69     		ldr	r3, [r3, #24]
 6738              		.loc 1 1984 25
 6739 024a 43F08062 		orr	r2, r3, #67108864
 6740 024e FB68     		ldr	r3, [r7, #12]
 6741 0250 9A61     		str	r2, [r3, #24]
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 6742              		.loc 1 1986 9
 6743 0252 03E0     		b	.L289
 6744              	.L287:
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       default:
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 6745              		.loc 1 1989 9
 6746 0254 00BF     		nop
 6747 0256 02E0     		b	.L285
 6748              	.L288:
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6749              		.loc 1 1974 9
 6750 0258 00BF     		nop
 6751 025a 00E0     		b	.L285
 6752              	.L289:
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6753              		.loc 1 1986 9
 6754 025c 00BF     		nop
 6755              	.L285:
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Write packet into the Tx FIFO. */
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     (void)USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, (uint16_t)hc->xfer_len, 0);
 6756              		.loc 1 1993 11
 6757 025e BB68     		ldr	r3, [r7, #8]
 6758 0260 D968     		ldr	r1, [r3, #12]
ARM GAS  /tmp/ccSAnDQs.s 			page 154


 6759 0262 BB68     		ldr	r3, [r7, #8]
 6760 0264 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6761              		.loc 1 1993 72
 6762 0266 BB68     		ldr	r3, [r7, #8]
 6763 0268 5B69     		ldr	r3, [r3, #20]
 6764              		.loc 1 1993 11
 6765 026a 9BB2     		uxth	r3, r3
 6766 026c 0020     		movs	r0, #0
 6767 026e 0090     		str	r0, [sp]
 6768 0270 F868     		ldr	r0, [r7, #12]
 6769 0272 FFF7FEFF 		bl	USB_WritePacket
 6770              	.L279:
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6771              		.loc 1 1996 10
 6772 0276 0023     		movs	r3, #0
 6773              	.L270:
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6774              		.loc 1 1997 1
 6775 0278 1846     		mov	r0, r3
 6776 027a 2837     		adds	r7, r7, #40
 6777              	.LCFI256:
 6778              		.cfi_def_cfa_offset 8
 6779 027c BD46     		mov	sp, r7
 6780              	.LCFI257:
 6781              		.cfi_def_cfa_register 13
 6782              		@ sp needed
 6783 027e 80BD     		pop	{r7, pc}
 6784              	.L291:
 6785              		.align	2
 6786              	.L290:
 6787 0280 0000F81F 		.word	536346624
 6788              		.cfi_endproc
 6789              	.LFE258:
 6791              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 6792              		.align	1
 6793              		.global	USB_HC_ReadInterrupt
 6794              		.syntax unified
 6795              		.thumb
 6796              		.thumb_func
 6798              	USB_HC_ReadInterrupt:
 6799              	.LFB259:
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt(USB_OTG_GlobalTypeDef *USBx)
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6800              		.loc 1 2005 1
 6801              		.cfi_startproc
 6802              		@ args = 0, pretend = 0, frame = 16
 6803              		@ frame_needed = 1, uses_anonymous_args = 0
 6804              		@ link register save eliminated.
 6805 0000 80B4     		push	{r7}
ARM GAS  /tmp/ccSAnDQs.s 			page 155


 6806              	.LCFI258:
 6807              		.cfi_def_cfa_offset 4
 6808              		.cfi_offset 7, -4
 6809 0002 85B0     		sub	sp, sp, #20
 6810              	.LCFI259:
 6811              		.cfi_def_cfa_offset 24
 6812 0004 00AF     		add	r7, sp, #0
 6813              	.LCFI260:
 6814              		.cfi_def_cfa_register 7
 6815 0006 7860     		str	r0, [r7, #4]
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6816              		.loc 1 2006 12
 6817 0008 7B68     		ldr	r3, [r7, #4]
 6818 000a FB60     		str	r3, [r7, #12]
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 6819              		.loc 1 2008 12
 6820 000c FB68     		ldr	r3, [r7, #12]
 6821 000e 03F58063 		add	r3, r3, #1024
 6822              		.loc 1 2008 21
 6823 0012 5B69     		ldr	r3, [r3, #20]
 6824              		.loc 1 2008 30
 6825 0014 9BB2     		uxth	r3, r3
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6826              		.loc 1 2009 1
 6827 0016 1846     		mov	r0, r3
 6828 0018 1437     		adds	r7, r7, #20
 6829              	.LCFI261:
 6830              		.cfi_def_cfa_offset 4
 6831 001a BD46     		mov	sp, r7
 6832              	.LCFI262:
 6833              		.cfi_def_cfa_register 13
 6834              		@ sp needed
 6835 001c 5DF8047B 		ldr	r7, [sp], #4
 6836              	.LCFI263:
 6837              		.cfi_restore 7
 6838              		.cfi_def_cfa_offset 0
 6839 0020 7047     		bx	lr
 6840              		.cfi_endproc
 6841              	.LFE259:
 6843              		.section	.text.USB_HC_Halt,"ax",%progbits
 6844              		.align	1
 6845              		.global	USB_HC_Halt
 6846              		.syntax unified
 6847              		.thumb
 6848              		.thumb_func
 6850              	USB_HC_Halt:
 6851              	.LFB260:
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Halt a host channel
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx, uint8_t hc_num)
ARM GAS  /tmp/ccSAnDQs.s 			page 156


2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6852              		.loc 1 2019 1
 6853              		.cfi_startproc
 6854              		@ args = 0, pretend = 0, frame = 32
 6855              		@ frame_needed = 1, uses_anonymous_args = 0
 6856              		@ link register save eliminated.
 6857 0000 80B4     		push	{r7}
 6858              	.LCFI264:
 6859              		.cfi_def_cfa_offset 4
 6860              		.cfi_offset 7, -4
 6861 0002 89B0     		sub	sp, sp, #36
 6862              	.LCFI265:
 6863              		.cfi_def_cfa_offset 40
 6864 0004 00AF     		add	r7, sp, #0
 6865              	.LCFI266:
 6866              		.cfi_def_cfa_register 7
 6867 0006 7860     		str	r0, [r7, #4]
 6868 0008 0B46     		mov	r3, r1
 6869 000a FB70     		strb	r3, [r7, #3]
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6870              		.loc 1 2020 12
 6871 000c 7B68     		ldr	r3, [r7, #4]
 6872 000e FB61     		str	r3, [r7, #28]
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t hcnum = (uint32_t)hc_num;
 6873              		.loc 1 2021 12
 6874 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6875 0012 BB61     		str	r3, [r7, #24]
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 6876              		.loc 1 2022 17
 6877 0014 0023     		movs	r3, #0
 6878 0016 FB60     		str	r3, [r7, #12]
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HcEpType = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_EPTYP) >> 18;
 6879              		.loc 1 2023 24
 6880 0018 BB69     		ldr	r3, [r7, #24]
 6881 001a 5A01     		lsls	r2, r3, #5
 6882 001c FB69     		ldr	r3, [r7, #28]
 6883 001e 1344     		add	r3, r3, r2
 6884 0020 03F5A063 		add	r3, r3, #1280
 6885              		.loc 1 2023 38
 6886 0024 1B68     		ldr	r3, [r3]
 6887              		.loc 1 2023 71
 6888 0026 9B0C     		lsrs	r3, r3, #18
 6889              		.loc 1 2023 12
 6890 0028 03F00303 		and	r3, r3, #3
 6891 002c 7B61     		str	r3, [r7, #20]
2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ChannelEna = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) >> 31;
 6892              		.loc 1 2024 26
 6893 002e BB69     		ldr	r3, [r7, #24]
 6894 0030 5A01     		lsls	r2, r3, #5
 6895 0032 FB69     		ldr	r3, [r7, #28]
 6896 0034 1344     		add	r3, r3, r2
 6897 0036 03F5A063 		add	r3, r3, #1280
 6898              		.loc 1 2024 40
 6899 003a 1B68     		ldr	r3, [r3]
 6900              		.loc 1 2024 73
 6901 003c DB0F     		lsrs	r3, r3, #31
 6902              		.loc 1 2024 12
ARM GAS  /tmp/ccSAnDQs.s 			page 157


 6903 003e 03F00103 		and	r3, r3, #1
 6904 0042 3B61     		str	r3, [r7, #16]
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == USB_OTG_GAHBCFG_DMAEN) &&
 6905              		.loc 1 2026 13
 6906 0044 7B68     		ldr	r3, [r7, #4]
 6907 0046 9B68     		ldr	r3, [r3, #8]
 6908              		.loc 1 2026 23
 6909 0048 03F02003 		and	r3, r3, #32
 6910              		.loc 1 2026 6
 6911 004c 202B     		cmp	r3, #32
 6912 004e 04D1     		bne	.L295
 6913              		.loc 1 2026 74 discriminator 1
 6914 0050 3B69     		ldr	r3, [r7, #16]
 6915 0052 002B     		cmp	r3, #0
 6916 0054 01D1     		bne	.L295
2027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (ChannelEna == 0U))
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_OK;
 6917              		.loc 1 2029 12
 6918 0056 0023     		movs	r3, #0
 6919 0058 C8E0     		b	.L296
 6920              	.L295:
2030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((HcEpType == HCCHAR_CTRL) || (HcEpType == HCCHAR_BULK))
 6921              		.loc 1 2033 6
 6922 005a 7B69     		ldr	r3, [r7, #20]
 6923 005c 002B     		cmp	r3, #0
 6924 005e 02D0     		beq	.L297
 6925              		.loc 1 2033 33 discriminator 1
 6926 0060 7B69     		ldr	r3, [r7, #20]
 6927 0062 022B     		cmp	r3, #2
 6928 0064 63D1     		bne	.L298
 6929              	.L297:
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6930              		.loc 1 2035 19
 6931 0066 BB69     		ldr	r3, [r7, #24]
 6932 0068 5A01     		lsls	r2, r3, #5
 6933 006a FB69     		ldr	r3, [r7, #28]
 6934 006c 1344     		add	r3, r3, r2
 6935 006e 03F5A063 		add	r3, r3, #1280
 6936 0072 1B68     		ldr	r3, [r3]
 6937 0074 BA69     		ldr	r2, [r7, #24]
 6938 0076 5101     		lsls	r1, r2, #5
 6939 0078 FA69     		ldr	r2, [r7, #28]
 6940 007a 0A44     		add	r2, r2, r1
 6941 007c 02F5A062 		add	r2, r2, #1280
 6942              		.loc 1 2035 28
 6943 0080 43F08043 		orr	r3, r3, #1073741824
 6944 0084 1360     		str	r3, [r2]
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == 0U)
 6945              		.loc 1 2037 14
 6946 0086 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccSAnDQs.s 			page 158


 6947 0088 9B68     		ldr	r3, [r3, #8]
 6948              		.loc 1 2037 24
 6949 008a 03F02003 		and	r3, r3, #32
 6950              		.loc 1 2037 8
 6951 008e 002B     		cmp	r3, #0
 6952 0090 40F0AB80 		bne	.L304
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx->HNPTXSTS & (0xFFU << 16)) == 0U)
 6953              		.loc 1 2039 16
 6954 0094 7B68     		ldr	r3, [r7, #4]
 6955 0096 DB6A     		ldr	r3, [r3, #44]
 6956              		.loc 1 2039 27
 6957 0098 03F47F03 		and	r3, r3, #16711680
 6958              		.loc 1 2039 10
 6959 009c 002B     		cmp	r3, #0
 6960 009e 33D1     		bne	.L300
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6961              		.loc 1 2041 23
 6962 00a0 BB69     		ldr	r3, [r7, #24]
 6963 00a2 5A01     		lsls	r2, r3, #5
 6964 00a4 FB69     		ldr	r3, [r7, #28]
 6965 00a6 1344     		add	r3, r3, r2
 6966 00a8 03F5A063 		add	r3, r3, #1280
 6967 00ac 1B68     		ldr	r3, [r3]
 6968 00ae BA69     		ldr	r2, [r7, #24]
 6969 00b0 5101     		lsls	r1, r2, #5
 6970 00b2 FA69     		ldr	r2, [r7, #28]
 6971 00b4 0A44     		add	r2, r2, r1
 6972 00b6 02F5A062 		add	r2, r2, #1280
 6973              		.loc 1 2041 32
 6974 00ba 23F00043 		bic	r3, r3, #-2147483648
 6975 00be 1360     		str	r3, [r2]
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6976              		.loc 1 2042 23
 6977 00c0 BB69     		ldr	r3, [r7, #24]
 6978 00c2 5A01     		lsls	r2, r3, #5
 6979 00c4 FB69     		ldr	r3, [r7, #28]
 6980 00c6 1344     		add	r3, r3, r2
 6981 00c8 03F5A063 		add	r3, r3, #1280
 6982 00cc 1B68     		ldr	r3, [r3]
 6983 00ce BA69     		ldr	r2, [r7, #24]
 6984 00d0 5101     		lsls	r1, r2, #5
 6985 00d2 FA69     		ldr	r2, [r7, #28]
 6986 00d4 0A44     		add	r2, r2, r1
 6987 00d6 02F5A062 		add	r2, r2, #1280
 6988              		.loc 1 2042 32
 6989 00da 43F00043 		orr	r3, r3, #-2147483648
 6990 00de 1360     		str	r3, [r2]
 6991              	.L303:
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         do
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           count++;
 6992              		.loc 1 2045 16
 6993 00e0 FB68     		ldr	r3, [r7, #12]
 6994 00e2 0133     		adds	r3, r3, #1
 6995 00e4 FB60     		str	r3, [r7, #12]
ARM GAS  /tmp/ccSAnDQs.s 			page 159


2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           if (count > 1000U)
 6996              		.loc 1 2047 21
 6997 00e6 FB68     		ldr	r3, [r7, #12]
 6998              		.loc 1 2047 14
 6999 00e8 B3F57A7F 		cmp	r3, #1000
 7000 00ec 1DD8     		bhi	.L310
2048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           {
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             break;
2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 7001              		.loc 1 2051 19
 7002 00ee BB69     		ldr	r3, [r7, #24]
 7003 00f0 5A01     		lsls	r2, r3, #5
 7004 00f2 FB69     		ldr	r3, [r7, #28]
 7005 00f4 1344     		add	r3, r3, r2
 7006 00f6 03F5A063 		add	r3, r3, #1280
 7007              		.loc 1 2051 33
 7008 00fa 1B68     		ldr	r3, [r3]
 7009              		.loc 1 2051 42
 7010 00fc 03F00043 		and	r3, r3, #-2147483648
 7011              		.loc 1 2051 66
 7012 0100 B3F1004F 		cmp	r3, #-2147483648
 7013 0104 ECD0     		beq	.L303
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 7014              		.loc 1 2037 8
 7015 0106 70E0     		b	.L304
 7016              	.L300:
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 7017              		.loc 1 2055 23
 7018 0108 BB69     		ldr	r3, [r7, #24]
 7019 010a 5A01     		lsls	r2, r3, #5
 7020 010c FB69     		ldr	r3, [r7, #28]
 7021 010e 1344     		add	r3, r3, r2
 7022 0110 03F5A063 		add	r3, r3, #1280
 7023 0114 1B68     		ldr	r3, [r3]
 7024 0116 BA69     		ldr	r2, [r7, #24]
 7025 0118 5101     		lsls	r1, r2, #5
 7026 011a FA69     		ldr	r2, [r7, #28]
 7027 011c 0A44     		add	r2, r2, r1
 7028 011e 02F5A062 		add	r2, r2, #1280
 7029              		.loc 1 2055 32
 7030 0122 43F00043 		orr	r3, r3, #-2147483648
 7031 0126 1360     		str	r3, [r2]
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 7032              		.loc 1 2037 8
 7033 0128 5FE0     		b	.L304
 7034              	.L310:
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
 7035              		.loc 1 2049 13
 7036 012a 00BF     		nop
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 7037              		.loc 1 2037 8
 7038 012c 5DE0     		b	.L304
ARM GAS  /tmp/ccSAnDQs.s 			page 160


 7039              	.L298:
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 7040              		.loc 1 2061 19
 7041 012e BB69     		ldr	r3, [r7, #24]
 7042 0130 5A01     		lsls	r2, r3, #5
 7043 0132 FB69     		ldr	r3, [r7, #28]
 7044 0134 1344     		add	r3, r3, r2
 7045 0136 03F5A063 		add	r3, r3, #1280
 7046 013a 1B68     		ldr	r3, [r3]
 7047 013c BA69     		ldr	r2, [r7, #24]
 7048 013e 5101     		lsls	r1, r2, #5
 7049 0140 FA69     		ldr	r2, [r7, #28]
 7050 0142 0A44     		add	r2, r2, r1
 7051 0144 02F5A062 		add	r2, r2, #1280
 7052              		.loc 1 2061 28
 7053 0148 43F08043 		orr	r3, r3, #1073741824
 7054 014c 1360     		str	r3, [r2]
2062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & (0xFFU << 16)) == 0U)
 7055              		.loc 1 2063 10
 7056 014e FB69     		ldr	r3, [r7, #28]
 7057 0150 03F58063 		add	r3, r3, #1024
 7058              		.loc 1 2063 19
 7059 0154 1B69     		ldr	r3, [r3, #16]
 7060              		.loc 1 2063 29
 7061 0156 03F47F03 		and	r3, r3, #16711680
 7062              		.loc 1 2063 8
 7063 015a 002B     		cmp	r3, #0
 7064 015c 33D1     		bne	.L305
2064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 7065              		.loc 1 2065 21
 7066 015e BB69     		ldr	r3, [r7, #24]
 7067 0160 5A01     		lsls	r2, r3, #5
 7068 0162 FB69     		ldr	r3, [r7, #28]
 7069 0164 1344     		add	r3, r3, r2
 7070 0166 03F5A063 		add	r3, r3, #1280
 7071 016a 1B68     		ldr	r3, [r3]
 7072 016c BA69     		ldr	r2, [r7, #24]
 7073 016e 5101     		lsls	r1, r2, #5
 7074 0170 FA69     		ldr	r2, [r7, #28]
 7075 0172 0A44     		add	r2, r2, r1
 7076 0174 02F5A062 		add	r2, r2, #1280
 7077              		.loc 1 2065 30
 7078 0178 23F00043 		bic	r3, r3, #-2147483648
 7079 017c 1360     		str	r3, [r2]
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 7080              		.loc 1 2066 21
 7081 017e BB69     		ldr	r3, [r7, #24]
 7082 0180 5A01     		lsls	r2, r3, #5
 7083 0182 FB69     		ldr	r3, [r7, #28]
 7084 0184 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccSAnDQs.s 			page 161


 7085 0186 03F5A063 		add	r3, r3, #1280
 7086 018a 1B68     		ldr	r3, [r3]
 7087 018c BA69     		ldr	r2, [r7, #24]
 7088 018e 5101     		lsls	r1, r2, #5
 7089 0190 FA69     		ldr	r2, [r7, #28]
 7090 0192 0A44     		add	r2, r2, r1
 7091 0194 02F5A062 		add	r2, r2, #1280
 7092              		.loc 1 2066 30
 7093 0198 43F00043 		orr	r3, r3, #-2147483648
 7094 019c 1360     		str	r3, [r2]
 7095              	.L308:
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         count++;
 7096              		.loc 1 2069 14
 7097 019e FB68     		ldr	r3, [r7, #12]
 7098 01a0 0133     		adds	r3, r3, #1
 7099 01a2 FB60     		str	r3, [r7, #12]
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (count > 1000U)
 7100              		.loc 1 2071 19
 7101 01a4 FB68     		ldr	r3, [r7, #12]
 7102              		.loc 1 2071 12
 7103 01a6 B3F57A7F 		cmp	r3, #1000
 7104 01aa 1DD8     		bhi	.L311
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 7105              		.loc 1 2075 17
 7106 01ac BB69     		ldr	r3, [r7, #24]
 7107 01ae 5A01     		lsls	r2, r3, #5
 7108 01b0 FB69     		ldr	r3, [r7, #28]
 7109 01b2 1344     		add	r3, r3, r2
 7110 01b4 03F5A063 		add	r3, r3, #1280
 7111              		.loc 1 2075 31
 7112 01b8 1B68     		ldr	r3, [r3]
 7113              		.loc 1 2075 40
 7114 01ba 03F00043 		and	r3, r3, #-2147483648
 7115              		.loc 1 2075 64
 7116 01be B3F1004F 		cmp	r3, #-2147483648
 7117 01c2 ECD0     		beq	.L308
 7118 01c4 11E0     		b	.L304
 7119              	.L305:
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
2078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 7120              		.loc 1 2079 21
 7121 01c6 BB69     		ldr	r3, [r7, #24]
 7122 01c8 5A01     		lsls	r2, r3, #5
 7123 01ca FB69     		ldr	r3, [r7, #28]
 7124 01cc 1344     		add	r3, r3, r2
 7125 01ce 03F5A063 		add	r3, r3, #1280
 7126 01d2 1B68     		ldr	r3, [r3]
 7127 01d4 BA69     		ldr	r2, [r7, #24]
 7128 01d6 5101     		lsls	r1, r2, #5
ARM GAS  /tmp/ccSAnDQs.s 			page 162


 7129 01d8 FA69     		ldr	r2, [r7, #28]
 7130 01da 0A44     		add	r2, r2, r1
 7131 01dc 02F5A062 		add	r2, r2, #1280
 7132              		.loc 1 2079 30
 7133 01e0 43F00043 		orr	r3, r3, #-2147483648
 7134 01e4 1360     		str	r3, [r2]
 7135 01e6 00E0     		b	.L304
 7136              	.L311:
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 7137              		.loc 1 2073 11
 7138 01e8 00BF     		nop
 7139              	.L304:
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 7140              		.loc 1 2083 10
 7141 01ea 0023     		movs	r3, #0
 7142              	.L296:
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7143              		.loc 1 2084 1
 7144 01ec 1846     		mov	r0, r3
 7145 01ee 2437     		adds	r7, r7, #36
 7146              	.LCFI267:
 7147              		.cfi_def_cfa_offset 4
 7148 01f0 BD46     		mov	sp, r7
 7149              	.LCFI268:
 7150              		.cfi_def_cfa_register 13
 7151              		@ sp needed
 7152 01f2 5DF8047B 		ldr	r7, [sp], #4
 7153              	.LCFI269:
 7154              		.cfi_restore 7
 7155              		.cfi_def_cfa_offset 0
 7156 01f6 7047     		bx	lr
 7157              		.cfi_endproc
 7158              	.LFE260:
 7160              		.section	.text.USB_DoPing,"ax",%progbits
 7161              		.align	1
 7162              		.global	USB_DoPing
 7163              		.syntax unified
 7164              		.thumb
 7165              		.thumb_func
 7167              	USB_DoPing:
 7168              	.LFB261:
2085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
2091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num)
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7169              		.loc 1 2094 1
 7170              		.cfi_startproc
 7171              		@ args = 0, pretend = 0, frame = 24
ARM GAS  /tmp/ccSAnDQs.s 			page 163


 7172              		@ frame_needed = 1, uses_anonymous_args = 0
 7173              		@ link register save eliminated.
 7174 0000 80B4     		push	{r7}
 7175              	.LCFI270:
 7176              		.cfi_def_cfa_offset 4
 7177              		.cfi_offset 7, -4
 7178 0002 87B0     		sub	sp, sp, #28
 7179              	.LCFI271:
 7180              		.cfi_def_cfa_offset 32
 7181 0004 00AF     		add	r7, sp, #0
 7182              	.LCFI272:
 7183              		.cfi_def_cfa_register 7
 7184 0006 7860     		str	r0, [r7, #4]
 7185 0008 0B46     		mov	r3, r1
 7186 000a FB70     		strb	r3, [r7, #3]
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7187              		.loc 1 2095 12
 7188 000c 7B68     		ldr	r3, [r7, #4]
 7189 000e 7B61     		str	r3, [r7, #20]
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t chnum = (uint32_t)ch_num;
 7190              		.loc 1 2096 12
 7191 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 7192 0012 3B61     		str	r3, [r7, #16]
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t num_packets = 1U;
 7193              		.loc 1 2097 12
 7194 0014 0123     		movs	r3, #1
 7195 0016 FB60     		str	r3, [r7, #12]
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 7196              		.loc 1 2100 42
 7197 0018 FB68     		ldr	r3, [r7, #12]
 7198 001a DA04     		lsls	r2, r3, #19
 7199              		.loc 1 2100 49
 7200 001c 154B     		ldr	r3, .L314
 7201 001e 1340     		ands	r3, r3, r2
 7202              		.loc 1 2100 3
 7203 0020 3A69     		ldr	r2, [r7, #16]
 7204 0022 5101     		lsls	r1, r2, #5
 7205 0024 7A69     		ldr	r2, [r7, #20]
 7206 0026 0A44     		add	r2, r2, r1
 7207 0028 02F5A062 		add	r2, r2, #1280
 7208              		.loc 1 2100 74
 7209 002c 43F00043 		orr	r3, r3, #-2147483648
 7210              		.loc 1 2100 26
 7211 0030 1361     		str	r3, [r2, #16]
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                            USB_OTG_HCTSIZ_DOPING;
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCCHAR;
 7212              		.loc 1 2104 12
 7213 0032 3B69     		ldr	r3, [r7, #16]
 7214 0034 5A01     		lsls	r2, r3, #5
 7215 0036 7B69     		ldr	r3, [r7, #20]
 7216 0038 1344     		add	r3, r3, r2
 7217 003a 03F5A063 		add	r3, r3, #1280
 7218              		.loc 1 2104 10
ARM GAS  /tmp/ccSAnDQs.s 			page 164


 7219 003e 1B68     		ldr	r3, [r3]
 7220 0040 BB60     		str	r3, [r7, #8]
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 7221              		.loc 1 2105 10
 7222 0042 BB68     		ldr	r3, [r7, #8]
 7223 0044 23F08043 		bic	r3, r3, #1073741824
 7224 0048 BB60     		str	r3, [r7, #8]
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 7225              		.loc 1 2106 10
 7226 004a BB68     		ldr	r3, [r7, #8]
 7227 004c 43F00043 		orr	r3, r3, #-2147483648
 7228 0050 BB60     		str	r3, [r7, #8]
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCCHAR = tmpreg;
 7229              		.loc 1 2107 3
 7230 0052 3B69     		ldr	r3, [r7, #16]
 7231 0054 5A01     		lsls	r2, r3, #5
 7232 0056 7B69     		ldr	r3, [r7, #20]
 7233 0058 1344     		add	r3, r3, r2
 7234 005a 03F5A063 		add	r3, r3, #1280
 7235 005e 1A46     		mov	r2, r3
 7236              		.loc 1 2107 26
 7237 0060 BB68     		ldr	r3, [r7, #8]
 7238 0062 1360     		str	r3, [r2]
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 7239              		.loc 1 2109 10
 7240 0064 0023     		movs	r3, #0
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7241              		.loc 1 2110 1
 7242 0066 1846     		mov	r0, r3
 7243 0068 1C37     		adds	r7, r7, #28
 7244              	.LCFI273:
 7245              		.cfi_def_cfa_offset 4
 7246 006a BD46     		mov	sp, r7
 7247              	.LCFI274:
 7248              		.cfi_def_cfa_register 13
 7249              		@ sp needed
 7250 006c 5DF8047B 		ldr	r7, [sp], #4
 7251              	.LCFI275:
 7252              		.cfi_restore 7
 7253              		.cfi_def_cfa_offset 0
 7254 0070 7047     		bx	lr
 7255              	.L315:
 7256 0072 00BF     		.align	2
 7257              	.L314:
 7258 0074 0000F81F 		.word	536346624
 7259              		.cfi_endproc
 7260              	.LFE261:
 7262              		.section	.text.USB_StopHost,"ax",%progbits
 7263              		.align	1
 7264              		.global	USB_StopHost
 7265              		.syntax unified
 7266              		.thumb
 7267              		.thumb_func
 7269              	USB_StopHost:
 7270              	.LFB262:
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccSAnDQs.s 			page 165


2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Stop Host Core
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7271              		.loc 1 2118 1
 7272              		.cfi_startproc
 7273              		@ args = 0, pretend = 0, frame = 32
 7274              		@ frame_needed = 1, uses_anonymous_args = 0
 7275 0000 80B5     		push	{r7, lr}
 7276              	.LCFI276:
 7277              		.cfi_def_cfa_offset 8
 7278              		.cfi_offset 7, -8
 7279              		.cfi_offset 14, -4
 7280 0002 88B0     		sub	sp, sp, #32
 7281              	.LCFI277:
 7282              		.cfi_def_cfa_offset 40
 7283 0004 00AF     		add	r7, sp, #0
 7284              	.LCFI278:
 7285              		.cfi_def_cfa_register 7
 7286 0006 7860     		str	r0, [r7, #4]
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 7287              		.loc 1 2119 21
 7288 0008 0023     		movs	r3, #0
 7289 000a FB77     		strb	r3, [r7, #31]
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7290              		.loc 1 2120 12
 7291 000c 7B68     		ldr	r3, [r7, #4]
 7292 000e 7B61     		str	r3, [r7, #20]
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 7293              		.loc 1 2121 17
 7294 0010 0023     		movs	r3, #0
 7295 0012 FB60     		str	r3, [r7, #12]
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t value;
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_DisableGlobalInt(USBx);
 7296              		.loc 1 2125 9
 7297 0014 7868     		ldr	r0, [r7, #4]
 7298 0016 FFF7FEFF 		bl	USB_DisableGlobalInt
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush USB FIFO */
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 7299              		.loc 1 2128 7
 7300 001a 1021     		movs	r1, #16
 7301 001c 7868     		ldr	r0, [r7, #4]
 7302 001e FFF7FEFF 		bl	USB_FlushTxFifo
 7303 0022 0346     		mov	r3, r0
 7304              		.loc 1 2128 6
 7305 0024 002B     		cmp	r3, #0
 7306 0026 01D0     		beq	.L317
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 7307              		.loc 1 2130 9
 7308 0028 0123     		movs	r3, #1
ARM GAS  /tmp/ccSAnDQs.s 			page 166


 7309 002a FB77     		strb	r3, [r7, #31]
 7310              	.L317:
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 7311              		.loc 1 2133 7
 7312 002c 7868     		ldr	r0, [r7, #4]
 7313 002e FFF7FEFF 		bl	USB_FlushRxFifo
 7314 0032 0346     		mov	r3, r0
 7315              		.loc 1 2133 6
 7316 0034 002B     		cmp	r3, #0
 7317 0036 01D0     		beq	.L318
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 7318              		.loc 1 2135 9
 7319 0038 0123     		movs	r3, #1
 7320 003a FB77     		strb	r3, [r7, #31]
 7321              	.L318:
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 7322              		.loc 1 2139 10
 7323 003c 0023     		movs	r3, #0
 7324 003e BB61     		str	r3, [r7, #24]
 7325              		.loc 1 2139 3
 7326 0040 1FE0     		b	.L319
 7327              	.L320:
2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 7328              		.loc 1 2141 13 discriminator 3
 7329 0042 BB69     		ldr	r3, [r7, #24]
 7330 0044 5A01     		lsls	r2, r3, #5
 7331 0046 7B69     		ldr	r3, [r7, #20]
 7332 0048 1344     		add	r3, r3, r2
 7333 004a 03F5A063 		add	r3, r3, #1280
 7334              		.loc 1 2141 11 discriminator 3
 7335 004e 1B68     		ldr	r3, [r3]
 7336 0050 3B61     		str	r3, [r7, #16]
2142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 7337              		.loc 1 2142 11 discriminator 3
 7338 0052 3B69     		ldr	r3, [r7, #16]
 7339 0054 43F08043 		orr	r3, r3, #1073741824
 7340 0058 3B61     		str	r3, [r7, #16]
2143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
 7341              		.loc 1 2143 11 discriminator 3
 7342 005a 3B69     		ldr	r3, [r7, #16]
 7343 005c 23F00043 		bic	r3, r3, #-2147483648
 7344 0060 3B61     		str	r3, [r7, #16]
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 7345              		.loc 1 2144 11 discriminator 3
 7346 0062 3B69     		ldr	r3, [r7, #16]
 7347 0064 23F40043 		bic	r3, r3, #32768
 7348 0068 3B61     		str	r3, [r7, #16]
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 7349              		.loc 1 2145 5 discriminator 3
 7350 006a BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccSAnDQs.s 			page 167


 7351 006c 5A01     		lsls	r2, r3, #5
 7352 006e 7B69     		ldr	r3, [r7, #20]
 7353 0070 1344     		add	r3, r3, r2
 7354 0072 03F5A063 		add	r3, r3, #1280
 7355 0076 1A46     		mov	r2, r3
 7356              		.loc 1 2145 24 discriminator 3
 7357 0078 3B69     		ldr	r3, [r7, #16]
 7358 007a 1360     		str	r3, [r2]
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7359              		.loc 1 2139 27 discriminator 3
 7360 007c BB69     		ldr	r3, [r7, #24]
 7361 007e 0133     		adds	r3, r3, #1
 7362 0080 BB61     		str	r3, [r7, #24]
 7363              	.L319:
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7364              		.loc 1 2139 18 discriminator 1
 7365 0082 BB69     		ldr	r3, [r7, #24]
 7366 0084 0F2B     		cmp	r3, #15
 7367 0086 DCD9     		bls	.L320
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 7368              		.loc 1 2149 10
 7369 0088 0023     		movs	r3, #0
 7370 008a BB61     		str	r3, [r7, #24]
 7371              		.loc 1 2149 3
 7372 008c 34E0     		b	.L321
 7373              	.L325:
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 7374              		.loc 1 2151 13
 7375 008e BB69     		ldr	r3, [r7, #24]
 7376 0090 5A01     		lsls	r2, r3, #5
 7377 0092 7B69     		ldr	r3, [r7, #20]
 7378 0094 1344     		add	r3, r3, r2
 7379 0096 03F5A063 		add	r3, r3, #1280
 7380              		.loc 1 2151 11
 7381 009a 1B68     		ldr	r3, [r3]
 7382 009c 3B61     		str	r3, [r7, #16]
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 7383              		.loc 1 2152 11
 7384 009e 3B69     		ldr	r3, [r7, #16]
 7385 00a0 43F08043 		orr	r3, r3, #1073741824
 7386 00a4 3B61     		str	r3, [r7, #16]
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
 7387              		.loc 1 2153 11
 7388 00a6 3B69     		ldr	r3, [r7, #16]
 7389 00a8 43F00043 		orr	r3, r3, #-2147483648
 7390 00ac 3B61     		str	r3, [r7, #16]
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 7391              		.loc 1 2154 11
 7392 00ae 3B69     		ldr	r3, [r7, #16]
 7393 00b0 23F40043 		bic	r3, r3, #32768
 7394 00b4 3B61     		str	r3, [r7, #16]
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 7395              		.loc 1 2155 5
ARM GAS  /tmp/ccSAnDQs.s 			page 168


 7396 00b6 BB69     		ldr	r3, [r7, #24]
 7397 00b8 5A01     		lsls	r2, r3, #5
 7398 00ba 7B69     		ldr	r3, [r7, #20]
 7399 00bc 1344     		add	r3, r3, r2
 7400 00be 03F5A063 		add	r3, r3, #1280
 7401 00c2 1A46     		mov	r2, r3
 7402              		.loc 1 2155 24
 7403 00c4 3B69     		ldr	r3, [r7, #16]
 7404 00c6 1360     		str	r3, [r2]
 7405              	.L324:
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       count++;
 7406              		.loc 1 2159 12
 7407 00c8 FB68     		ldr	r3, [r7, #12]
 7408 00ca 0133     		adds	r3, r3, #1
 7409 00cc FB60     		str	r3, [r7, #12]
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (count > 1000U)
 7410              		.loc 1 2161 17
 7411 00ce FB68     		ldr	r3, [r7, #12]
 7412              		.loc 1 2161 10
 7413 00d0 B3F57A7F 		cmp	r3, #1000
 7414 00d4 0CD8     		bhi	.L327
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 7415              		.loc 1 2165 15
 7416 00d6 BB69     		ldr	r3, [r7, #24]
 7417 00d8 5A01     		lsls	r2, r3, #5
 7418 00da 7B69     		ldr	r3, [r7, #20]
 7419 00dc 1344     		add	r3, r3, r2
 7420 00de 03F5A063 		add	r3, r3, #1280
 7421              		.loc 1 2165 25
 7422 00e2 1B68     		ldr	r3, [r3]
 7423              		.loc 1 2165 34
 7424 00e4 03F00043 		and	r3, r3, #-2147483648
 7425              		.loc 1 2165 58
 7426 00e8 B3F1004F 		cmp	r3, #-2147483648
 7427 00ec ECD0     		beq	.L324
 7428 00ee 00E0     		b	.L323
 7429              	.L327:
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 7430              		.loc 1 2163 9
 7431 00f0 00BF     		nop
 7432              	.L323:
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7433              		.loc 1 2149 27 discriminator 2
 7434 00f2 BB69     		ldr	r3, [r7, #24]
 7435 00f4 0133     		adds	r3, r3, #1
 7436 00f6 BB61     		str	r3, [r7, #24]
 7437              	.L321:
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7438              		.loc 1 2149 18 discriminator 1
 7439 00f8 BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccSAnDQs.s 			page 169


 7440 00fa 0F2B     		cmp	r3, #15
 7441 00fc C7D9     		bls	.L325
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending Host interrupts */
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 7442              		.loc 1 2169 3
 7443 00fe 7B69     		ldr	r3, [r7, #20]
 7444 0100 03F58063 		add	r3, r3, #1024
 7445 0104 1A46     		mov	r2, r3
 7446              		.loc 1 2169 20
 7447 0106 4FF0FF33 		mov	r3, #-1
 7448 010a 5361     		str	r3, [r2, #20]
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 7449              		.loc 1 2170 17
 7450 010c 7B68     		ldr	r3, [r7, #4]
 7451 010e 4FF0FF32 		mov	r2, #-1
 7452 0112 5A61     		str	r2, [r3, #20]
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_EnableGlobalInt(USBx);
 7453              		.loc 1 2172 9
 7454 0114 7868     		ldr	r0, [r7, #4]
 7455 0116 FFF7FEFF 		bl	USB_EnableGlobalInt
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 7456              		.loc 1 2174 10
 7457 011a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7458              		.loc 1 2175 1
 7459 011c 1846     		mov	r0, r3
 7460 011e 2037     		adds	r7, r7, #32
 7461              	.LCFI279:
 7462              		.cfi_def_cfa_offset 8
 7463 0120 BD46     		mov	sp, r7
 7464              	.LCFI280:
 7465              		.cfi_def_cfa_register 13
 7466              		@ sp needed
 7467 0122 80BD     		pop	{r7, pc}
 7468              		.cfi_endproc
 7469              	.LFE262:
 7471              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 7472              		.align	1
 7473              		.global	USB_ActivateRemoteWakeup
 7474              		.syntax unified
 7475              		.thumb
 7476              		.thumb_func
 7478              	USB_ActivateRemoteWakeup:
 7479              	.LFB263:
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup active remote wakeup signalling
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7480              		.loc 1 2183 1
ARM GAS  /tmp/ccSAnDQs.s 			page 170


 7481              		.cfi_startproc
 7482              		@ args = 0, pretend = 0, frame = 16
 7483              		@ frame_needed = 1, uses_anonymous_args = 0
 7484              		@ link register save eliminated.
 7485 0000 80B4     		push	{r7}
 7486              	.LCFI281:
 7487              		.cfi_def_cfa_offset 4
 7488              		.cfi_offset 7, -4
 7489 0002 85B0     		sub	sp, sp, #20
 7490              	.LCFI282:
 7491              		.cfi_def_cfa_offset 24
 7492 0004 00AF     		add	r7, sp, #0
 7493              	.LCFI283:
 7494              		.cfi_def_cfa_register 7
 7495 0006 7860     		str	r0, [r7, #4]
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7496              		.loc 1 2184 12
 7497 0008 7B68     		ldr	r3, [r7, #4]
 7498 000a FB60     		str	r3, [r7, #12]
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 7499              		.loc 1 2186 8
 7500 000c FB68     		ldr	r3, [r7, #12]
 7501 000e 03F50063 		add	r3, r3, #2048
 7502              		.loc 1 2186 19
 7503 0012 9B68     		ldr	r3, [r3, #8]
 7504              		.loc 1 2186 26
 7505 0014 03F00103 		and	r3, r3, #1
 7506              		.loc 1 2186 6
 7507 0018 012B     		cmp	r3, #1
 7508 001a 09D1     		bne	.L329
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* active Remote wakeup signalling */
2189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
 7509              		.loc 1 2189 16
 7510 001c FB68     		ldr	r3, [r7, #12]
 7511 001e 03F50063 		add	r3, r3, #2048
 7512 0022 5B68     		ldr	r3, [r3, #4]
 7513 0024 FA68     		ldr	r2, [r7, #12]
 7514 0026 02F50062 		add	r2, r2, #2048
 7515              		.loc 1 2189 23
 7516 002a 43F00103 		orr	r3, r3, #1
 7517 002e 5360     		str	r3, [r2, #4]
 7518              	.L329:
2190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 7519              		.loc 1 2192 10
 7520 0030 0023     		movs	r3, #0
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7521              		.loc 1 2193 1
 7522 0032 1846     		mov	r0, r3
 7523 0034 1437     		adds	r7, r7, #20
 7524              	.LCFI284:
 7525              		.cfi_def_cfa_offset 4
 7526 0036 BD46     		mov	sp, r7
 7527              	.LCFI285:
ARM GAS  /tmp/ccSAnDQs.s 			page 171


 7528              		.cfi_def_cfa_register 13
 7529              		@ sp needed
 7530 0038 5DF8047B 		ldr	r7, [sp], #4
 7531              	.LCFI286:
 7532              		.cfi_restore 7
 7533              		.cfi_def_cfa_offset 0
 7534 003c 7047     		bx	lr
 7535              		.cfi_endproc
 7536              	.LFE263:
 7538              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 7539              		.align	1
 7540              		.global	USB_DeActivateRemoteWakeup
 7541              		.syntax unified
 7542              		.thumb
 7543              		.thumb_func
 7545              	USB_DeActivateRemoteWakeup:
 7546              	.LFB264:
2194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7547              		.loc 1 2201 1
 7548              		.cfi_startproc
 7549              		@ args = 0, pretend = 0, frame = 16
 7550              		@ frame_needed = 1, uses_anonymous_args = 0
 7551              		@ link register save eliminated.
 7552 0000 80B4     		push	{r7}
 7553              	.LCFI287:
 7554              		.cfi_def_cfa_offset 4
 7555              		.cfi_offset 7, -4
 7556 0002 85B0     		sub	sp, sp, #20
 7557              	.LCFI288:
 7558              		.cfi_def_cfa_offset 24
 7559 0004 00AF     		add	r7, sp, #0
 7560              	.LCFI289:
 7561              		.cfi_def_cfa_register 7
 7562 0006 7860     		str	r0, [r7, #4]
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7563              		.loc 1 2202 12
 7564 0008 7B68     		ldr	r3, [r7, #4]
 7565 000a FB60     		str	r3, [r7, #12]
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* active Remote wakeup signalling */
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
 7566              		.loc 1 2205 14
 7567 000c FB68     		ldr	r3, [r7, #12]
 7568 000e 03F50063 		add	r3, r3, #2048
 7569 0012 5B68     		ldr	r3, [r3, #4]
 7570 0014 FA68     		ldr	r2, [r7, #12]
 7571 0016 02F50062 		add	r2, r2, #2048
 7572              		.loc 1 2205 21
 7573 001a 23F00103 		bic	r3, r3, #1
 7574 001e 5360     		str	r3, [r2, #4]
ARM GAS  /tmp/ccSAnDQs.s 			page 172


2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 7575              		.loc 1 2207 10
 7576 0020 0023     		movs	r3, #0
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7577              		.loc 1 2208 1
 7578 0022 1846     		mov	r0, r3
 7579 0024 1437     		adds	r7, r7, #20
 7580              	.LCFI290:
 7581              		.cfi_def_cfa_offset 4
 7582 0026 BD46     		mov	sp, r7
 7583              	.LCFI291:
 7584              		.cfi_def_cfa_register 13
 7585              		@ sp needed
 7586 0028 5DF8047B 		ldr	r7, [sp], #4
 7587              	.LCFI292:
 7588              		.cfi_restore 7
 7589              		.cfi_def_cfa_offset 0
 7590 002c 7047     		bx	lr
 7591              		.cfi_endproc
 7592              	.LFE264:
 7594              		.text
 7595              	.Letext0:
 7596              		.file 2 "/opt/arm-gnu-toolchain-12.2.rel1-x86_64-arm-none-eabi/arm-none-eabi/include/machine/_defa
 7597              		.file 3 "/opt/arm-gnu-toolchain-12.2.rel1-x86_64-arm-none-eabi/arm-none-eabi/include/sys/_stdint.h
 7598              		.file 4 "Drivers/CMSIS/Include/cmsis_gcc.h"
 7599              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f411xe.h"
 7600              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 7601              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 7602              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/ccSAnDQs.s 			page 173


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_ll_usb.c
     /tmp/ccSAnDQs.s:21     .text.USB_CoreInit:0000000000000000 $t
     /tmp/ccSAnDQs.s:27     .text.USB_CoreInit:0000000000000000 USB_CoreInit
     /tmp/ccSAnDQs.s:5216   .text.USB_CoreReset:0000000000000000 USB_CoreReset
     /tmp/ccSAnDQs.s:175    .text.USB_SetTurnaroundTime:0000000000000000 $t
     /tmp/ccSAnDQs.s:181    .text.USB_SetTurnaroundTime:0000000000000000 USB_SetTurnaroundTime
     /tmp/ccSAnDQs.s:397    .text.USB_SetTurnaroundTime:000000000000011c $d
     /tmp/ccSAnDQs.s:411    .text.USB_EnableGlobalInt:0000000000000000 $t
     /tmp/ccSAnDQs.s:417    .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
     /tmp/ccSAnDQs.s:462    .text.USB_DisableGlobalInt:0000000000000000 $t
     /tmp/ccSAnDQs.s:468    .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
     /tmp/ccSAnDQs.s:513    .text.USB_SetCurrentMode:0000000000000000 $t
     /tmp/ccSAnDQs.s:519    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
     /tmp/ccSAnDQs.s:4966   .text.USB_GetMode:0000000000000000 USB_GetMode
     /tmp/ccSAnDQs.s:642    .text.USB_DevInit:0000000000000000 $t
     /tmp/ccSAnDQs.s:648    .text.USB_DevInit:0000000000000000 USB_DevInit
     /tmp/ccSAnDQs.s:1328   .text.USB_SetDevSpeed:0000000000000000 USB_SetDevSpeed
     /tmp/ccSAnDQs.s:1117   .text.USB_FlushTxFifo:0000000000000000 USB_FlushTxFifo
     /tmp/ccSAnDQs.s:1225   .text.USB_FlushRxFifo:0000000000000000 USB_FlushRxFifo
     /tmp/ccSAnDQs.s:1106   .text.USB_DevInit:00000000000002c4 $d
     /tmp/ccSAnDQs.s:1111   .text.USB_FlushTxFifo:0000000000000000 $t
     /tmp/ccSAnDQs.s:1214   .text.USB_FlushTxFifo:0000000000000064 $d
     /tmp/ccSAnDQs.s:1219   .text.USB_FlushRxFifo:0000000000000000 $t
     /tmp/ccSAnDQs.s:1317   .text.USB_FlushRxFifo:000000000000005c $d
     /tmp/ccSAnDQs.s:1322   .text.USB_SetDevSpeed:0000000000000000 $t
     /tmp/ccSAnDQs.s:1383   .text.USB_GetDevSpeed:0000000000000000 $t
     /tmp/ccSAnDQs.s:1389   .text.USB_GetDevSpeed:0000000000000000 USB_GetDevSpeed
     /tmp/ccSAnDQs.s:1465   .text.USB_ActivateEndpoint:0000000000000000 $t
     /tmp/ccSAnDQs.s:1471   .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
     /tmp/ccSAnDQs.s:1660   .text.USB_ActivateDedicatedEndpoint:0000000000000000 $t
     /tmp/ccSAnDQs.s:1666   .text.USB_ActivateDedicatedEndpoint:0000000000000000 USB_ActivateDedicatedEndpoint
     /tmp/ccSAnDQs.s:1861   .text.USB_DeactivateEndpoint:0000000000000000 $t
     /tmp/ccSAnDQs.s:1867   .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
     /tmp/ccSAnDQs.s:2132   .text.USB_DeactivateEndpoint:00000000000001b0 $d
     /tmp/ccSAnDQs.s:2138   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 $t
     /tmp/ccSAnDQs.s:2144   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 USB_DeactivateDedicatedEndpoint
     /tmp/ccSAnDQs.s:2362   .text.USB_EPStartXfer:0000000000000000 $t
     /tmp/ccSAnDQs.s:2368   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
     /tmp/ccSAnDQs.s:3688   .text.USB_WritePacket:0000000000000000 USB_WritePacket
     /tmp/ccSAnDQs.s:2858   .text.USB_EPStartXfer:0000000000000370 $d
     /tmp/ccSAnDQs.s:2861   .text.USB_EPStartXfer:0000000000000374 $t
     /tmp/ccSAnDQs.s:3035   .text.USB_EPStartXfer:000000000000048c $d
     /tmp/ccSAnDQs.s:3040   .text.USB_EP0StartXfer:0000000000000000 $t
     /tmp/ccSAnDQs.s:3046   .text.USB_EP0StartXfer:0000000000000000 USB_EP0StartXfer
     /tmp/ccSAnDQs.s:3449   .text.USB_EPStopXfer:0000000000000000 $t
     /tmp/ccSAnDQs.s:3455   .text.USB_EPStopXfer:0000000000000000 USB_EPStopXfer
     /tmp/ccSAnDQs.s:3682   .text.USB_WritePacket:0000000000000000 $t
     /tmp/ccSAnDQs.s:3795   .text.USB_ReadPacket:0000000000000000 $t
     /tmp/ccSAnDQs.s:3801   .text.USB_ReadPacket:0000000000000000 USB_ReadPacket
     /tmp/ccSAnDQs.s:3942   .text.USB_EPSetStall:0000000000000000 $t
     /tmp/ccSAnDQs.s:3948   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
     /tmp/ccSAnDQs.s:4096   .text.USB_EPClearStall:0000000000000000 $t
     /tmp/ccSAnDQs.s:4102   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
     /tmp/ccSAnDQs.s:4244   .text.USB_StopDevice:0000000000000000 $t
     /tmp/ccSAnDQs.s:4250   .text.USB_StopDevice:0000000000000000 USB_StopDevice
     /tmp/ccSAnDQs.s:4371   .text.USB_SetDevAddress:0000000000000000 $t
ARM GAS  /tmp/ccSAnDQs.s 			page 174


     /tmp/ccSAnDQs.s:4377   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
     /tmp/ccSAnDQs.s:4445   .text.USB_DevConnect:0000000000000000 $t
     /tmp/ccSAnDQs.s:4451   .text.USB_DevConnect:0000000000000000 USB_DevConnect
     /tmp/ccSAnDQs.s:4510   .text.USB_DevDisconnect:0000000000000000 $t
     /tmp/ccSAnDQs.s:4516   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
     /tmp/ccSAnDQs.s:4575   .text.USB_ReadInterrupts:0000000000000000 $t
     /tmp/ccSAnDQs.s:4581   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
     /tmp/ccSAnDQs.s:4630   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 $t
     /tmp/ccSAnDQs.s:4636   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 USB_ReadDevAllOutEpInterrupt
     /tmp/ccSAnDQs.s:4693   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 $t
     /tmp/ccSAnDQs.s:4699   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 USB_ReadDevAllInEpInterrupt
     /tmp/ccSAnDQs.s:4756   .text.USB_ReadDevOutEPInterrupt:0000000000000000 $t
     /tmp/ccSAnDQs.s:4762   .text.USB_ReadDevOutEPInterrupt:0000000000000000 USB_ReadDevOutEPInterrupt
     /tmp/ccSAnDQs.s:4823   .text.USB_ReadDevInEPInterrupt:0000000000000000 $t
     /tmp/ccSAnDQs.s:4829   .text.USB_ReadDevInEPInterrupt:0000000000000000 USB_ReadDevInEPInterrupt
     /tmp/ccSAnDQs.s:4909   .text.USB_ClearInterrupts:0000000000000000 $t
     /tmp/ccSAnDQs.s:4915   .text.USB_ClearInterrupts:0000000000000000 USB_ClearInterrupts
     /tmp/ccSAnDQs.s:4960   .text.USB_GetMode:0000000000000000 $t
     /tmp/ccSAnDQs.s:5007   .text.USB_ActivateSetup:0000000000000000 $t
     /tmp/ccSAnDQs.s:5013   .text.USB_ActivateSetup:0000000000000000 USB_ActivateSetup
     /tmp/ccSAnDQs.s:5073   .text.USB_EP0_OutStart:0000000000000000 $t
     /tmp/ccSAnDQs.s:5079   .text.USB_EP0_OutStart:0000000000000000 USB_EP0_OutStart
     /tmp/ccSAnDQs.s:5206   .text.USB_EP0_OutStart:00000000000000b8 $d
     /tmp/ccSAnDQs.s:5211   .text.USB_CoreReset:0000000000000000 $t
     /tmp/ccSAnDQs.s:5311   .text.USB_CoreReset:0000000000000064 $d
     /tmp/ccSAnDQs.s:5316   .text.USB_HostInit:0000000000000000 $t
     /tmp/ccSAnDQs.s:5322   .text.USB_HostInit:0000000000000000 USB_HostInit
     /tmp/ccSAnDQs.s:5571   .text.USB_HostInit:000000000000016c $d
     /tmp/ccSAnDQs.s:5580   .text.USB_InitFSLSPClkSel:0000000000000000 $t
     /tmp/ccSAnDQs.s:5586   .text.USB_InitFSLSPClkSel:0000000000000000 USB_InitFSLSPClkSel
     /tmp/ccSAnDQs.s:5676   .text.USB_ResetPort:0000000000000000 $t
     /tmp/ccSAnDQs.s:5682   .text.USB_ResetPort:0000000000000000 USB_ResetPort
     /tmp/ccSAnDQs.s:5756   .text.USB_DriveVbus:0000000000000000 $t
     /tmp/ccSAnDQs.s:5762   .text.USB_DriveVbus:0000000000000000 USB_DriveVbus
     /tmp/ccSAnDQs.s:5858   .text.USB_GetHostSpeed:0000000000000000 $t
     /tmp/ccSAnDQs.s:5864   .text.USB_GetHostSpeed:0000000000000000 USB_GetHostSpeed
     /tmp/ccSAnDQs.s:5916   .text.USB_GetCurrentFrame:0000000000000000 $t
     /tmp/ccSAnDQs.s:5922   .text.USB_GetCurrentFrame:0000000000000000 USB_GetCurrentFrame
     /tmp/ccSAnDQs.s:5968   .text.USB_HC_Init:0000000000000000 $t
     /tmp/ccSAnDQs.s:5974   .text.USB_HC_Init:0000000000000000 USB_HC_Init
     /tmp/ccSAnDQs.s:6025   .text.USB_HC_Init:0000000000000044 $d
     /tmp/ccSAnDQs.s:6029   .text.USB_HC_Init:0000000000000054 $t
     /tmp/ccSAnDQs.s:6328   .text.USB_HC_StartXfer:0000000000000000 $t
     /tmp/ccSAnDQs.s:6334   .text.USB_HC_StartXfer:0000000000000000 USB_HC_StartXfer
     /tmp/ccSAnDQs.s:7167   .text.USB_DoPing:0000000000000000 USB_DoPing
     /tmp/ccSAnDQs.s:6679   .text.USB_HC_StartXfer:00000000000001f8 $d
     /tmp/ccSAnDQs.s:6683   .text.USB_HC_StartXfer:0000000000000208 $t
     /tmp/ccSAnDQs.s:6787   .text.USB_HC_StartXfer:0000000000000280 $d
     /tmp/ccSAnDQs.s:6792   .text.USB_HC_ReadInterrupt:0000000000000000 $t
     /tmp/ccSAnDQs.s:6798   .text.USB_HC_ReadInterrupt:0000000000000000 USB_HC_ReadInterrupt
     /tmp/ccSAnDQs.s:6844   .text.USB_HC_Halt:0000000000000000 $t
     /tmp/ccSAnDQs.s:6850   .text.USB_HC_Halt:0000000000000000 USB_HC_Halt
     /tmp/ccSAnDQs.s:7161   .text.USB_DoPing:0000000000000000 $t
     /tmp/ccSAnDQs.s:7258   .text.USB_DoPing:0000000000000074 $d
     /tmp/ccSAnDQs.s:7263   .text.USB_StopHost:0000000000000000 $t
     /tmp/ccSAnDQs.s:7269   .text.USB_StopHost:0000000000000000 USB_StopHost
     /tmp/ccSAnDQs.s:7472   .text.USB_ActivateRemoteWakeup:0000000000000000 $t
ARM GAS  /tmp/ccSAnDQs.s 			page 175


     /tmp/ccSAnDQs.s:7478   .text.USB_ActivateRemoteWakeup:0000000000000000 USB_ActivateRemoteWakeup
     /tmp/ccSAnDQs.s:7539   .text.USB_DeActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccSAnDQs.s:7545   .text.USB_DeActivateRemoteWakeup:0000000000000000 USB_DeActivateRemoteWakeup

UNDEFINED SYMBOLS
HAL_Delay
